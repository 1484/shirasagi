//! moment.js
//! version : 2.11.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
//  Copyright (c) 2002 M.Inamori,All rights reserved.
function sprintf(){var t=sprintf.arguments,e=t.length;if(0==e)return"";var n,r,i,s="",o=t[0],a=o.length;n=0;for(var l,u,c=1,d=0,h=0;a>h;h++){var p=o.charAt(h);switch(d){case 0:"%"==p?(l=p,d=1,u=""):s+=p;break;case 1:if("%"==p){s+=p,d=0;break}switch(c>=e&&(t[e++]=""),r=0,i=-1,p){case"-":n|=1,d=1;break;case"+":n|=2,d=1;break;case"0":n|=4,d=2;break;case" ":n|=8,d=1;break;case"#":n|=16,d=1;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=parseInt(p),d=2;break;case"-":n=1,d=2;break;case".":r="",i=0,d=3;break;case"d":s+=toInteger(t[c],n,r,i),c++,d=0;break;case"f":s+=toFloatingPoint(t[c],n,r,6),c++,d=0;break;case"e":s+=toExponential(t[c],n,r,6,"e"),c++,d=0;break;case"E":s+=toExponential(t[c],n,r,6,"E"),c++,d=0;break;case"s":s+=t[c],c++,d=0;break;default:s+=u+p,d=0}break;case 2:switch(p){case".":i=0,d=3;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=10*r+parseInt(p),d=2;break;case"d":s+=toInteger(t[c],n,r,i),c++,d=0;break;case"f":s+=toFloatingPoint(t[c],n,r,6),c++,d=0;break;case"e":s+=toExponential(t[c],n,r,6,"e"),c++,d=0;break;case"E":s+=toExponential(t[c],n,r,6,"E"),c++,d=0;break;case"s":s+=toFormatString(t[c],r,i),c++,d=0;break;default:s+=u+p,d=0}break;case 3:switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=10*i+parseInt(p);break;case"d":s+=toInteger(t[c],n,r,i),c++,d=0;break;case"f":s+=toFloatingPoint(t[c],n,r,i),c++,d=0;break;case"e":s+=toExponential(t[c],n,r,i,"e"),c++,d=0;break;case"E":s+=toExponential(t[c],n,r,i,"E"),c++,d=0;break;case"s":s+=toFormatString(t[c],r,i),c++,d=0;break;default:s+=u+p,d=0}break;default:return"error"}d&&(u+=p)}return s}function toInteger(t,e,n,r){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var i=t.toString();if(t>-1&&1>t)i="0";else{0>t&&(i=i.substring(1));var s=i.indexOf("e");if(-1!=s){var o=parseInt(i.substring(s+2)),a=i.indexOf(".");for(-1==a?(i=i.substring(0,s)+"000000000000000000000",o-=21):(i=i.substring(0,a)+i.substring(a+1,s)+"00000",o-=i.length-a);o;o--)i+="0"}else{var a=i.indexOf(".");-1!=a&&(i=i.substring(0,a))}}var l=i.length;if(r>l){for(var u="0",c=r-l;c;c--)i=u+i;l=r}return ProcFlag(i,e,n-l,t>=0)}function toFloatingPoint(t,e,n,r){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var i=t>=0;return i||(t=-t),str=toFloatingPoint2(t,e,r),ProcFlag(str,e,n-str.length,i)}function toFloatingPoint2(t,e,n){var r=t.toString(),i=r.indexOf("e");if(-1!=i){var s=parseInt(r.substring(i+1));if(s>0){var o=r.indexOf(".");for(-1==o?(r=r.substring(0,i)+"000000000000000000000",s-=21):(r=r.charAt(0)+r.substring(2,i)+"00000",s-=r.length-1);s;s--)r+="0"}else{var a=s+n;if(-1>a)r="0";else if(a>=0){r=r.substring(0,i);var o=r.indexOf(".");for(-1!=o&&(r=r.charAt(0)+r.substring(2,i)),r="000000"+r,s+=7;s;s++)r="0"+r;r="0."+r}else{var l=parseFloat(r.substring(0,i));if(l>5){r="0.00000";for(var u=s+7;u;u++)r+="0";r+="1"}else r="0"}}}var c=r.length,o=r.indexOf(".");if(-1!=o){var d=c-o-1;if(d>n){var l=parseFloat(r.charAt(o+n+1)+"."+r.substring(o+n+2));if(l>5){var u;if(1>t){for(u=2;"0"==r.charAt(u);)u++;l=(parseInt(r.substring(u,n+2))+1).toString(),r=l.length>n+2-u?2==u?"1."+l.substring(1):r.substring(0,u-1)+l:r.substring(0,u)+l}else l=(parseInt(r.substring(0,o)+r.substring(o+1,o+n+1))+1).toString(),r=l.length>o+n?l.substring(0,o+1)+"."+l.substring(o+1):l.substring(0,o)+"."+l.substring(o)}else r=r.substring(0,n?o+n+1:o)}else if(n>d)for(var u=n-d;u;u--)r+="0"}else if(n){r+=".0";for(var u=n-1;u;u--)r+="0"}return r}function toExponential(t,e,n,r,i){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var s=t>=0;s||(t=-t);var o,a=t.toString(),l=a.indexOf("."),u=a.indexOf("e"),c=((-1!=u)<<1)+(-1!=l);if(0==c)(o=a.length-1)&&(a=a.charAt(0)+"."+a.substring(l=1));else if(1==c)if(t>10)o=l-1,a=a.substring(0,1)+"."+a.substring(1,l)+a.substring(l+1),l=1;else if(t>1)o=0;else{for(var d=2;;d++)if("0"!=a.charAt(d)){o=1-d,a=a.charAt(d)+"."+a.substring(d+1);break}l=1}else o=parseInt(a.substring(u+1)),a=a.substring(0,u);return a=toFloatingPoint2(parseFloat(a),e,r),a+=o>=0?i+(10>o?"+0":"+")+o:i+(o>-10?"-0"+-o:o),a=ProcFlag(a,e,n-a.length,s)}function toFormatString(t,e,n){"string"!=typeof t&&(t=t.toString());var r=t.length;if(n>=0&&r>n&&(t=t.substring(0,n),r=n),e>r)for(var i=" ",s=e-r;s;s--)t=i+t;return t}function ProcFlag(t,e,n,r){var i=1&e,s=2&e,o=8&e;if(o&&n--,n-=!r+s>0,(4&e)>0&&!i){if(n>0)for(var a="0",l=n;l;l--)t=a+t;r?s&&(t="+"+t):t="-"+t}else{r?s&&(t="+"+t):t="-"+t;var a=" ";if(n>0){var a=" ";if(i)for(var l=n;l;l--)t+=a;else for(var l=n;l;l--)t=a+t}}return o&&(t=" "+t),t}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Vn.apply(null,arguments)}function e(t){Vn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,r){return Et(t,e,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=a(NaN);return null!=t?o(u(e),t):u(e).userInvalidated=!0,e}function h(t){return void 0===t}function p(t,e){var n,r,i;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=u(e)),h(e._locale)||(t._locale=e._locale),An.length>0)for(n in An)r=An[n],i=e[r],h(i)||(t[r]=i);return t}function f(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),jn===!1&&(jn=!0,t.updateOffset(this),jn=!1)}function g(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function y(t,e,n){var r,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&v(t[r])!==v(e[r]))&&o++;return o+s}function w(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function S(t){for(var e,n,r,i,s=0;s<t.length;){for(i=b(t[s]).split("-"),e=i.length,n=b(t[s+1]),n=n?n.split("-"):null;e>0;){if(r=C(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&y(i,n,!0)>=e-1)break;e--}s++}return null}function C(t){var e=null;if(!Un[t]&&!h(module)&&module&&module.exports)try{e=$n._abbr,require("./locale/"+t),_(e)}catch(n){}return Un[t]}function _(t,e){var n;return t&&(n=h(e)?E(t):D(t,e),n&&($n=n)),$n._abbr}function D(t,e){return null!==e?(e.abbr=t,Un[t]=Un[t]||new w,Un[t].set(e),_(t),Un[t]):(delete Un[t],null)}function E(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $n;if(!n(t)){if(e=C(t))return e;t=[t]}return S(t)}function R(t,e){var n=t.toLowerCase();qn[n]=qn[n+"s"]=qn[e]=t}function T(t){return"string"==typeof t?qn[t]||qn[t.toLowerCase()]:void 0}function H(t){var e,n,r={};for(n in t)s(t,n)&&(e=T(n),e&&(r[e]=t[n]));return r}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(e,n){return function(r){return null!=r?(I(this,e,r),t.updateOffset(this,n),this):M(this,e)}}function M(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function I(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function F(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=T(t),x(this[t]))return this[t](e);return this}function G(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function Y(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Jn[t]=i),e&&(Jn[e[0]]=function(){return G(i.apply(this,arguments),e[1],e[2])}),n&&(Jn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,n,r=t.match(Zn);for(e=0,n=r.length;n>e;e++)Jn[r[e]]?r[e]=Jn[r[e]]:r[e]=L(r[e]);return function(i){var s="";for(e=0;n>e;e++)s+=r[e]instanceof Function?r[e].call(i,t):r[e];return s}}function W(t,e){return t.isValid()?(e=B(e,t.localeData()),Qn[e]=Qn[e]||P(e),Qn[e](t)):t.localeData().invalidDate()}function B(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Xn.lastIndex=0;r>=0&&Xn.test(t);)t=t.replace(Xn,n),Xn.lastIndex=0,r-=1;return t}function z(t,e,n){mr[t]=x(e)?e:function(t){return t&&n?n:e}}function O(t,e){return s(mr,t)?mr[t](e._strict,e._locale):new RegExp(N(t))}function N(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)vr[t[n]]=r}function $(t,e){V(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function A(t,e,n){null!=e&&s(vr,t)&&vr[t](e,n._a,n,t)}function j(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function U(t,e){return n(this._months)?this._months[t.month()]:this._months[Tr.test(e)?"format":"standalone"][t.month()]}function q(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Tr.test(e)?"format":"standalone"][t.month()]}function Z(t,e,n){var r,i,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=a([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function X(t,e){var n;return t.isValid()?"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),j(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t):t}function Q(e){return null!=e?(X(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function J(){return j(this.year(),this.month())}function K(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[wr]<0||n[wr]>11?wr:n[br]<1||n[br]>j(n[yr],n[wr])?br:n[Sr]<0||n[Sr]>24||24===n[Sr]&&(0!==n[Cr]||0!==n[_r]||0!==n[Dr])?Sr:n[Cr]<0||n[Cr]>59?Cr:n[_r]<0||n[_r]>59?_r:n[Dr]<0||n[Dr]>999?Dr:-1,u(t)._overflowDayOfYear&&(yr>e||e>br)&&(e=br),u(t)._overflowWeeks&&-1===e&&(e=Er),u(t)._overflowWeekday&&-1===e&&(e=Rr),u(t).overflow=e),t}function tt(e){t.suppressDeprecationWarnings===!1&&!h(console)&&console.warn&&console.warn("Deprecation warning: "+e)}function et(t,e){var n=!0;return o(function(){return n&&(tt(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function nt(t,e){kr[t]||(tt(e),kr[t]=!0)}function rt(t){var e,n,r,i,s,o,a=t._i,l=Mr.exec(a)||Ir.exec(a);if(l){for(u(t).iso=!0,e=0,n=Gr.length;n>e;e++)if(Gr[e][1].exec(l[1])){i=Gr[e][0],r=Gr[e][2]!==!1;break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=Yr.length;n>e;e++)if(Yr[e][1].exec(l[3])){s=(l[2]||" ")+Yr[e][0];break}if(null==s)return void(t._isValid=!1)}if(!r&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Fr.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(s||"")+(o||""),yt(t)}else t._isValid=!1}function it(e){var n=Lr.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(rt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function st(t,e,n,r,i,s,o){var a=new Date(t,e,n,r,i,s,o);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function at(t){return lt(t)?366:365}function lt(t){return t%4===0&&t%100!==0||t%400===0}function ut(){return lt(this.year())}function ct(t,e,n){var r=7+e-n,i=(7+ot(t,0,r).getUTCDay()-e)%7;return-i+r-1}function dt(t,e,n,r,i){var s,o,a=(7+n-r)%7,l=ct(t,r,i),u=1+7*(e-1)+a+l;return 0>=u?(s=t-1,o=at(s)+u):u>at(t)?(s=t+1,o=u-at(t)):(s=t,o=u),{year:s,dayOfYear:o}}function ht(t,e,n){var r,i,s=ct(t.year(),e,n),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return 1>o?(i=t.year()-1,r=o+pt(i,e,n)):o>pt(t.year(),e,n)?(r=o-pt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function pt(t,e,n){var r=ct(t,e,n),i=ct(t+1,e,n);return(at(t)-r+i)/7}function ft(t,e,n){return null!=t?t:null!=e?e:n}function gt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function mt(t){var e,n,r,i,s=[];if(!t._d){for(r=gt(t),t._w&&null==t._a[br]&&null==t._a[wr]&&vt(t),t._dayOfYear&&(i=ft(t._a[yr],r[yr]),t._dayOfYear>at(i)&&(u(t)._overflowDayOfYear=!0),n=ot(i,0,t._dayOfYear),t._a[wr]=n.getUTCMonth(),t._a[br]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Sr]&&0===t._a[Cr]&&0===t._a[_r]&&0===t._a[Dr]&&(t._nextDay=!0,t._a[Sr]=0),t._d=(t._useUTC?ot:st).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Sr]=24)}}function vt(t){var e,n,r,i,s,o,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,n=ft(e.GG,t._a[yr],ht(Rt(),1,4).year),r=ft(e.W,1),i=ft(e.E,1),(1>i||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,n=ft(e.gg,t._a[yr],ht(Rt(),s,o).year),r=ft(e.w,1),null!=e.d?(i=e.d,(0>i||i>6)&&(l=!0)):null!=e.e?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),1>r||r>pt(n,s,o)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(a=dt(n,r,i,s,o),t._a[yr]=a.year,t._dayOfYear=a.dayOfYear)}function yt(e){if(e._f===t.ISO_8601)return void rt(e);e._a=[],u(e).empty=!0;var n,r,i,s,o,a=""+e._i,l=a.length,c=0;for(i=B(e._f,e._locale).match(Zn)||[],n=0;n<i.length;n++)s=i[n],r=(a.match(O(s,e))||[])[0],r&&(o=a.substr(0,a.indexOf(r)),o.length>0&&u(e).unusedInput.push(o),a=a.slice(a.indexOf(r)+r.length),c+=r.length),Jn[s]?(r?u(e).empty=!1:u(e).unusedTokens.push(s),A(s,r,e)):e._strict&&!r&&u(e).unusedTokens.push(s);u(e).charsLeftOver=l-c,a.length>0&&u(e).unusedInput.push(a),u(e).bigHour===!0&&e._a[Sr]<=12&&e._a[Sr]>0&&(u(e).bigHour=void 0),e._a[Sr]=wt(e._locale,e._a[Sr],e._meridiem),mt(e),K(e)}function wt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function bt(t){var e,n,r,i,s;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],yt(e),c(e)&&(s+=u(e).charsLeftOver,s+=10*u(e).unusedTokens.length,u(e).score=s,(null==r||r>s)&&(r=s,n=e));o(t,n||e)}function St(t){if(!t._d){var e=H(t._i);t._a=i([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),mt(t)}}function Ct(t){var e=new f(K(_t(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function _t(t){var e=t._i,i=t._f;return t._locale=t._locale||E(t._l),null===e||void 0===i&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new f(K(e)):(n(i)?bt(t):i?yt(t):r(e)?t._d=e:Dt(t),c(t)||(t._d=null),t))}function Dt(e){var s=e._i;void 0===s?e._d=new Date(t.now()):r(s)?e._d=new Date(+s):"string"==typeof s?it(e):n(s)?(e._a=i(s.slice(0),function(t){return parseInt(t,10)}),mt(e)):"object"==typeof s?St(e):"number"==typeof s?e._d=new Date(s):t.createFromInputFallback(e)}function Et(t,e,n,r,i){var s={};return"boolean"==typeof n&&(r=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,Ct(s)}function Rt(t,e,n,r){return Et(t,e,n,r,!1)}function Tt(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Rt();for(r=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](r))&&(r=e[i]);return r}function Ht(){var t=[].slice.call(arguments,0);return Tt("isBefore",t)}function xt(){var t=[].slice.call(arguments,0);return Tt("isAfter",t)}function kt(t){var e=H(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=E(),this._bubble()}function Mt(t){return t instanceof kt}function It(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+G(~~(t/60),2)+e+G(~~t%60,2)})}function Ft(t,e){var n=(e||"").match(t)||[],r=n[n.length-1]||[],i=(r+"").match(Or)||["-",0,0],s=+(60*i[1])+v(i[2]);return"+"===i[0]?s:-s}function Gt(e,n){var i,s;return n._isUTC?(i=n.clone(),s=(g(e)||r(e)?+e:+Rt(e))-+i,i._d.setTime(+i._d+s),t.updateOffset(i,!1),i):Rt(e).local()}function Yt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(e,n){var r,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Ft(pr,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Yt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?Jt(this,Ut(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Yt(this):null!=e?this:NaN}function Pt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Wt(t){return this.utcOffset(0,t)}function Bt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Yt(this),"m")),this}function zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ft(hr,this._i)),this}function Ot(t){return this.isValid()?(t=t?Rt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Nt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=_t(t),t._a){var e=t._isUTC?a(t._a):Rt(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $t(){return this.isValid()?!this._isUTC:!1}function At(){return this.isValid()?this._isUTC:!1}function jt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ut(t,e){var n,r,i,o=t,a=null;return Mt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Nr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:v(a[br])*n,h:v(a[Sr])*n,m:v(a[Cr])*n,s:v(a[_r])*n,ms:v(a[Dr])*n}):(a=Vr.exec(t))?(n="-"===a[1]?-1:1,o={y:qt(a[2],n),M:qt(a[3],n),d:qt(a[4],n),h:qt(a[5],n),m:qt(a[6],n),s:qt(a[7],n),w:qt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Xt(Rt(o.from),Rt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new kt(o),Mt(t)&&s(t,"_locale")&&(r._locale=t._locale),r}function qt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Zt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Xt(t,e){var n;return t.isValid()&&e.isValid()?(e=Gt(e,t),t.isBefore(e)?n=Zt(t,e):(n=Zt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Qt(t,e){return function(n,r){var i,s;return null===r||isNaN(+r)||(nt(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=r,r=s),n="string"==typeof n?+n:n,i=Ut(n,r),Jt(this,i,t),this}}function Jt(e,n,r,i){var s=n._milliseconds,o=n._days,a=n._months;e.isValid()&&(i=null==i?!0:i,s&&e._d.setTime(+e._d+s*r),o&&I(e,"Date",M(e,"Date")+o*r),a&&X(e,M(e,"Month")+a*r),i&&t.updateOffset(e,o||a))}function Kt(t,e){var n=t||Rt(),r=Gt(n,this).startOf("day"),i=this.diff(r,"days",!0),s=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",o=e&&(x(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,Rt(n)))}function te(){return new f(this)}function ee(t,e){var n=g(t)?t:Rt(t);return this.isValid()&&n.isValid()?(e=T(h(e)?"millisecond":e),"millisecond"===e?+this>+n:+n<+this.clone().startOf(e)):!1}function ne(t,e){var n=g(t)?t:Rt(t);return this.isValid()&&n.isValid()?(e=T(h(e)?"millisecond":e),"millisecond"===e?+n>+this:+this.clone().endOf(e)<+n):!1}function re(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ie(t,e){var n,r=g(t)?t:Rt(t);return this.isValid()&&r.isValid()?(e=T(e||"millisecond"),"millisecond"===e?+this===+r:(n=+r,+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))):!1}function se(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function oe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ae(t,e,n){var r,i,s,o;return this.isValid()?(r=Gt(t,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),e=T(e),"year"===e||"month"===e||"quarter"===e?(o=le(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-r,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-i)/864e5:"week"===e?(s-i)/6048e5:s),n?o:m(o)):NaN):NaN}function le(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(i,"months");return 0>e-s?(n=t.clone().add(i-1,"months"),r=(e-s)/(s-n)):(n=t.clone().add(i+1,"months"),r=(e-s)/(n-s)),-(i+r)}function ue(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ce(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():W(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var n=W(this,e||t.defaultFormat);return this.localeData().postformat(n)}function he(t,e){return this.isValid()&&(g(t)&&t.isValid()||Rt(t).isValid())?Ut({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(Rt(),t)}function fe(t,e){return this.isValid()&&(g(t)&&t.isValid()||Rt(t).isValid())?Ut({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to(Rt(),t)}function me(t){var e;return void 0===t?this._locale._abbr:(e=E(t),null!=e&&(this._locale=e),this)}function ve(){return this._locale}function ye(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function be(){return+this._d-6e4*(this._offset||0)}function Se(){return Math.floor(+this/1e3)}function Ce(){return this._offset?new Date(+this):this._d}function _e(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function De(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ee(){return this.isValid()?this.toISOString():"null"}function Re(){return c(this)}function Te(){return o({},u(this))}function He(){return u(this).overflow}function xe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ke(t,e){Y(0,[t,t.length],0,e)}function Me(t){return Ye.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ie(t){return Ye.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Fe(){return pt(this.year(),1,4)}function Ge(){var t=this.localeData()._week;return pt(this.year(),t.dow,t.doy)}function Ye(t,e,n,r,i){var s;return null==t?ht(this,r,i).year:(s=pt(t,r,i),e>s&&(e=s),Le.call(this,t,e,n,r,i))}function Le(t,e,n,r,i){var s=dt(t,e,n,r,i),o=ot(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Pe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function We(t){return ht(t,this._week.dow,this._week.doy).week}function Be(){return this._week.dow}function ze(){return this._week.doy}function Oe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ne(t){var e=ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ve(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function $e(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Ae(t){return this._weekdaysShort[t.day()]}function je(t){return this._weekdaysMin[t.day()]}function Ue(t,e,n){var r,i,s;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=Rt([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function qe(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ve(t,this.localeData()),this.add(t-e,"d")):e}function Ze(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Xe(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function Qe(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Je(){return this.hours()%12||12}function Ke(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}function nn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function rn(t,e){e[Dr]=v(1e3*("0."+t))}function sn(){return this._isUTC?"UTC":""}function on(){return this._isUTC?"Coordinated Universal Time":""}function an(t){return Rt(1e3*t)}function ln(){return Rt.apply(null,arguments).parseZone()}function un(t,e,n){var r=this._calendar[t];return x(r)?r.call(e,n):r}function cn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function dn(){return this._invalidDate}function hn(t){return this._ordinal.replace("%d",t)}function pn(t){return t}function fn(t,e,n,r){var i=this._relativeTime[n];return x(i)?i(t,e,n,r):i.replace(/%d/i,t)}function gn(t,e){var n=this._relativeTime[t>0?"future":"past"];return x(n)?n(e):n.replace(/%s/i,e)}function mn(t){var e,n;for(n in t)e=t[n],x(e)?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function vn(t,e,n,r){var i=E(),s=a().set(r,e);return i[n](s,t)}function yn(t,e,n,r,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return vn(t,e,n,i);var s,o=[];for(s=0;r>s;s++)o[s]=vn(t,s,n,i);return o}function wn(t,e){return yn(t,e,"months",12,"month")}function bn(t,e){return yn(t,e,"monthsShort",12,"month")}function Sn(t,e){return yn(t,e,"weekdays",7,"day")}function Cn(t,e){return yn(t,e,"weekdaysShort",7,"day")}function _n(t,e){return yn(t,e,"weekdaysMin",7,"day")}function Dn(){var t=this._data;return this._milliseconds=pi(this._milliseconds),this._days=pi(this._days),this._months=pi(this._months),t.milliseconds=pi(t.milliseconds),t.seconds=pi(t.seconds),t.minutes=pi(t.minutes),t.hours=pi(t.hours),t.months=pi(t.months),t.years=pi(t.years),this}function En(t,e,n,r){var i=Ut(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Rn(t,e){return En(this,t,e,1)}function Tn(t,e){return En(this,t,e,-1)}function Hn(t){return 0>t?Math.floor(t):Math.ceil(t)}function xn(){var t,e,n,r,i,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*Hn(Mn(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=m(s/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,o+=m(n/24),i=m(kn(o)),a+=i,o-=Hn(Mn(i)),r=m(a/12),a%=12,l.days=o,l.months=a,l.years=r,this}function kn(t){return 4800*t/146097}function Mn(t){return 146097*t/4800}function In(t){var e,n,r=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+kn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Mn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Fn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Gn(t){return function(){return this.as(t)}}function Yn(t){return t=T(t),this[t+"s"]()}function Ln(t){return function(){return this._data[t]}}function Pn(){return m(this.days()/7)}function Wn(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Bn(t,e,n){var r=Ut(t).abs(),i=xi(r.as("s")),s=xi(r.as("m")),o=xi(r.as("h")),a=xi(r.as("d")),l=xi(r.as("M")),u=xi(r.as("y")),c=i<ki.s&&["s",i]||1>=s&&["m"]||s<ki.m&&["mm",s]||1>=o&&["h"]||o<ki.h&&["hh",o]||1>=a&&["d"]||a<ki.d&&["dd",a]||1>=l&&["M"]||l<ki.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,Wn.apply(null,c)}function zn(t,e){return void 0===ki[t]?!1:void 0===e?ki[t]:(ki[t]=e,!0)}function On(t){var e=this.localeData(),n=Bn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Nn(){var t,e,n,r=Mi(this._milliseconds)/1e3,i=Mi(this._days),s=Mi(this._months);t=m(r/60),e=m(t/60),r%=60,t%=60,n=m(s/12),s%=12;var o=n,a=s,l=i,u=e,c=t,d=r,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Vn,$n,An=t.momentProperties=[],jn=!1,Un={},qn={},Zn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Xn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Qn={},Jn={},Kn=/\d/,tr=/\d\d/,er=/\d{3}/,nr=/\d{4}/,rr=/[+-]?\d{6}/,ir=/\d\d?/,sr=/\d\d\d\d?/,or=/\d\d\d\d\d\d?/,ar=/\d{1,3}/,lr=/\d{1,4}/,ur=/[+-]?\d{1,6}/,cr=/\d+/,dr=/[+-]?\d+/,hr=/Z|[+-]\d\d:?\d\d/gi,pr=/Z|[+-]\d\d(?::?\d\d)?/gi,fr=/[+-]?\d+(\.\d{1,3})?/,gr=/[0-9]*(a[mn]\s?)?['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,mr={},vr={},yr=0,wr=1,br=2,Sr=3,Cr=4,_r=5,Dr=6,Er=7,Rr=8;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),z("M",ir),z("MM",ir,tr),z("MMM",gr),z("MMMM",gr),V(["M","MM"],function(t,e){e[wr]=v(t)-1}),V(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[wr]=i:u(n).invalidMonth=t});var Tr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Hr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),kr={};
t.suppressDeprecationWarnings=!1;var Mr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ir=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Fr=/Z|[+-]\d\d(?::?\d\d)?/,Gr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Yr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=et("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),R("year","y"),z("Y",dr),z("YY",ir,tr),z("YYYY",lr,nr),z("YYYYY",ur,rr),z("YYYYYY",ur,rr),V(["YYYYY","YYYYYY"],yr),V("YYYY",function(e,n){n[yr]=2===e.length?t.parseTwoDigitYear(e):v(e)}),V("YY",function(e,n){n[yr]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Pr=k("FullYear",!1);t.ISO_8601=function(){};var Wr=et("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:d()}),Br=et("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),zr=Date.now||function(){return+new Date};It("Z",":"),It("ZZ",""),z("Z",pr),z("ZZ",pr),V(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ft(pr,t)});var Or=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Nr=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Vr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ut.fn=kt.prototype;var $r=Qt(1,"add"),Ar=Qt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var jr=et("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ke("gggg","weekYear"),ke("ggggg","weekYear"),ke("GGGG","isoWeekYear"),ke("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),z("G",dr),z("g",dr),z("GG",ir,tr),z("gg",ir,tr),z("GGGG",lr,nr),z("gggg",lr,nr),z("GGGGG",ur,rr),z("ggggg",ur,rr),$(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=v(t)}),$(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),R("quarter","Q"),z("Q",Kn),V("Q",function(t,e){e[wr]=3*(v(t)-1)}),Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),z("w",ir),z("ww",ir,tr),z("W",ir),z("WW",ir,tr),$(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=v(t)});var Ur={dow:0,doy:6};Y("D",["DD",2],"Do","date"),R("date","D"),z("D",ir),z("DD",ir,tr),z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),V(["D","DD"],br),V("Do",function(t,e){e[br]=v(t.match(ir)[0],10)});var qr=k("Date",!0);Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),z("d",ir),z("e",ir),z("E",ir),z("dd",gr),z("ddd",gr),z("dddd",gr),$(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:u(n).invalidWeekday=t}),$(["d","e","E"],function(t,e,n,r){e[r]=v(t)});var Zr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");Y("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),z("DDD",ar),z("DDDD",er),V(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Je),Y("hmm",0,0,function(){return""+Je.apply(this)+G(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Je.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+G(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),R("hour","h"),z("a",tn),z("A",tn),z("H",ir),z("h",ir),z("HH",ir,tr),z("hh",ir,tr),z("hmm",sr),z("hmmss",or),z("Hmm",sr),z("Hmmss",or),V(["H","HH"],Sr),V(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),V(["h","hh"],function(t,e,n){e[Sr]=v(t),u(n).bigHour=!0}),V("hmm",function(t,e,n){var r=t.length-2;e[Sr]=v(t.substr(0,r)),e[Cr]=v(t.substr(r)),u(n).bigHour=!0}),V("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Sr]=v(t.substr(0,r)),e[Cr]=v(t.substr(r,2)),e[_r]=v(t.substr(i)),u(n).bigHour=!0}),V("Hmm",function(t,e,n){var r=t.length-2;e[Sr]=v(t.substr(0,r)),e[Cr]=v(t.substr(r))}),V("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Sr]=v(t.substr(0,r)),e[Cr]=v(t.substr(r,2)),e[_r]=v(t.substr(i))});var Jr=/[ap]\.?m?\.?/i,Kr=k("Hours",!0);Y("m",["mm",2],0,"minute"),R("minute","m"),z("m",ir),z("mm",ir,tr),V(["m","mm"],Cr);var ti=k("Minutes",!1);Y("s",["ss",2],0,"second"),R("second","s"),z("s",ir),z("ss",ir,tr),V(["s","ss"],_r);var ei=k("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),z("S",ar,Kn),z("SS",ar,tr),z("SSS",ar,er);var ni;for(ni="SSSS";ni.length<=9;ni+="S")z(ni,cr);for(ni="S";ni.length<=9;ni+="S")V(ni,rn);var ri=k("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var ii=f.prototype;ii.add=$r,ii.calendar=Kt,ii.clone=te,ii.diff=ae,ii.endOf=we,ii.format=de,ii.from=he,ii.fromNow=pe,ii.to=fe,ii.toNow=ge,ii.get=F,ii.invalidAt=He,ii.isAfter=ee,ii.isBefore=ne,ii.isBetween=re,ii.isSame=ie,ii.isSameOrAfter=se,ii.isSameOrBefore=oe,ii.isValid=Re,ii.lang=jr,ii.locale=me,ii.localeData=ve,ii.max=Br,ii.min=Wr,ii.parsingFlags=Te,ii.set=F,ii.startOf=ye,ii.subtract=Ar,ii.toArray=_e,ii.toObject=De,ii.toDate=Ce,ii.toISOString=ce,ii.toJSON=Ee,ii.toString=ue,ii.unix=Se,ii.valueOf=be,ii.creationData=xe,ii.year=Pr,ii.isLeapYear=ut,ii.weekYear=Me,ii.isoWeekYear=Ie,ii.quarter=ii.quarters=Pe,ii.month=Q,ii.daysInMonth=J,ii.week=ii.weeks=Oe,ii.isoWeek=ii.isoWeeks=Ne,ii.weeksInYear=Ge,ii.isoWeeksInYear=Fe,ii.date=qr,ii.day=ii.days=qe,ii.weekday=Ze,ii.isoWeekday=Xe,ii.dayOfYear=Qe,ii.hour=ii.hours=Kr,ii.minute=ii.minutes=ti,ii.second=ii.seconds=ei,ii.millisecond=ii.milliseconds=ri,ii.utcOffset=Lt,ii.utc=Wt,ii.local=Bt,ii.parseZone=zt,ii.hasAlignedHourOffset=Ot,ii.isDST=Nt,ii.isDSTShifted=Vt,ii.isLocal=$t,ii.isUtcOffset=At,ii.isUtc=jt,ii.isUTC=jt,ii.zoneAbbr=sn,ii.zoneName=on,ii.dates=et("dates accessor is deprecated. Use date instead.",qr),ii.months=et("months accessor is deprecated. Use month instead",Q),ii.years=et("years accessor is deprecated. Use year instead",Pr),ii.zone=et("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Pt);var si=ii,oi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ai={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},li="Invalid date",ui="%d",ci=/\d{1,2}/,di={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},hi=w.prototype;hi._calendar=oi,hi.calendar=un,hi._longDateFormat=ai,hi.longDateFormat=cn,hi._invalidDate=li,hi.invalidDate=dn,hi._ordinal=ui,hi.ordinal=hn,hi._ordinalParse=ci,hi.preparse=pn,hi.postformat=pn,hi._relativeTime=di,hi.relativeTime=fn,hi.pastFuture=gn,hi.set=mn,hi.months=U,hi._months=Hr,hi.monthsShort=q,hi._monthsShort=xr,hi.monthsParse=Z,hi.week=We,hi._week=Ur,hi.firstDayOfYear=ze,hi.firstDayOfWeek=Be,hi.weekdays=$e,hi._weekdays=Zr,hi.weekdaysMin=je,hi._weekdaysMin=Qr,hi.weekdaysShort=Ae,hi._weekdaysShort=Xr,hi.weekdaysParse=Ue,hi.isPM=en,hi._meridiemParse=Jr,hi.meridiem=nn,_("en",{monthsParse:[/^jan/i,/^feb/i,/^mar/i,/^apr/i,/^may/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^oct/i,/^nov/i,/^dec/i],longMonthsParse:[/^january$/i,/^february$/i,/^march$/i,/^april$/i,/^may$/i,/^june$/i,/^july$/i,/^august$/i,/^september$/i,/^october$/i,/^november$/i,/^december$/i],shortMonthsParse:[/^jan$/i,/^feb$/i,/^mar$/i,/^apr$/i,/^may$/i,/^jun$/i,/^jul$/i,/^aug/i,/^sept?$/i,/^oct$/i,/^nov$/i,/^dec$/i],ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=et("moment.lang is deprecated. Use moment.locale instead.",_),t.langData=et("moment.langData is deprecated. Use moment.localeData instead.",E);var pi=Math.abs,fi=Gn("ms"),gi=Gn("s"),mi=Gn("m"),vi=Gn("h"),yi=Gn("d"),wi=Gn("w"),bi=Gn("M"),Si=Gn("y"),Ci=Ln("milliseconds"),_i=Ln("seconds"),Di=Ln("minutes"),Ei=Ln("hours"),Ri=Ln("days"),Ti=Ln("months"),Hi=Ln("years"),xi=Math.round,ki={s:45,m:45,h:22,d:26,M:11},Mi=Math.abs,Ii=kt.prototype;Ii.abs=Dn,Ii.add=Rn,Ii.subtract=Tn,Ii.as=In,Ii.asMilliseconds=fi,Ii.asSeconds=gi,Ii.asMinutes=mi,Ii.asHours=vi,Ii.asDays=yi,Ii.asWeeks=wi,Ii.asMonths=bi,Ii.asYears=Si,Ii.valueOf=Fn,Ii._bubble=xn,Ii.get=Yn,Ii.milliseconds=Ci,Ii.seconds=_i,Ii.minutes=Di,Ii.hours=Ei,Ii.days=Ri,Ii.weeks=Pn,Ii.months=Ti,Ii.years=Hi,Ii.humanize=On,Ii.toISOString=Nn,Ii.toString=Nn,Ii.toJSON=Nn,Ii.locale=me,Ii.localeData=ve,Ii.toIsoString=et("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nn),Ii.lang=jr,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),z("x",dr),z("X",fr),V("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),V("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.11.0",e(Rt),t.fn=si,t.min=Ht,t.max=xt,t.now=zr,t.utc=a,t.unix=an,t.months=wn,t.isDate=r,t.locale=_,t.invalid=d,t.duration=Ut,t.isMoment=g,t.weekdays=Sn,t.parseZone=ln,t.localeData=E,t.isDuration=Mt,t.monthsShort=bn,t.weekdaysMin=_n,t.defineLocale=D,t.weekdaysShort=Cn,t.normalizeUnits=T,t.relativeTimeThreshold=zn,t.prototype=si;var Fi=t;return Fi}),/*!
 * FullCalendar v2.6.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(t){return N(t,Vt)}function r(e){var n,r={views:e.views||{}};return t.each(e,function(e,i){"views"!=e&&(t.isPlainObject(i)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Vt)?(n=null,t.each(i,function(t,i){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(r.views[t]||(r.views[t]={}),r.views[t][e]=i):(n||(n={}),n[t]=i)}),n&&(r[e]=n)):r[e]=i)}),r}function i(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,n,r){var i=Math.floor(n/e.length),s=Math.floor(n-i*(e.length-1)),o=[],a=[],l=[],c=0;u(e),e.each(function(n,r){var u=n===e.length-1?s:i,d=t(r).outerHeight(!0);u>d?(o.push(r),a.push(d),l.push(t(r).height())):c+=d}),r&&(n-=c,i=Math.floor(n/o.length),s=Math.floor(n-i*(o.length-1))),t(o).each(function(e,n){var r=e===o.length-1?s:i,u=a[e],c=l[e],d=r-(u-c);r>u&&t(n).height(d)})}function u(t){t.height("")}function c(e){var n=0;return e.find("> span").each(function(e,r){var i=t(r).outerWidth();i>n&&(n=i)}),n++,e.width(n),n}function d(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(h(t),!1)}function h(t){t.height("").removeClass("fc-scroller")}function p(e){var n=e.css("position"),r=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:t(e[0].ownerDocument||document)}function f(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function g(t){var e=t.offset(),n=v(t),r=e.left+b(t,"border-left-width")+n.left,i=e.top+b(t,"border-top-width")+n.top;return{left:r,right:r+t[0].clientWidth,top:i,bottom:i+t[0].clientHeight}}function m(t){var e=t.offset(),n=e.left+b(t,"border-left-width")+b(t,"padding-left"),r=e.top+b(t,"border-top-width")+b(t,"padding-top");return{left:n,right:n+t.width(),top:r,bottom:r+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return y()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function y(){return null===$t&&($t=w()),$t}function w(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),r=n.offset().left>e.offset().left;return e.remove(),r}function b(t,e){return parseFloat(t.css(e))||0}function S(t){return 1==t.which&&!t.ctrlKey}function C(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function _(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function D(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function E(t,e){return{left:t.left-e.left,top:t.top-e.top}}function R(e){var n,r,i=[],s=[];for("string"==typeof e?s=e.split(/\s*,\s*/):"function"==typeof e?s=[e]:t.isArray(e)&&(s=e),n=0;n<s.length;n++)r=s[n],"string"==typeof r?i.push("-"==r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&i.push({func:r});return i}function T(t,e,n){var r,i;for(r=0;r<n.length;r++)if(i=H(t,e,n[r]))return i;return 0}function H(t,e,n){return n.func?n.func(t,e):x(t[n.field],e[n.field])*(n.order||1)}function x(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function k(t,e){var n,r,i,s,o=t.start,a=t.end,l=e.start,u=e.end;return a>l&&u>o?(o>=l?(n=o.clone(),i=!0):(n=l.clone(),i=!1),u>=a?(r=a.clone(),s=!0):(r=u.clone(),s=!1),{start:n,end:r,isStart:i,isEnd:s}):void 0}function M(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function I(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function F(t,n,r){return e.duration(Math.round(t.diff(n,r,!0)),r)}function G(t,e){var n,r,i;for(n=0;n<jt.length&&(r=jt[n],i=Y(r,t,e),!(i>=1&&et(i)));n++);return r}function Y(t,n,r){return null!=r?r.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function L(t,e,n){var r;return B(n)?(e-t)/n:(r=n.asMonths(),Math.abs(r)>=1&&et(r)?e.diff(t,"months",!0)/r:e.diff(t,"days",!0)/n.asDays())}function P(t,e){var n,r;return B(t)||B(e)?t/e:(n=t.asMonths(),r=e.asMonths(),Math.abs(n)>=1&&et(n)&&Math.abs(r)>=1&&et(r)?n/r:t.asDays()/e.asDays())}function W(t,n){var r;return B(t)?e.duration(t*n):(r=t.asMonths(),Math.abs(r)>=1&&et(r)?e.duration({months:r*n}):e.duration({days:t.asDays()*n}))}function B(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function z(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function O(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function N(t,e){var n,r,i,s,o,a,l={};if(e)for(n=0;n<e.length;n++){for(r=e[n],i=[],s=t.length-1;s>=0;s--)if(o=t[s][r],"object"==typeof o)i.unshift(o);else if(void 0!==o){l[r]=o;break}i.length&&(l[r]=N(i))}for(n=t.length-1;n>=0;n--){a=t[n];for(r in a)r in l||(l[r]=a[r])}return l}function V(t){var e=function(){};return e.prototype=t,new e}function $(t,e){for(var n in t)j(t,n)&&(e[n]=t[n])}function A(t,e){var n,r,i=["constructor","toString","valueOf"];for(n=0;n<i.length;n++)r=i[n],t[r]!==Object.prototype[r]&&(e[r]=t[r])}function j(t,e){return Xt.call(t,e)}function U(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function q(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var i,s;for(i=0;i<e.length;i++)s=e[i].apply(n,r)||s;return s}}function Z(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function X(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Q(t){return t.replace(/&.*?;/g,"")}function J(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function K(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t,e){return t-e}function et(t){return t%1===0}function nt(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function rt(t,e){var n,r,i,s,o=function(){var a=+new Date-s;e>a&&a>0?n=setTimeout(o,e-a):(n=null,t.apply(i,r),n||(i=r=null))};return function(){i=this,r=arguments,s=+new Date,n||(n=setTimeout(o,e))}}function it(n,r,i){var s,o,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,n),ot(u,l)):z(u)||void 0===u?l=e.apply(null,n):(s=!1,o=!1,c?Qt.test(u)?(u+="-01",n=[u],s=!0,o=!0):(a=Jt.exec(u))&&(s=!a[5],o=!0):t.isArray(u)&&(o=!0),l=r||s?e.utc.apply(e,n):e.apply(null,n),s?(l._ambigTime=!0,l._ambigZone=!0):i&&(o?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function st(t,n){var r,i,s=!1,o=!1,a=t.length,l=[];for(r=0;a>r;r++)i=t[r],e.isMoment(i)||(i=Ot.moment.parseZone(i)),s=s||i._ambigTime,o=o||i._ambigZone,l.push(i);for(r=0;a>r;r++)i=l[r],n||!s||i._ambigTime?o&&!i._ambigZone&&(l[r]=i.clone().stripZone()):l[r]=i.clone().stripTime();return l}function ot(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function at(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function lt(t,e){return te.format.call(t,e)}function ut(t,e){return ct(t,gt(e))}function ct(t,e){var n,r="";for(n=0;n<e.length;n++)r+=dt(t,e[n]);return r}function dt(t,e){var n,r;return"string"==typeof e?e:(n=e.token)?ee[n]?ee[n](t):lt(t,n):e.maybe&&(r=ct(t,e.maybe),r.match(/[1-9]/))?r:""}function ht(t,e,n,r,i){var s;return t=Ot.moment.parseZone(t),e=Ot.moment.parseZone(e),s=(t.localeData||t.lang).call(t),n=s.longDateFormat(n)||n,r=r||" - ",pt(t,e,gt(n),r,i)}function pt(t,e,n,r,i){var s,o,a,l,u=t.clone().stripZone(),c=e.clone().stripZone(),d="",h="",p="",f="",g="";for(o=0;o<n.length&&(s=ft(t,e,u,c,n[o]),s!==!1);o++)d+=s;for(a=n.length-1;a>o&&(s=ft(t,e,u,c,n[a]),s!==!1);a--)h=s+h;for(l=o;a>=l;l++)p+=dt(t,n[l]),f+=dt(e,n[l]);return(p||f)&&(g=i?f+r+p:p+r+f),d+g+h}function ft(t,e,n,r,i){var s,o;return"string"==typeof i?i:(s=i.token)&&(o=ne[s.charAt(0)],o&&n.isSame(r,o))?lt(t,s):!1}function gt(t){return t in re?re[t]:re[t]=mt(t)}function mt(t){for(var e,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=r.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:mt(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function vt(){}function yt(t,e){var n;return j(e,"constructor")&&(n=e.constructor),"function"!=typeof n&&(n=e.constructor=function(){t.apply(this,arguments)}),n.prototype=V(t.prototype),$(e,n.prototype),A(e,n.prototype),$(t,n),n}function wt(t,e){$(e.prototype||e,t.prototype)}function bt(t,e){return t||e?t&&e?t.component===e.component&&St(t,e)&&St(e,t):!1:!0}function St(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}function Ct(t){var e=Dt(t);return"background"===e||"inverse-background"===e}function _t(t){return"inverse-background"===Dt(t)}function Dt(t){return Z((t.source||{}).rendering,t.rendering)}function Et(t){var e,n,r={};for(e=0;e<t.length;e++)n=t[e],(r[n._id]||(r[n._id]=[])).push(n);return r}function Rt(t,e){return t.start-e.start}function Tt(n){var r,i,s,o,a=Ot.dataAttrPrefix;return a&&(a+="-"),r=n.data(a+"event")||null,r&&(r="object"==typeof r?t.extend({},r):{},i=r.start,null==i&&(i=r.time),s=r.duration,o=r.stick,delete r.start,delete r.time,delete r.duration,delete r.stick),null==i&&(i=n.data(a+"start")),null==i&&(i=n.data(a+"time")),null==s&&(s=n.data(a+"duration")),null==o&&(o=n.data(a+"stick")),i=null!=i?e.duration(i):null,s=null!=s?e.duration(s):null,o=Boolean(o),{eventProps:r,startTime:i,duration:s,stick:o}}function Ht(t,e){var n,r;for(n=0;n<e.length;n++)if(r=e[n],r.leftCol<=t.rightCol&&r.rightCol>=t.leftCol)return!0;return!1}function xt(t,e){return t.leftCol-e.leftCol}function kt(t){var e,n,r,i=[];for(e=0;e<t.length;e++){for(n=t[e],r=0;r<i.length&&Ft(n,i[r]).length;r++);n.level=r,(i[r]||(i[r]=[])).push(n)}return i}function Mt(t){var e,n,r,i,s;for(e=0;e<t.length;e++)for(n=t[e],r=0;r<n.length;r++)for(i=n[r],i.forwardSegs=[],s=e+1;s<t.length;s++)Ft(i,t[s],i.forwardSegs)}function It(t){var e,n,r=t.forwardSegs,i=0;if(void 0===t.forwardPressure){for(e=0;e<r.length;e++)n=r[e],It(n),i=Math.max(i,1+n.forwardPressure);t.forwardPressure=i}}function Ft(t,e,n){n=n||[];for(var r=0;r<e.length;r++)Gt(t,e[r])&&n.push(e[r]);return n}function Gt(t,e){return t.bottom>e.top&&t.top<e.bottom}function Yt(n,r){function i(){j?a()&&(c(),l()):s()}function s(){U=z.theme?"ui":"fc",n.addClass("fc"),z.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),z.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),j=t("<div class='fc-view-container'/>").prependTo(n),$=B.header=new Wt(B,z),A=$.render(),A&&n.prepend(A),l(z.defaultView),z.handleWindowResize&&(X=rt(h,z.windowResizeDelay),t(window).resize(X))}function o(){q&&q.removeElement(),$.removeElement(),j.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),X&&t(window).unbind("resize",X)}function a(){return n.is(":visible")}function l(e){nt++,q&&e&&q.type!==e&&($.deactivateButton(q.type),F(),q.removeElement(),q=B.view=null),!q&&e&&(q=B.view=et[e]||(et[e]=B.instantiateView(e)),q.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(j)),$.activateButton(e)),q&&(Q=q.massageCurrentDate(Q),q.displaying&&Q.isWithin(q.intervalStart,q.intervalEnd)||a()&&(q.display(Q),G(),b(),S(),m())),G(),nt--}function u(t){return a()?(t&&d(),nt++,q.updateSize(!0),nt--,!0):void 0}function c(){a()&&d()}function d(){Z="number"==typeof z.contentHeight?z.contentHeight:"number"==typeof z.height?z.height-(A?A.outerHeight(!0):0):Math.round(j.width()/Math.max(z.aspectRatio,.5))}function h(t){!nt&&t.target===window&&q.start&&u(!0)&&q.trigger("windowResize",tt)}function p(){g(),v()}function f(){a()&&(F(),q.displayEvents(it),G())}function g(){F(),q.clearEvents(),G()}function m(){!z.lazyFetching||J(q.start,q.end)?v():f()}function v(){K(q.start,q.end)}function y(t){it=t,f()}function w(){f()}function b(){$.updateTitle(q.title)}function S(){var t=B.getNow();t.isWithin(q.intervalStart,q.intervalEnd)?$.disableButton("today"):$.enableButton("today")}function C(t,e){q.select(B.buildSelectSpan.apply(B,arguments))}function _(){q&&q.unselect()}function D(){Q=q.computePrevDate(Q),l()}function E(){Q=q.computeNextDate(Q),l()}function R(){Q.add(-1,"years"),l()}function T(){Q.add(1,"years"),l()}function H(){Q=B.getNow(),l()}function x(t){Q=B.moment(t).stripZone(),l()}function k(t){Q.add(e.duration(t)),l()}function M(t,e){var n;e=e||"day",n=B.getViewSpec(e)||B.getUnitViewSpec(e),Q=t.clone(),l(n?n.type:null)}function I(){return B.applyTimezone(Q)}function F(){j.css({width:"100%",height:j.height(),overflow:"hidden"})}function G(){j.css({width:"",height:"",overflow:""})}function Y(){return B}function L(){return q}function P(t,e){return void 0===e?z[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(z[t]=e,u(!0)))}function W(t,e){var n=Array.prototype.slice.call(arguments,2);return e=e||tt,this.triggerWith(t,e,n),z[t]?z[t].apply(e,n):void 0}var B=this;B.initOptions(r||{});var z=this.options;B.render=i,B.destroy=o,B.refetchEvents=p,B.reportEvents=y,B.reportEventChange=w,B.rerenderEvents=f,B.changeView=l,B.select=C,B.unselect=_,B.prev=D,B.next=E,B.prevYear=R,B.nextYear=T,B.today=H,B.gotoDate=x,B.incrementDate=k,B.zoomTo=M,B.getDate=I,B.getCalendar=Y,B.getView=L,B.option=P,B.trigger=W;var O=V(Pt(z.lang));if(z.monthNames&&(O._months=z.monthNames),z.monthNamesShort&&(O._monthsShort=z.monthNamesShort),z.dayNames&&(O._weekdays=z.dayNames),z.dayNamesShort&&(O._weekdaysShort=z.dayNamesShort),null!=z.firstDay){var N=V(O._week);N.dow=z.firstDay,O._week=N}O._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(z.weekNumberCalculation),B.defaultAllDayEventDuration=e.duration(z.defaultAllDayEventDuration),B.defaultTimedEventDuration=e.duration(z.defaultTimedEventDuration),B.moment=function(){var t;return"local"===z.timezone?(t=Ot.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===z.timezone?Ot.moment.utc.apply(null,arguments):Ot.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=O:t._lang=O,t},B.getIsAmbigTimezone=function(){return"local"!==z.timezone&&"UTC"!==z.timezone},B.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=B.moment(t.toArray()),r=t.time()-n.time();return r&&(e=n.clone().add(r),t.time()-e.time()===0&&(n=e)),n},B.getNow=function(){var t=z.now;return"function"==typeof t&&(t=t()),B.moment(t).stripZone()},B.getEventEnd=function(t){return t.end?t.end.clone():B.getDefaultEventEnd(t.allDay,t.start)},B.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(B.defaultAllDayEventDuration):n.add(B.defaultTimedEventDuration),B.getIsAmbigTimezone()&&n.stripZone(),n},B.humanizeDuration=function(t){return(t.locale||t.lang).call(t,z.lang).humanize()},Bt.call(B,z);var $,A,j,U,q,Z,X,Q,J=B.isFetchNeeded,K=B.fetchEvents,tt=n[0],et={},nt=0,it=[];Q=null!=z.defaultDate?B.moment(z.defaultDate).stripZone():B.getNow(),B.getSuggestedViewHeight=function(){return void 0===Z&&c(),Z},B.isHeightAuto=function(){return"auto"===z.contentHeight||"auto"===z.height},B.freezeContentHeight=F,B.unfreezeContentHeight=G,B.initialize()}function Lt(e){t.each(we,function(t,n){null==e[t]&&(e[t]=n(e))})}function Pt(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function Wt(e,n){function r(){var e=n.header;return p=n.theme?"ui":"fc",e?f=t("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function i(){f.remove(),f=t()}function s(r){var i=t('<div class="fc-'+r+'"/>'),s=n.header[r];return s&&t.each(s.split(" "),function(r){var s,o=t(),a=!0;t.each(this.split(","),function(r,i){var s,l,u,c,d,h,f,m,v,y;"title"==i?(o=o.add(t("<h2>&nbsp;</h2>")),a=!1):((s=(e.options.customButtons||{})[i])?(u=function(t){s.click&&s.click.call(y[0],t)},c="",d=s.text):(l=e.getViewSpec(i))?(u=function(){e.changeView(i)},g.push(i),c=l.buttonTextOverride,d=l.buttonTextDefault):e[i]&&(u=function(){e[i]()},c=(e.overrides.buttonText||{})[i],d=n.buttonText[i]),u&&(h=s?s.themeIcon:n.themeButtonIcons[i],f=s?s.icon:n.buttonIcons[i],m=c?X(c):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":f&&!n.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":X(d),v=["fc-"+i+"-button",p+"-button",p+"-state-default"],y=t('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(t){y.hasClass(p+"-state-disabled")||(u(t),(y.hasClass(p+"-state-active")||y.hasClass(p+"-state-disabled"))&&y.removeClass(p+"-state-hover"))}).mousedown(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){y.removeClass(p+"-state-down")}).hover(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){y.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),o=o.add(y)))}),a&&o.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),o.length>1?(s=t("<div/>"),a&&s.addClass("fc-button-group"),s.append(o),i.append(s)):i.append(o)}),i}function o(t){f.find("h2").text(t)}function a(t){f.find(".fc-"+t+"-button").addClass(p+"-state-active")}function l(t){f.find(".fc-"+t+"-button").removeClass(p+"-state-active")}function u(t){f.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")}function c(t){f.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")}function d(){return g}var h=this;h.render=r,h.removeElement=i,h.updateTitle=o,h.activateButton=a,h.deactivateButton=l,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var p,f=t(),g=[]}function Bt(n){function r(t,e){return!P||P>t||e>W}function i(t,e){P=t,W=e,A=[];var n=++V,r=N.length;$=r;for(var i=0;r>i;i++)s(N[i],n)}function s(e,n){o(e,function(r){var i,s,o,a=t.isArray(e.events);if(n==V){if(r)for(i=0;i<r.length;i++)s=r[i],o=a?s:y(s,e),o&&A.push.apply(A,C(o));$--,$||B(A)}})}function o(e,r){var i,s,a=Ot.sourceFetchers;for(i=0;i<a.length;i++){if(s=a[i].call(L,e,P.clone(),W.clone(),n.timezone,r),s===!0)return;if("object"==typeof s)return void o(s,r)}var l=e.events;if(l)t.isFunction(l)?(L.pushLoading(),l.call(L,P.clone(),W.clone(),n.timezone,function(t){r(t),L.popLoading()})):t.isArray(l)?r(l):r();else{var u=e.url;if(u){var c,d=e.success,h=e.error,p=e.complete;c=t.isFunction(e.data)?e.data():e.data;var f=t.extend({},c||{}),g=Z(e.startParam,n.startParam),m=Z(e.endParam,n.endParam),v=Z(e.timezoneParam,n.timezoneParam);g&&(f[g]=P.format()),m&&(f[m]=W.format()),n.timezone&&"local"!=n.timezone&&(f[v]=n.timezone),L.pushLoading(),t.ajax(t.extend({},be,e,{data:f,success:function(e){e=e||[];var n=q(d,this,arguments);t.isArray(n)&&(e=n),r(e)},error:function(){q(h,this,arguments),r()},complete:function(){q(p,this,arguments),L.popLoading()}}))}else r()}}function a(t){var e=l(t);e&&(N.push(e),$++,s(e,V))}function l(e){var n,r,i=Ot.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return y(t,n)})),r=0;r<i.length;r++)i[r].call(L,n);return n}}function u(e){N=t.grep(N,function(t){return!c(t,e)}),A=t.grep(A,function(t){return!c(t.source,e)}),B(A)}function c(t,e){return t&&e&&d(t)==d(e)}function d(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=L.moment(t.start),t.end?t.end=L.moment(t.end):t.end=null,_(t,p(t)),B(A)}function p(e){var n={};return t.each(e,function(t,e){f(t)&&void 0!==e&&U(e)&&(n[t]=e)}),n}function f(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function g(t,e){var n,r,i,s=y(t);if(s){for(n=C(s),r=0;r<n.length;r++)i=n[r],i.source||(e&&(z.events.push(i),i.source=z),A.push(i));return B(A),n}return[]}function m(e){var n,r;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),A=t.grep(A,e,!0),r=0;r<N.length;r++)t.isArray(N[r].events)&&(N[r].events=t.grep(N[r].events,e,!0));B(A)}function v(e){return t.isFunction(e)?t.grep(A,e):null!=e?(e+="",t.grep(A,function(t){return t._id==e})):A}function y(r,i){var s,o,a,l={};if(n.eventDataTransform&&(r=n.eventDataTransform(r)),i&&i.eventDataTransform&&(r=i.eventDataTransform(r)),t.extend(l,r),i&&(l.source=i),l._id=r._id||(void 0===r.id?"_fc"+Se++:r.id+""),r.className?"string"==typeof r.className?l.className=r.className.split(/\s+/):l.className=r.className:l.className=[],s=r.start||r.date,o=r.end,O(s)&&(s=e.duration(s)),O(o)&&(o=e.duration(o)),r.dow||e.isDuration(s)||e.isDuration(o))l.start=s?e.duration(s):null,l.end=o?e.duration(o):null,l._recurring=!0;else{if(s&&(s=L.moment(s),!s.isValid()))return!1;o&&(o=L.moment(o),o.isValid()||(o=null)),a=r.allDay,void 0===a&&(a=Z(i?i.allDayDefault:void 0,n.allDayDefault)),w(s,o,a,l)}return l}function w(t,e,n,r){r.start=t,r.end=e,r.allDay=n,b(r),zt(r)}function b(t){S(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(n.forceEventDuration?t.end=L.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function S(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=L.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=L.applyTimezone(t.end.time(0))))}function C(e,n,r){var i,s,o,a,l,u,c,d,h,p=[];if(n=n||P,r=r||W,e)if(e._recurring){if(s=e.dow)for(i={},o=0;o<s.length;o++)i[s[o]]=!0;for(a=n.clone().stripTime();a.isBefore(r);)(!i||i[a.day()])&&(l=e.start,u=e.end,c=a.clone(),d=null,l&&(c=c.time(l)),u&&(d=a.clone().time(u)),h=t.extend({},e),w(c,d,!l&&!u,h),p.push(h)),a.add(1,"days")}else p.push(e);return p}function _(e,n,r){function i(t,e){return r?F(t,e,r):n.allDay?I(t,e):M(t,e)}var s,o,a,l,u,c,d={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),b(n),s={start:e._start.clone(),end:e._end?e._end.clone():L.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},b(s),o=null!==e._end&&null===n.end,a=i(n.start,s.start),n.end?(l=i(n.end,s.end),u=l.subtract(a)):u=null,t.each(n,function(t,e){f(t)&&void 0!==e&&(d[t]=e)}),c=D(v(e._id),o,n.allDay,a,u,d),{dateDelta:a,durationDelta:u,undo:c}}function D(e,n,r,i,s,o){var a=L.getIsAmbigTimezone(),l=[];return i&&!i.valueOf()&&(i=null),s&&!s.valueOf()&&(s=null),t.each(e,function(e,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(o,function(t){c[t]=u[t]}),d={start:u._start,end:u._end,allDay:r},b(d),n?d.end=null:s&&!d.end&&(d.end=L.getDefaultEventEnd(d.allDay,d.start)),i&&(d.start.add(i),d.end&&d.end.add(i)),s&&d.end.add(s),a&&!d.allDay&&(i||s)&&(d.start.stripZone(),d.end&&d.end.stripZone()),t.extend(u,o,d),zt(u),l.push(function(){t.extend(u,c),zt(u)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}function E(e){var r,i=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=L.getView();return i&&(r=t.extend({},s,"object"==typeof i?i:{})),r?(e&&(r.start=null,r.end=null),C(y(r),o.start,o.end)):[]}function R(t,e){var r=e.source||{},i=Z(e.constraint,r.constraint,n.eventConstraint),s=Z(e.overlap,r.overlap,n.eventOverlap);return x(t,i,s,e)}function T(e,n,r){var i,s;return r&&(i=t.extend({},r,n),s=C(y(i))[0]),s?R(e,s):H(e)}function H(t){return x(t,n.selectConstraint,n.selectOverlap)}function x(t,e,n,r){var i,s,o,a,l,u;if(null!=e){for(i=k(e),s=!1,a=0;a<i.length;a++)if(G(i[a],t)){s=!0;break}if(!s)return!1}for(o=L.getPeerEvents(t,r),a=0;a<o.length;a++)if(l=o[a],Y(l,t)){if(n===!1)return!1;if("function"==typeof n&&!n(l,r))return!1;if(r){if(u=Z(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(r,l))return!1}}return!0}function k(t){return"businessHours"===t?E():"object"==typeof t?C(y(t)):v(t)}function G(t,e){var n=t.start.clone().stripZone(),r=L.getEventEnd(t).stripZone();return e.start>=n&&e.end<=r}function Y(t,e){var n=t.start.clone().stripZone(),r=L.getEventEnd(t).stripZone();return e.start<r&&e.end>n}var L=this;L.isFetchNeeded=r,L.fetchEvents=i,L.addEventSource=a,L.removeEventSource=u,L.updateEvent=h,L.renderEvent=g,L.removeEvents=m,L.clientEvents=v,L.mutateEvent=_,L.normalizeEventDates=b,L.normalizeEventTimes=S;var P,W,B=L.reportEvents,z={events:[]},N=[z],V=0,$=0,A=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&N.push(n)}),L.getBusinessHoursEvents=E,L.isEventSpanAllowed=R,L.isExternalSpanAllowed=T,L.isSelectionSpanAllowed=H,L.getEventCache=function(){return A}}function zt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Ot=t.fullCalendar={version:"2.6.1",internalApiVersion:3},Nt=Ot.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(i,s){var o,a=t(s),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(o=l[e].apply(l,n),i||(r=o),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new ge(a,e),a.data("fullCalendar",l),l.render())}),r};var Vt=["header","buttonText","buttonIcons","themeButtonIcons"];Ot.intersectRanges=k,Ot.applyAll=q,Ot.debounce=rt,Ot.isInt=et,Ot.htmlEscape=X,Ot.cssToStr=J,Ot.proxy=nt,Ot.capitaliseFirstLetter=K,Ot.getOuterRect=f,Ot.getClientRect=g,Ot.getContentRect=m,Ot.getScrollbarWidths=v;var $t=null;Ot.intersectRects=C,Ot.parseFieldSpecs=R,Ot.compareByFieldSpecs=T,Ot.compareByFieldSpec=H,Ot.flexibleCompare=x,Ot.computeIntervalUnit=G,Ot.divideRangeByDuration=L,Ot.divideDurationByDuration=P,Ot.multiplyDuration=W,Ot.durationHasTime=B;var At=["sun","mon","tue","wed","thu","fri","sat"],jt=["year","month","week","day","hour","minute","second","millisecond"];Ot.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},Ot.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Ot.log.apply(Ot,arguments)};var Ut,qt,Zt,Xt={}.hasOwnProperty,Qt=/^\s*\d{4}-\d\d$/,Jt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Kt=e.fn,te=t.extend({},Kt);Ot.moment=function(){return it(arguments)},Ot.moment.utc=function(){var t=it(arguments,!0);return t.hasTime()&&t.utc(),t},Ot.moment.parseZone=function(){return it(arguments,!0,!0)},Kt.clone=function(){var t=te.clone.apply(this,arguments);return ot(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Kt.week=Kt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?te.isoWeek.apply(this,arguments):te.week.apply(this,arguments)},Kt.time=function(t){if(!this._fullCalendar)return te.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Kt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),qt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Kt.hasTime=function(){return!this._ambigTime},Kt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),qt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Kt.hasZone=function(){return!this._ambigZone},Kt.local=function(){var t=this.toArray(),e=this._ambigZone;return te.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Zt(this,t),this},Kt.utc=function(){return te.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){te[e]&&(Kt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),te[e].apply(this,arguments)})}),Kt.format=function(){return this._fullCalendar&&arguments[0]?ut(this,arguments[0]):this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.format.apply(this,arguments)},Kt.toISOString=function(){return this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.toISOString.apply(this,arguments)},Kt.isWithin=function(t,e){var n=st([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},Kt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=st([this,t],!0),te.isSame.call(n[0],n[1],e)):(t=Ot.moment.parseZone(t),te.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):te.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Kt[e]=function(t,n){var r;return this._fullCalendar?(r=st([this,t]),te[e].call(r[0],r[1],n)):te[e].apply(this,arguments)}}),Ut="_d"in e()&&"updateOffset"in e,qt=Ut?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:at,Zt=Ut?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:at;var ee={t:function(t){return lt(t,"a").charAt(0)},T:function(t){return lt(t,"A").charAt(0)}};Ot.formatRange=ht;var ne={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},re={};Ot.Class=vt,vt.extend=function(){var t,e,n=arguments.length;for(t=0;n>t;t++)e=arguments[t],n-1>t&&wt(this,e);return yt(this,e||{})},vt.mixin=function(t){wt(this,t)};var ie=Ot.Emitter=vt.extend({callbackHash:null,on:function(t,e){return this.getCallbacks(t).add(e),this},off:function(t,e){return this.getCallbacks(t).remove(e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.triggerWith(t,this,e),this},triggerWith:function(t,e,n){var r=this.getCallbacks(t);return r.fireWith(e,n),this},getCallbacks:function(e){var n;return this.callbackHash||(this.callbackHash={}),n=this.callbackHash[e],n||(n=this.callbackHash[e]=t.Callbacks()),n}}),se=vt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=nt(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,r,i,s,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),d=p(this.el);i=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,d.is(window)||d.is(document)?(d=c,e=0,n=0):(r=d.offset(),e=r.top,n=r.left),e+=c.scrollTop(),n+=c.scrollLeft(),o.viewportConstrain!==!1&&(i=Math.min(i,e+d.outerHeight()-u-this.margin),i=Math.max(i,e+this.margin),s=Math.min(s,n+d.outerWidth()-l-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:i-a.top,left:s-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),oe=Ot.CoordCache=vt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals();
},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var t=p(this.els.eq(0));return t.is(document)?void 0:g(t)},buildElHorizontals:function(){var e=[],n=[];this.els.each(function(r,i){var s=t(i),o=s.offset().left,a=s.outerWidth();e.push(o),n.push(o+a)}),this.lefts=e,this.rights=n},buildElVerticals:function(){var e=[],n=[];this.els.each(function(r,i){var s=t(i),o=s.offset().top,a=s.outerHeight();e.push(o),n.push(o+a)}),this.tops=e,this.bottoms=n},getHorizontalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,r=this.lefts,i=this.rights,s=r.length;if(!n||t>=n.left&&t<n.right)for(e=0;s>e;e++)if(t>=r[e]&&t<i[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,r=this.tops,i=this.bottoms,s=r.length;if(!n||t>=n.top&&t<n.bottom)for(e=0;s>e;e++)if(t>=r[e]&&t<i[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]}}),ae=Ot.DragListener=vt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){S(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n;this.isListening||(e&&this.options.scroll&&(n=p(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=rt(nt(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")).on("mouseup",this.mouseupProxy=nt(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n,r=t.pageX-this.originX,i=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,n=r*r+i*i,n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(r,i,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?f(t):null},updateScroll:function(t){var e,n,r,i,s=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(e=(s-(t.pageY-o.top))/s,n=(s-(o.bottom-t.pageY))/s,r=(s-(t.pageX-o.left))/s,i=(s-(o.right-t.pageX))/s,e>=0&&1>=e?a=e*this.scrollSpeed*-1:n>=0&&1>=n&&(a=n*this.scrollSpeed),r>=0&&1>=r?l=r*this.scrollSpeed*-1:i>=0&&1>=i&&(l=i*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(nt(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),le=ae.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){ae.call(this,e),this.component=t},listenStart:function(t){var e,n,r,i=this.subjectEl;ae.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(n={left:t.pageX,top:t.pageY},r=n,i&&(e=f(i),r=_(r,e)),this.origHit=this.queryHit(r.left,r.top),i&&this.options.subjectCenter&&(this.origHit&&(e=C(this.origHit,e)||e),r=D(e)),this.coordAdjust=E(r,n)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function(t){var e;ae.prototype.dragStart.apply(this,arguments),e=this.queryHit(t.pageX,t.pageY),e&&this.hitOver(e)},drag:function(t,e,n){var r;ae.prototype.drag.apply(this,arguments),r=this.queryHit(n.pageX,n.pageY),bt(r,this.hit)||(this.hit&&this.hitOut(),r&&this.hitOver(r))},dragStop:function(){this.hitDone(),ae.prototype.dragStop.apply(this,arguments)},hitOver:function(t){var e=bt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},hitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function(){ae.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function(){ae.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),ue=vt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")))},stop:function(e,n){function r(){this.isAnimating=!1,i.removeElement(),this.top0=this.left0=null,n&&n()}var i=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:r})):r())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ce=Ot.Grid=vt.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=nt(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),t=n.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=n.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?F(t,e,this.largeUnit):M(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(t,e){},getHitSpan:function(t){},getHitEl:function(t){},setElement:function(e){var n=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||n.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,n,r=this,i=this.view,s=i.opt("selectable"),l=new le(this,{scroll:i.opt("dragScroll"),dragStart:function(){i.unselect()},hitOver:function(t,i,a){a&&(e=i?t:null,s&&(n=r.computeSelection(r.getHitSpan(a),r.getHitSpan(t)),n?r.renderSelection(n):n===!1&&o()))},hitOut:function(){e=null,n=null,r.unrenderSelection(),a()},listenStop:function(t){e&&i.triggerDayClick(r.getHitSpan(e),r.getHitEl(e),t),n&&i.reportSelection(n,t),a()}});l.mousedown(t)},renderEventLocationHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?V(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n=this.computeSelectionSpan(t,e);return n&&!this.view.calendar.isSelectionSpanAllowed(n)?!1:n},computeSelectionSpan:function(t,e){var n=[t.start,t.end,e.start,e.end];return n.sort(tt),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var r,i=this,s=this[e+"SegEl"],o="",a=[];if(n.length){for(r=0;r<n.length;r++)o+=this.fillSegHtml(e,n[r]);t(o).each(function(e,r){var o=n[e],l=t(r);s&&(l=s.call(i,o,l)),l&&(l=t(l),l.is(i.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],r=this[t+"SegCss"],i=n?n.call(this,e):[],s=J(r?r.call(this,e):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow(),r=["fc-"+At[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&r.push("fc-other-month"),t.isSame(n,"day")?r.push("fc-today",e.highlightStateClass):n>t?r.push("fc-past"):r.push("fc-future"),r}});ce.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n=[],r=[];for(e=0;e<t.length;e++)(Ct(t[e])?n:r).push(t[e]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(r))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,n){var r,i=this.view,s="",o=[];if(e.length){for(r=0;r<e.length;r++)s+=this.fgSegHtml(e[r],n);t(s).each(function(n,r){var s=e[n],a=i.resolveEventEl(s.event,t(r));a&&(a.data("fc-seg",s),s.el=a,o.push(s))})}return o},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(r,i){t(i.target).is(".fc-resizer")&&n.isEventResizable(r.event)?e.segResizeMousedown(r,i,t(i.target).is(".fc-start-resizer")):n.isEventDraggable(r.event)&&e.segDragMousedown(r,i)}},function(n,r){e.el.on(n,".fc-event-container > *",function(n){var i=t(this).data("fc-seg");return!i||e.isDraggingSeg||e.isResizingSeg?void 0:r.call(this,i,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,r=this,i=this.view,s=i.calendar,l=t.el,u=t.event,c=new ue(t.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2}),d=new le(i,{distance:5,scroll:i.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){c.hide(),c.start(t)},dragStart:function(e){r.triggerSegMouseout(t,e),r.segDragStart(t,e),i.hideEvent(u)},hitOver:function(e,a,l){t.hit&&(l=t.hit),n=r.computeEventDrop(l.component.getHitSpan(l),e.component.getHitSpan(e),u),n&&!s.isEventSpanAllowed(r.eventToSpan(n),u)&&(o(),n=null),n&&i.renderDrag(n,t)?c.hide():c.show(),a&&(n=null)},hitOut:function(){i.unrenderDrag(),c.show(),n=null},hitDone:function(){a()},dragStop:function(e){c.stop(!n,function(){i.unrenderDrag(),i.showEvent(u),r.segDragStop(t,e),n&&i.reportEventDrop(u,n,this.largeUnit,l,e)})},listenStop:function(){c.stop()}});d.mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var r,i,s=this.view.calendar,o=t.start,a=e.start;return o.hasTime()===a.hasTime()?(r=this.diffDates(a,o),n.allDay&&B(r)?(i={start:n.start.clone(),end:s.getEventEnd(n),allDay:!1},s.normalizeEventTimes(i)):i={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},i.start.add(r),i.end&&i.end.add(r)):i={start:a.clone(),end:null,allDay:!a.hasTime()},i},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var r,i,s=this.view;s.opt("droppable")&&(r=t((n?n.item:null)||e.target),i=s.opt("dropAccept"),(t.isFunction(i)?i.call(r[0],r):r.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(r,e,n)))},listenToExternalDrag:function(t,e,n){var r,i=this,s=this.view.calendar,l=Tt(t),u=new le(this,{listenStart:function(){i.isDraggingExternal=!0},hitOver:function(t){r=i.computeExternalDrop(t.component.getHitSpan(t),l),r&&!s.isExternalSpanAllowed(i.eventToSpan(r),r,l.eventProps)&&(o(),r=null),r&&i.renderDrag(r)},hitOut:function(){r=null},hitDone:function(){a(),i.unrenderDrag()},dragStop:function(){r&&i.view.reportExternalDrop(l,r,t,e,n)},listenStop:function(){i.isDraggingExternal=!1}});u.startDrag(e)},computeExternalDrop:function(t,e){var n=this.view.calendar,r={start:n.applyTimezone(t.start),end:null};return e.startTime&&!r.start.hasTime()&&r.start.time(e.startTime),e.duration&&(r.end=r.start.clone().add(e.duration)),r},renderDrag:function(t,e){},unrenderDrag:function(){},segResizeMousedown:function(t,e,n){var r,i=this,s=this.view,l=s.calendar,u=t.el,c=t.event,d=l.getEventEnd(c),h=new le(this,{distance:5,scroll:s.opt("dragScroll"),subjectEl:u,dragStart:function(e){i.triggerSegMouseout(t,e),i.segResizeStart(t,e)},hitOver:function(e,a,u){var h=i.getHitSpan(u),p=i.getHitSpan(e);r=n?i.computeEventStartResize(h,p,c):i.computeEventEndResize(h,p,c),r&&(l.isEventSpanAllowed(i.eventToSpan(r),c)?r.start.isSame(c.start)&&r.end.isSame(d)&&(r=null):(o(),r=null)),r&&(s.hideEvent(c),i.renderEventResize(r,t))},hitOut:function(){r=null},hitDone:function(){i.unrenderEventResize(),s.showEvent(c),a()},dragStop:function(e){i.segResizeStop(t,e),r&&s.reportEventResize(c,r,this.largeUnit,u,e)}});h.mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,r){var i,s,o=this.view.calendar,a=this.diffDates(n[t],e[t]);return i={start:r.start.clone(),end:o.getEventEnd(r),allDay:r.allDay},i.allDay&&B(a)&&(i.allDay=!1,o.normalizeEventTimes(i)),i[t].add(a),i.start.isBefore(i.end)||(s=this.minResizeDuration||(r.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==t?i.start=i.end.clone().subtract(s):i.end=i.start.clone().add(s)),i},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var r=t.event,i=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return e&&i.push("fc-draggable"),n&&i.push("fc-resizable"),i},getSegSkinCss:function(t){var e=t.event,n=this.view,r=e.source||{},i=e.color,s=r.color,o=n.opt("eventColor");return{"background-color":e.backgroundColor||i||r.backgroundColor||s||n.opt("eventBackgroundColor")||o,"border-color":e.borderColor||i||r.borderColor||s||n.opt("eventBorderColor")||o,color:e.textColor||r.textColor||n.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,n){var r=this,i=Et(e),s=[];return t.each(i,function(t,e){var i,o=[];for(i=0;i<e.length;i++)o.push(r.eventToRange(e[i]));if(_t(e[0]))for(o=r.invertRanges(o),i=0;i<o.length;i++)s.push.apply(s,r.eventRangeToSegs(o[i],e[0],n));else for(i=0;i<o.length;i++)s.push.apply(s,r.eventRangeToSegs(o[i],e[i],n))}),s},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,n){var r,i=this.eventRangeToSpans(t,e),s=[];for(r=0;r<i.length;r++)s.push.apply(s,this.eventSpanToSegs(i[r],e,n));return s},eventRangeToSpans:function(e,n){return[t.extend({},e)]},eventSpanToSegs:function(t,e,n){var r,i,s=n?n(t):this.spanToSegs(t);for(r=0;r<s.length;r++)i=s[r],i.event=e,i.eventStartMS=+t.start,i.eventDurationMS=t.end-t.start;return s},invertRanges:function(t){var e,n,r=this.view,i=r.start.clone(),s=r.end.clone(),o=[],a=i;for(t.sort(Rt),e=0;e<t.length;e++)n=t[e],n.start>a&&o.push({start:a,end:n.start}),a=n.end;return s>a&&o.push({start:a,end:s}),o},sortEventSegs:function(t){t.sort(nt(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||T(t.event,e.event,this.view.eventOrderSpecs)}}),Ot.isBgEvent=Ct,Ot.dataAttrPrefix="";var de=Ot.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,n,r=this.view,i=this.start.clone(),s=-1,o=[],a=[];i.isBefore(this.end);)r.isHiddenDay(i)?o.push(s+.5):(s++,o.push(s),a.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);n=Math.ceil(a.length/t)}else n=1,t=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var n=this.getCellDate(t,e),r=n.clone().add(1,"days");return{start:n,end:r}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,n,r,i,s,o=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),u=this.getDateDayIndex(a.end.clone().subtract(1,"days")),c=[];for(e=0;e<this.rowCnt;e++)n=e*o,r=n+o-1,i=Math.max(l,n),s=Math.min(u,r),i=Math.ceil(i),s=Math.floor(s),s>=i&&c.push({row:e,firstRowDayIndex:i-n,lastRowDayIndex:s-n,isStart:i===l,isEnd:s===u});return c},sliceRangeByDay:function(t){var e,n,r,i,s,o,a=this.daysPerRow,l=this.view.computeDayRange(t),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)for(n=e*a,r=n+a-1,i=n;r>=i;i++)s=Math.max(u,i),o=Math.min(c,i),s=Math.ceil(s),o=Math.floor(o),o>=s&&d.push({row:e,firstRowDayIndex:s-n,lastRowDayIndex:o-n,isStart:s===u,isEnd:o===c});return d},renderHeadHtml:function(){var t=this.view;return'<div class="fc-row '+t.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},renderHeadDateCellHtml:function(t,e,n){var r=this.view;return'<th class="fc-day-header '+r.widgetHeaderClass+" fc-"+At[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+X(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(t){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,n,r=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),r.push(this.renderBgCellHtml(n));return r.join("")},renderBgCellHtml:function(t,e){var n=this.view,r=this.getDayClasses(t);return r.unshift("fc-day",n.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},he=Ot.DayGrid=ce.extend(de,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,n,r=this.view,i=this.rowCnt,s=this.colCnt,o="";for(e=0;i>e;e++)o+=this.renderDayRowHtml(e,t);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new oe({els:this.rowEls,isVertical:!0}),this.colCoordCache=new oe({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;i>e;e++)for(n=0;s>n;n++)r.trigger("dayRender",null,this.getCellDate(e,n),this.getCellEl(e,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},renderDayRowHtml:function(t,e){var n=this.view,r=["fc-row","fc-week",n.widgetContentClass];return e&&r.push("fc-rigid"),'<div class="'+r.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(t){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,n,r=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),r.push(this.renderNumberCellHtml(n));return r.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,n,r=this.sliceRangeByRow(t);for(e=0;e<r.length;e++)n=r[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return r},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){var n=this.colCoordCache.getHorizontalIndex(t),r=this.rowCoordCache.getVerticalIndex(e);return null!=r&&null!=n?this.getCellHit(r,n):void 0},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){return this.renderHighlight(this.eventToSpan(t)),e&&!e.el.closest(this.el).length?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,n){var r,i=[],s=this.eventToSegs(e);s=this.renderFgSegEls(s),r=this.renderSegRows(s),this.rowEls.each(function(e,s){var o,a=t(s),l=t('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(r[e].tbodyEl),a.append(l),i.push(l[0])}),this.helperEls=t(i)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,r){var i,s,o,a=[];for(n=this.renderFillSegEls(e,n),i=0;i<n.length;i++)s=n[i],o=this.renderFillRow(e,s,r),this.rowEls.eq(s.row).append(o),a.push(o[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,r){var i,s,o=this.colCnt,a=n.leftCol,l=n.rightCol+1;return r=r||e.toLowerCase(),i=t('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>'),s=i.find("tr"),a>0&&s.append('<td colspan="'+a+'"/>'),s.append(n.el.attr("colspan",l-a)),o>l&&s.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(s),i}});he.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ce.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ce.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return ce.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,r){t(r).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,r=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)r.push(this.renderSegRow(n,e[n]));return r},fgSegHtml:function(t,e){var n,r,i=this.view,s=t.event,o=i.isEventDraggable(s),a=!e&&s.allDay&&t.isStart&&i.isEventResizableFromStart(s),l=!e&&s.allDay&&t.isEnd&&i.isEventResizableFromEnd(s),u=this.getSegClasses(t,o,a||l),c=J(this.getSegSkinCss(t)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(s),n&&(d='<span class="fc-time">'+X(n)+"</span>")),r='<span class="fc-title">'+(X(s.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(s.url?' href="'+X(s.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+d:d+" "+r)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function r(e){for(;e>o;)c=(v[i-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),a.append(c)),m[i][o]=c,v[i][o]=c,o++}var i,s,o,a,l,u,c,d=this.colCnt,h=this.buildSegLevels(n),p=Math.max(1,h.length),f=t("<tbody/>"),g=[],m=[],v=[];for(i=0;p>i;i++){if(s=h[i],o=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),s)for(l=0;l<s.length;l++){for(u=s[l],r(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[i][o]=c;o<=u.rightCol;)m[i][o]=c,g[i][o]=u,o++;a.append(c);
}r(d),this.bookendCells(a),f.append(a)}return{row:e,tbodyEl:f,cellMatrix:m,segMatrix:g,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,r,i=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],r=0;r<i.length&&Ht(n,i[r]);r++);n.level=r,(i[r]||(i[r]=[])).push(n)}for(r=0;r<i.length;r++)i[r].sort(xt);return i},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),he.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,r=this.rowStructs||[];for(e=0;e<r.length;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){s=Math.max(s,t(n).outerHeight())}var r,i,s,o=this.rowEls.eq(e),a=o.height(),l=this.rowStructs[e].tbodyEl.children();for(r=0;r<l.length;r++)if(i=l.eq(r).removeClass("fc-limited"),s=0,i.find("> td > :first-child").each(n),i.position().top+s>a)return r;return!1},limitRow:function(e,n){function r(r){for(;r>C;)u=w.getCellSegs(e,C,n),u.length&&(h=s[n-1][C],y=w.renderMoreLink(e,C,u),v=t("<div/>").append(y),h.append(v),S.push(v[0])),C++}var i,s,o,a,l,u,c,d,h,p,f,g,m,v,y,w=this,b=this.rowStructs[e],S=[],C=0;if(n&&n<b.segLevels.length){for(i=b.segLevels[n-1],s=b.cellMatrix,o=b.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<i.length;a++){for(l=i[a],r(l.leftCol),d=[],c=0;C<=l.rightCol;)u=this.getCellSegs(e,C,n),d.push(u),c+=u.length,C++;if(c){for(h=s[n-1][l.leftCol],p=h.attr("rowspan")||1,f=[],g=0;g<d.length;g++)m=t('<td class="fc-more-cell"/>').attr("rowspan",p),u=d[g],y=this.renderMoreLink(e,l.leftCol+g,[l].concat(u)),v=t("<div/>").append(y),m.append(v),f.push(m[0]),S.push(m[0]);h.addClass("fc-limited").after(t(f)),o.push(h[0])}}r(this.colCnt),b.moreEls=t(S),b.limitedEls=t(o)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n,r){var i=this,s=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(o){var a=s.opt("eventLimitClick"),l=i.getCellDate(e,n),u=t(this),c=i.getCellEl(e,n),d=i.getCellSegs(e,n),h=i.resliceDaySegs(d,l),p=i.resliceDaySegs(r,l);"function"==typeof a&&(a=s.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:u,segs:h,hiddenSegs:p},o)),"popover"===a?i.showSegPopover(e,n,u,h):"string"==typeof a&&s.calendar.zoomTo(l,a)})},showSegPopover:function(t,e,n,r){var i,s,o=this,a=this.view,l=n.parent();i=1==this.rowCnt?a.el:this.rowEls.eq(t),s={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,r),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?s.right=l.offset().left+l.outerWidth()+1:s.left=l.offset().left-1,this.segPopover=new se(s),this.segPopover.show()},renderSegPopoverContent:function(e,n,r){var i,s=this.view,o=s.opt("theme"),a=this.getCellDate(e,n).format(s.opt("dayPopoverFormat")),l=t('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+X(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(r=this.renderFgSegEls(r,!0),this.popoverSegs=r,i=0;i<r.length;i++)this.prepareHits(),r[i].hit=this.getCellHit(e,n),this.releaseHits(),u.append(r[i].el);return l},resliceDaySegs:function(e,n){var r=t.map(e,function(t){return t.event}),i=n.clone(),s=i.clone().add(1,"days"),o={start:i,end:s};return e=this.eventsToSegs(r,function(t){var e=k(t,o);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,n){for(var r,i=this.rowStructs[t].segMatrix,s=n||0,o=[];s<i.length;)r=i[s][e],r&&o.push(r),s++;return o}});var pe=Ot.TimeGrid=ce.extend(de,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ce.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new oe({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new oe({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,n,r,i=this.view,s=this.isRTL,o="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),n=et(P(a,this.labelInterval)),r='<td class="fc-axis fc-time '+i.widgetContentClass+'" '+i.axisStyleAttr()+">"+(n?"<span>"+X(t.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(s?"":r)+'<td class="'+i.widgetContentClass+'"/>'+(s?r:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var n,r=this.view,i=r.opt("slotDuration"),s=r.opt("snapDuration");i=e.duration(i),s=s?e.duration(s):i,this.slotDuration=i,this.snapDuration=s,this.snapsPerSlot=i/s,this.minResizeDuration=s,this.minTime=e.duration(r.opt("minTime")),this.maxTime=e.duration(r.opt("maxTime")),n=r.opt("slotLabelFormat"),t.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||r.opt("axisFormat")||r.opt("smallTimeFormat"),n=r.opt("slotLabelInterval"),this.labelInterval=n?e.duration(n):this.computeLabelInterval(i)},computeLabelInterval:function(t){var n,r,i;for(n=xe.length-1;n>=0;n--)if(r=e.duration(xe[n]),i=P(r,t),et(i)&&i>1)return r;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var n=this.snapsPerSlot,r=this.colCoordCache,i=this.slatCoordCache,s=r.getHorizontalIndex(t),o=i.getVerticalIndex(e);if(null!=s&&null!=o){var a=i.getTopOffset(o),l=i.getHeight(o),u=(e-a)/l,c=Math.floor(u*n),d=o*n+c,h=a+c/n*l,p=a+(c+1)/n*l;return{col:s,snap:d,component:this,left:r.getLeftOffset(s),right:r.getRightOffset(s),top:h,bottom:p}}},getHitSpan:function(t){var e,n=this.getCellDate(0,t.col),r=this.computeSnapTime(t.snap);return n.time(r),e=n.clone().add(this.snapDuration),{start:n,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,n=this.sliceRangeByTimes(t);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},sliceRangeByTimes:function(t){var e,n,r,i,s=[];for(n=0;n<this.daysPerRow;n++)r=this.dayDates[n].clone(),i={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},e=k(t,i),e&&(e.dayIndex=n,s.push(e));return s},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,r=this.slatEls.length,i=(t-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(r,i),e=Math.floor(i),e=Math.min(e,r-1),n=i-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},renderDrag:function(t,e){if(e){this.renderEventLocationHelper(t,e);for(var n=0;n<this.helperSegs.length;n++)this.applyDragOpacity(this.helperSegs[n].el);return!0}this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(),e=this.eventsToSegs(t);this.renderBusinessSegs(e)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var n,r=this.spanToSegs({start:e,end:e}),i=this.computeDateTop(e,e),s=[];for(n=0;n<r.length;n++)s.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",i).appendTo(this.colContainerEls.eq(r[n].col))[0]);r.length>0&&s.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(s)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});pe.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,n,r="";for(e=0;e<this.colCnt;e++)r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=t('<div class="fc-content-skeleton"><table><tr>'+r+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,e){var n,r,i;for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),n=0;n<t.length;n++)r=t[n],e&&e.col===r.col&&(i=e.el,r.el.css({left:i.css("left"),right:i.css("right"),"margin-left":i.css("margin-left"),"margin-right":i.css("margin-right")}));this.helperSegs=t},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},attachSegsByCol:function(t,e){var n,r,i;for(n=0;n<this.colCnt;n++)for(r=t[n],i=0;i<r.length;i++)e.eq(n).append(r[i].el)},unrenderNamedSegs:function(t){var e,n=this[t];if(n){for(e=0;e<n.length;e++)n[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var n,r;for(t=this.renderFgSegEls(t),n=this.groupSegsByCol(t),r=0;r<this.colCnt;r++)this.updateFgSegCoords(n[r]);return this.attachSegsByCol(n,e),t},fgSegHtml:function(t,e){var n,r,i,s=this.view,o=t.event,a=s.isEventDraggable(o),l=!e&&t.isStart&&s.isEventResizableFromStart(o),u=!e&&t.isEnd&&s.isEventResizableFromEnd(o),c=this.getSegClasses(t,a,l||u),d=J(this.getSegSkinCss(t));return c.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),r=this.getEventTimeText(t,"LT"),i=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(o),r=this.getEventTimeText(o,"LT"),i=this.getEventTimeText(o,null,!1)),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+X(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+X(i)+'" data-full="'+X(r)+'"><span>'+X(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+X(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,n,r;if(this.sortEventSegs(t),e=kt(t),Mt(e),n=e[0]){for(r=0;r<n.length;r++)It(n[r]);for(r=0;r<n.length;r++)this.computeFgSegForwardBack(n[r],0,0)}},computeFgSegForwardBack:function(t,e,n){var r,i=t.forwardSegs;if(void 0===t.forwardCoord)for(i.length?(this.sortForwardSegs(i),this.computeFgSegForwardBack(i[0],e+1,n),t.forwardCoord=i[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),r=0;r<i.length;r++)this.computeFgSegForwardBack(i[r],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(nt(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,n,r=this.view.opt("slotEventOverlap"),i=t.backwardCoord,s=t.forwardCoord,o=this.generateSegVerticalCss(t);return r&&(s=Math.min(1,i+2*(s-i))),this.isRTL?(e=1-s,n=i):(e=i,n=1-s),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*n+"%",r&&t.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var fe=Ot.View=vt.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,n,r,i){this.calendar=t,this.type=this.name=n,this.options=r,this.intervalDuration=i||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=R(this.opt("eventOrder")),this.documentMousedownProxy=nt(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,r=G(this.intervalDuration),i=t.clone().startOf(r),s=i.clone().add(this.intervalDuration);return/year|month|week|day/.test(r)?(i.stripTime(),s.stripTime()):(i.hasTime()||(i=this.calendar.time(0)),s.hasTime()||(s=this.calendar.time(0))),e=i.clone(),e=this.skipHiddenDays(e),n=s.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:r,intervalStart:i,intervalEnd:s,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var r=t.end;return r.hasTime()||(r=r.clone().subtract(1)),ht(t.start,r,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var n=this,r=null;return this.displaying&&(r=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return n.displaying=t.when(n.displayView(e)).then(function(){n.forceScroll(n.computeInitialScroll(r)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var e=this,n=this.displaying;return n?n.then(function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,n,r,i=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(),t&&(n=nt(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,r=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,n(),r=+e.duration(1,t),r=Math.max(100,r),i.nowIndicatorIntervalID=setInterval(n,r)},r)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeScrollerHeight:function(t){var e,n,r=this.scrollerEl;return e=this.el.add(r),e.css({position:"relative",left:-1}),n=this.el.outerHeight()-r.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(t){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var r=this.trigger("eventRender",e,e,n);return r===!1?n=null:r&&r!==!0&&(n=t(r)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,r=this.getEventSegs();for(n=0;n<r.length;n++)e&&r[n].event._id!==e._id||r[n].el&&t.call(this,r[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return Z(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,r,i){var s=this.calendar,o=s.mutateEvent(t,e,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventDrop(t,o.dateDelta,a,r,i),s.reportEventChange()},triggerEventDrop:function(t,e,n,r,i){this.trigger("eventDrop",r[0],t,e,n,i,{})},reportExternalDrop:function(e,n,r,i,s){var o,a,l=e.eventProps;l&&(o=t.extend({},l,n),a=this.calendar.renderEvent(o,e.stick)[0]),this.triggerExternalDrop(a,n,r,i,s)},triggerExternalDrop:function(t,e,n,r,i){this.trigger("drop",n[0],e.start,r,i),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return Z(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,r,i){var s=this.calendar,o=s.mutateEvent(t,e,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventResize(t,o.durationDelta,a,r,i),s.reportEventChange()},triggerEventResize:function(t,e,n,r,i){this.trigger("eventResize",r[0],t,e,n,i,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&S(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n)},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],r=[],i=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;7>e;e++)(r[e]=-1!==t.inArray(e,n))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var r=t.clone();for(e=e||1;this.isHiddenDayHash[(r.day()+(n?e:0)+7)%7];)r.add(e,"days");return r},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),r=t.end,i=null;return r&&(i=r.clone().stripTime(),e=+r.time(),e&&e>=this.nextDayThreshold&&i.add(1,"days")),(!r||n>=i)&&(i=n.clone().add(1,"days")),{start:n,end:i}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),ge=Ot.Calendar=vt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Yt,initialize:function(){},initOptions:function(t){var e,i,s,o;t=r(t),e=t.lang,i=me[e],i||(e=ge.defaults.lang,i=me[e]||{}),s=Z(t.isRTL,i.isRTL,ge.defaults.isRTL),o=s?ge.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=i,this.overrides=t,this.options=n([ge.defaults,o,i,t]),Lt(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,r,i;if(-1!=t.inArray(e,jt))for(n=this.header.getViewsWithButtons(),t.each(Ot.views,function(t){n.push(t)}),r=0;r<n.length;r++)if(i=this.getViewSpec(n[r]),i&&i.singleUnit==e)return i},buildViewSpec:function(t){for(var r,i,s,o,a=this.overrides.views||{},l=[],u=[],c=[],d=t;d;)r=Nt[d],i=a[d],d=null,"function"==typeof r&&(r={"class":r}),r&&(l.unshift(r),u.unshift(r.defaults||{}),s=s||r.duration,d=d||r.type),i&&(c.unshift(i),s=s||i.duration,d=d||i.type);return r=N(l),r.type=t,r["class"]?(s&&(s=e.duration(s),s.valueOf()&&(r.duration=s,o=G(s),1===s.as(o)&&(r.singleUnit=o,c.unshift(a[o]||{})))),r.defaults=n(u),r.overrides=n(c),this.buildViewSpecOptions(r),this.buildViewSpecButtonText(r,t),r):!1},buildViewSpecOptions:function(t){t.options=n([ge.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),Lt(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var r=n.buttonText||{};return r[e]||(t.singleUnit?r[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(ge.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var n,r=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():r.hasTime()?r.clone().add(this.defaultTimedEventDuration):r.clone().add(this.defaultAllDayEventDuration),{start:r,end:n}}});ge.mixin(ie),ge.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ge.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ge.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var me=Ot.langs={};Ot.datepickerLang=function(e,n,r){var i=me[e]||(me[e]={});i.isRTL=r.isRTL,i.weekNumberTitle=r.weekHeader,t.each(ve,function(t,e){i[t]=e(r)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=r,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(r))},Ot.lang=function(e,r){var i,s;i=me[e]||(me[e]={}),r&&(i=me[e]=n([i,r])),s=Pt(e),t.each(ye,function(t,e){null==i[t]&&(i[t]=e(s,i))}),ge.defaults.lang=e};var ve={buttonText:function(t){return{prev:Q(t.prevText),next:Q(t.nextText),today:Q(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},ye={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},we={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Ot.lang("en",ge.englishDefaults),Ot.sourceNormalizers=[],Ot.sourceFetchers=[];var be={dataType:"json",cache:!1},Se=1;ge.prototype.getPeerEvents=function(t,e){var n,r,i=this.getEventCache(),s=[];for(n=0;n<i.length;n++)r=i[n],e&&e._id===r._id||s.push(r);return s};var Ce=Ot.BasicView=fe.extend({dayGridClass:he,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){var t=this.dayGridClass.extend(_e);return new t(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=fe.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),
this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,r=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.removeSegPopover(),r&&"number"==typeof r&&this.dayGrid.limitRows(r),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),r&&"number"!=typeof r&&this.dayGrid.limitRows(r),!e&&d(this.scrollerEl,n)&&(i(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),_e={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+X(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},De=Ot.MonthView=Ce.extend({computeRange:function(t){var e,n=Ce.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Nt.basic={"class":Ce},Nt.basicDay={type:"basic",duration:{days:1}},Nt.basicWeek={type:"basic",duration:{weeks:1}},Nt.month={"class":De,duration:{months:1},defaults:{fixedWeekCount:!0}};var Ee=Ot.AgendaView=fe.extend({timeGridClass:pe,timeGrid:null,dayGridClass:he,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function(){var t=this.timeGridClass.extend(Re);return new t(this)},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Te);return new t(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),fe.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,r;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=He),n&&this.dayGrid.limitRows(n)),e||(r=this.computeScrollerHeight(t),d(this.scrollerEl,r)?(i(this.noScrollRowEls,v(this.scrollerEl)),r=this.computeScrollerHeight(t),this.scrollerEl.height(r)):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var n=this.timeGrid.queryHit(t,e);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(t,e)),n},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,n,r=[],i=[],s=[];for(n=0;n<t.length;n++)t[n].allDay?r.push(t[n]):i.push(t[n]);e=this.timeGrid.renderEvents(i),this.dayGrid&&(s=this.dayGrid.renderEvents(r)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Re={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+X(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Te={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||X(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},He=5,xe=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Nt.agenda={"class":Ee,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Nt.agendaDay={type:"agenda",duration:{days:1}},Nt.agendaWeek={type:"agenda",duration:{weeks:1}},Ot}),/*!
 * FullCalendar v2.6.1 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e,o,a,l,u){function c(n,r){var s=r||[{message:n}];(e.googleCalendarError||t.noop).apply(u,s),(u.options.googleCalendarError||t.noop).apply(u,s),i.warn.apply(null,[n].concat(r||[]))}var d,h,p=r+"/"+encodeURIComponent(e.googleCalendarId)+"/events?callback=?",f=e.googleCalendarApiKey||u.options.googleCalendarApiKey,g=e.success;return f?(o.hasZone()||(o=o.clone().utc().add(-1,"day")),a.hasZone()||(a=a.clone().utc().add(1,"day")),l&&"local"!=l&&(h=l.replace(" ","_")),d=t.extend({},e.data||{},{key:f,timeMin:o.format(),timeMax:a.format(),timeZone:h,singleEvents:!0,maxResults:9999}),t.extend({},e,{googleCalendarId:null,url:p,data:d,startParam:!1,endParam:!1,timezoneParam:!1,success:function(e){var r,i,o=[];if(e.error)c("Google Calendar API: "+e.error.message,e.error.errors);else if(e.items&&(t.each(e.items,function(t,e){var r=e.htmlLink;h&&(r=n(r,"ctz="+h)),o.push({id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:r,location:e.location,description:e.description})}),r=[o].concat(Array.prototype.slice.call(arguments,1)),i=s(g,this,r),t.isArray(i)))return i;return o}})):(c("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function n(t,e){return t.replace(/(\?.*?)?(#|$)/,function(t,n,r){return(n?n+"&":"?")+e+r})}var r="https://www.googleapis.com/calendar/v3/calendars",i=t.fullCalendar,s=i.applyAll;i.sourceNormalizers.push(function(t){var e,n=t.googleCalendarId,r=t.url;!n&&r&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(r)?n=r:((e=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(r))||(e=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(r)))&&(n=decodeURIComponent(e[1])),n&&(t.googleCalendarId=n)),n&&(null==t.editable&&(t.editable=!1),t.url=n)}),i.sourceFetchers.push(function(t,n,r,i){return t.googleCalendarId?e(t,n,r,i,this):void 0})}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){!function(){"use strict";var t=(e.defineLocale||e.lang).call(e,"ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t,e,n){return 12>t?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return t}(),t.fullCalendar.datepickerLang("ja","ja",{closeText:"\u9589\u3058\u308b",prevText:"&#x3C;\u524d",nextText:"\u6b21&#x3E;",currentText:"\u4eca\u65e5",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],weekHeader:"\u9031",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"}),t.fullCalendar.lang("ja",{buttonText:{month:"\u6708",week:"\u9031",day:"\u65e5",list:"\u4e88\u5b9a\u30ea\u30b9\u30c8"},allDayText:"\u7d42\u65e5",eventLimitText:function(t){return"\u4ed6 "+t+" \u4ef6"}})}),/*!
FullCalendar Scheduler v1.2.1
Docs & License: http://fullcalendar.io/scheduler/
(c) 2015 Adam Shaw
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){var n,r,i,s,o,a,l,u,c,d,h,p,f,g,m,v,y,w,b,S,C,_,D,E,R,T,H,x,k,M,I,F,G,Y,L,P,W,B,z,O,N,V,$,A,j,U,q,Z,X,Q,J,K,tt,et,nt,rt,it,st,ot,at,lt,ut,ct,dt,ht,pt,ft,gt,mt,vt,yt,wt,bt,St,Ct,_t,Dt,Et,Rt,Tt,Ht,xt,kt,Mt,It,Ft,Gt,Yt,Lt,Pt,Wt=[].slice,Bt=function(t,e){function n(){this.constructor=t}for(var r in e)zt.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},zt={}.hasOwnProperty;return d=t.fullCalendar,d.schedulerVersion="1.2.1",3!==d.internalApiVersion?void d.warn("v"+d.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+d.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(r=d.Calendar,s=d.Class,A=d.View,h=d.Grid,gt=d.intersectRanges,tt=d.debounce,yt=d.isInt,dt=d.getScrollbarWidths,l=d.DragListener,ft=d.htmlEscape,Z=d.computeIntervalUnit,kt=d.proxy,U=d.capitaliseFirstLetter,j=d.applyAll,u=d.Emitter,st=d.durationHasTime,it=d.divideRangeByDuration,rt=d.divideDurationByDuration,St=d.multiplyDuration,Ht=d.parseFieldSpecs,q=d.compareByFieldSpecs,ot=d.flexibleCompare,mt=d.intersectRects,o=d.CoordCache,at=function(t){return t.find("> td").filter(function(t,e){return e.rowSpan<=1})},It=null,Ct=function(t,e){var n,r;if(n=t.css("direction"),r=t[0],null!=e){if("rtl"===n)switch(It){case"positive":e=e-r.clientWidth+r.scrollWidth;break;case"reverse":e=-e}return r.scrollLeft=e,t}if(e=r.scrollLeft,"rtl"===n)switch(It){case"positive":e=e+r.clientWidth-r.scrollWidth;break;case"reverse":e=-e}return e},ct=function(t){var e,n,r;if(e=t.css("direction"),n=t[0],r=n.scrollLeft,"rtl"===e)switch(It){case"negative":r=r-n.clientWidth+n.scrollWidth;break;case"reverse":r=-r-n.clientWidth+n.scrollWidth}return r},et=function(){var e,n,r;return e=t('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),n=e[0],r=n.scrollLeft>0?"positive":(n.scrollLeft=1,e.scrollLeft>0?"reverse":"negative"),e.remove(),r},t(function(){return It=et()}),B=function(){function e(e,n){this.overflowX=null!=e?e:"auto",this.overflowY=null!=n?n:"auto",this.el=t('<div class="fc-scrollpane"> <div> <div class="fc-scrollpane-inner"> <div class="fc-content"/> <div class="fc-bg"/> </div> </div> </div>'),this.scrollEl=this.el.children(),this.innerEl=this.scrollEl.children(),this.contentEl=this.innerEl.find(".fc-content"),this.bgEl=this.innerEl.find(".fc-bg"),this.scrollEl.on("scroll",kt(this,"handleScroll")).on("scroll",tt(kt(this,"handleScrollStop"),100)),this.handlers={},this.gutters={}}return e.prototype.el=null,e.prototype.innerEl=null,e.prototype.contentEl=null,e.prototype.bgEl=null,e.prototype.overflowX=null,e.prototype.overflowY=null,e.prototype.isScrolling=!1,e.prototype.handlers=null,e.prototype.height=null,e.prototype.contentWidth=null,e.prototype.contentMinWidth=null,e.prototype.gutters=null,e.prototype.update=function(){var t,e,n,r,i,s,o;return s=this.scrollEl,r=this.overflowX,i=this.overflowY,e="invisible-scroll"===r,n="invisible-scroll"===i,s.toggleClass("fc-no-scrollbars",(e||"hidden"===r)&&(n||"hidden"===i)&&!pt(s)),s.css({overflowX:e?"scroll":r,overflowY:n?"scroll":i}),t={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},(e||n)&&(o=dt(s),e&&(t.marginTop=-o.top,t.marginBottom=-o.bottom),n&&(t.marginLeft=-o.left,t.marginRight=-o.right)),s.css(t)},e.prototype.getScrollbarWidths=function(){var t;return t=dt(this.scrollEl),"invisible-scroll"===this.overflowX&&(t.top=0,t.bottom=0),"invisible-scroll"===this.overflowY&&(t.left=0,t.right=0),t},e.prototype.handleScroll=function(){return this.isScrolling||(this.isScrolling=!0,this.trigger("scrollStart")),this.trigger("scroll",this.scrollEl.scrollTop(),this.scrollEl.scrollLeft())},e.prototype.handleScrollStop=function(){return this.isScrolling=!1,this.trigger("scrollStop")},e.prototype.setHeight=function(t){return this.height=t,this.updateCss()},e.prototype.getHeight=function(){var t;return null!=(t=this.height)?t:this.scrollEl.height()},e.prototype.setContentWidth=function(t){return this.contentWidth=t,this.updateCss()},e.prototype.setContentMinWidth=function(t){return this.contentMinWidth=t,this.updateCss()},e.prototype.setGutters=function(e){return e?t.extend(this.gutters,e):this.gutters={},this.updateCss()},e.prototype.updateCss=function(){var t;return this.scrollEl.height(this.height),t=this.gutters,this.innerEl.css({width:this.contentWidth?this.contentWidth+(t.left||0)+(t.right||0):"",minWidth:this.contentMinWidth?this.contentMinWidth+(t.left||0)+(t.right||0):void 0,paddingLeft:t.left||"",paddingRight:t.right||"",paddingTop:t.top||"",paddingBottom:t.bottom||""}),this.bgEl.css({left:t.left||"",right:t.right||"",top:t.top||"",bottom:t.bottom||""})},e.prototype.append=function(t){return this.contentEl.append(t)},e.prototype.scrollTop=function(t){return this.scrollEl.scrollTop(t)},e.prototype.scrollLeft=function(t){return this.scrollEl.scrollLeft(t)},e.prototype.on=function(t,e){var n;return((n=this.handlers)[t]||(n[t]=[])).push(e),this},e.prototype.trigger=function(){var t,e,n,r,i,s;for(n=arguments[0],t=2<=arguments.length?Wt.call(arguments,1):[],s=this.handlers[n]||[],r=0,i=s.length;i>r;r++)e=s[r],e.apply(this,t)},e}(),pt=function(t){var e;return e=dt(t),e.left||e.right||e.top||e.bottom},W=function(){function t(t,e){var n,r,i,s;for(this.axis=t,this.scrollers=e,i=this.scrollers,n=0,r=i.length;r>n;n++)s=i[n],this.initScroller(s)}return t.prototype.axis=null,t.prototype.scrollers=null,t.prototype.masterScroller=null,t.prototype.enabled=!0,t.prototype.enable=function(){return this.enabled=!0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.initScroller=function(t){return t.on("scrollStart",function(e){return function(){e.masterScroller||(e.masterScroller=t)}}(this)).on("scroll",function(e){return function(n,r){var i,s,o,a;if(t===e.masterScroller)for(a=e.scrollers,i=0,s=a.length;s>i;i++)if(o=a[i],o!==e.masterScroller)switch(e.axis){case"horizontal":o.scrollLeft(r);break;case"vertical":o.scrollTop(n)}}}(this)).on("scrollStop",function(e){return function(){t===e.masterScroller&&(e.masterScroller=null)}}(this))},t.prototype.update=function(){var t,e,n,r,i,s,o,a,l,u,c,d,h;for(t=function(){var t,e,n,r;for(n=this.scrollers,r=[],t=0,e=n.length;e>t;t++)d=n[t],r.push(d.getScrollbarWidths());return r}.call(this),a=l=u=o=0,n=0,i=t.length;i>n;n++)h=t[n],a=Math.max(a,h.left),l=Math.max(l,h.right),u=Math.max(u,h.top),o=Math.max(o,h.bottom);for(c=this.scrollers,e=r=0,s=c.length;s>r;e=++r)d=c[e],h=t[e],d.setGutters("horizontal"===this.axis?{left:a-h.left,right:l-h.right}:{top:u-h.top,bottom:o-h.bottom})},t}(),L=function(){function e(t){this.scroller=t,this.sprites=[],this.scroller.on("scrollStart",function(t){return function(){return t.shouldRequeryDimensions?t.cacheDimensions():void 0}}(this)),this.scroller.on("scroll",function(t){return function(e,n){var r,i,s;return i=t.scroller.scrollEl,r=ct(i),s=i.scrollTop(),t.viewportRect={left:r,right:r+i[0].clientWidth,top:s,bottom:s+i[0].clientHeight},t.updatePositions()}}(this))}return e.prototype.scroller=null,e.prototype.scrollbarWidths=null,e.prototype.sprites=null,e.prototype.viewportRect=null,e.prototype.contentOffset=null,e.prototype.isHFollowing=!0,e.prototype.isVFollowing=!1,e.prototype.containOnNaturalLeft=!1,e.prototype.containOnNaturalRight=!1,e.prototype.shouldRequeryDimensions=!1,e.prototype.minTravel=0,e.prototype.isForcedAbsolute=!1,e.prototype.isForcedRelative=!1,e.prototype.setSprites=function(e){var n,r,i;if(this.clearSprites(),e instanceof t)return this.sprites=function(){var n,r,s;for(s=[],n=0,r=e.length;r>n;n++)i=e[n],s.push(new P(t(i),this));return s}.call(this);for(n=0,r=e.length;r>n;n++)i=e[n],i.follower=this;return this.sprites=e},e.prototype.clearSprites=function(){var t,e,n,r;for(n=this.sprites,t=0,e=n.length;e>t;t++)r=n[t],r.clear();return this.sprites=[]},e.prototype.cacheDimensions=function(){var t,e,n,r,i,s,o;for(i=this.scroller.scrollEl,e=ct(i),o=i.scrollTop(),this.viewportRect={left:e,right:e+i[0].clientWidth,top:o,bottom:o+i[0].clientHeight},this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.innerEl.offset(),r=this.sprites,t=0,n=r.length;n>t;t++)s=r[t],s.cacheDimensions()},e.prototype.forceAbsolute=function(){var t,e,n,r,i;for(this.isForcedAbsolute=!0,n=this.sprites,r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.doAbsolute?void 0:i.assignPosition());return r},e.prototype.forceRelative=function(){var t,e,n,r,i;for(this.isForcedRelative=!0,n=this.sprites,r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.doAbsolute?i.assignPosition():void 0);return r},e.prototype.clearForce=function(){var t,e,n,r,i;for(this.isForcedRelative=!1,this.isForcedAbsolute=!1,n=this.sprites,r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.assignPosition());return r},e.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},e.prototype.updatePositions=function(){var t,e,n,r;for(n=this.sprites,t=0,e=n.length;e>t;t++)r=n[t],r.updatePosition()},e.prototype.getContentRect=function(t){var e,n,r;return n=t.offset(),e=n.left+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.left,r=n.top+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.top,{left:e,right:e+t.width(),top:r,bottom:r+t.height()}},e.prototype.getBoundingRect=function(t){var e,n,r;return n=t.offset(),e=n.left-this.contentOffset.left,r=n.top-this.contentOffset.top,{left:e,right:e+t.outerWidth(),top:r,bottom:r+t.outerHeight()}},e}(),P=function(){function t(t,e){this.el=t,this.follower=null!=e?e:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return t.prototype.follower=null,t.prototype.el=null,t.prototype.absoluteEl=null,t.prototype.naturalRect=null,t.prototype.parentRect=null,t.prototype.containerRect=null,t.prototype.isEnabled=!0,t.prototype.isHFollowing=!1,t.prototype.isVFollowing=!1,t.prototype.doAbsolute=!1,t.prototype.isAbsolute=!1,t.prototype.isCentered=!1,t.prototype.rect=null,t.prototype.isBlock=!1,t.prototype.naturalWidth=null,t.prototype.disable=function(){return this.isEnabled?(this.isEnabled=!1,this.resetPosition(),this.unabsolutize()):void 0},t.prototype.enable=function(){return this.isEnabled?void 0:(this.isEnabled=!0,this.assignPosition())},t.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},t.prototype.cacheDimensions=function(){var t,e,n,r,i,s,o,a;return r=!1,i=!1,n=!1,this.naturalWidth=this.el.width(),this.resetPosition(),e=this.follower,o=this.naturalRect=e.getBoundingRect(this.el),a=this.el.parent(),this.parentRect=e.getBoundingRect(a),t=this.containerRect=bt(e.getContentRect(a),o),s=e.minTravel,e.containOnNaturalLeft&&(t.left=o.left),e.containOnNaturalRight&&(t.right=o.right),e.isHFollowing&&ut(t)-ut(o)>=s&&(n="center"===this.el.css("text-align"),r=!0),e.isVFollowing&&lt(t)-lt(o)>=s&&(i=!0),this.isHFollowing=r,this.isVFollowing=i,this.isCentered=n},t.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},t.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},t.prototype.computePosition=function(){var t,e,n,r,i,s,o,a;return o=this.follower.viewportRect,n=this.parentRect,t=this.containerRect,a=mt(o,n),r=null,e=!1,a&&(r=J(this.naturalRect),s=mt(r,n),(this.isCentered&&!Ft(o,n)||s&&!Ft(o,s))&&(e=!0,this.isHFollowing&&(this.isCentered?(i=ut(r),r.left=(a.left+a.right)/2-i/2,r.right=r.left+i):ht(r,o)||(e=!1),ht(r,t)&&(e=!1)),this.isVFollowing&&(Pt(r,o)||(e=!1),Pt(r,t)&&(e=!1)),Ft(o,r)||(e=!1))),this.rect=r,this.doAbsolute=e},t.prototype.assignPosition=function(){var t,e;return this.isEnabled?this.rect?!this.doAbsolute&&!this.follower.isForcedAbsolute||this.follower.isForcedRelative?(e=this.rect.top-this.naturalRect.top,t=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(e||t)).css({top:e,left:t})):(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):this.unabsolutize():void 0},t.prototype.absolutize=function(){return this.isAbsolute?void 0:(this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0)},t.prototype.unabsolutize=function(){return this.isAbsolute?(this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1):void 0},t.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},t}(),J=function(t){return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}},ut=function(t){return t.right-t.left},lt=function(t){return t.bottom-t.top},Ft=function(t,e){return Gt(t,e)&&Yt(t,e)},Gt=function(t,e){return e.left>=t.left&&e.right<=t.right},Yt=function(t,e){return e.top>=t.top&&e.bottom<=t.bottom},ht=function(t,e){return t.left<e.left?(t.right=e.left+ut(t),t.left=e.left,!0):t.right>e.right?(t.left=e.right-ut(t),t.right=e.right,!0):!1},Pt=function(t,e){return t.top<e.top?(t.bottom=e.top+lt(t),t.top=e.top,!0):t.bottom>e.bottom?(t.top=e.bottom-lt(t),t.bottom=e.bottom,!0):!1},bt=function(t,e){return{left:Math.min(t.left,e.left),right:Math.max(t.right,e.right),top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom)}},i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.prototype.resourceManager=null,n.prototype.initialize=function(){return this.resourceManager=new R(this)},n.prototype.instantiateView=function(t){var e,n;return e=this.getViewSpec(t),n=e["class"],this.options.resources&&e.options.resources!==!1&&(e.queryResourceClass?n=e.queryResourceClass(e)||n:e.resourceClass&&(n=e.resourceClass)),new n(this,t,e.options,e.duration)},n.prototype.getResources=function(){return this.resourceManager.topLevelResources},n.prototype.addResource=function(t,e){var n;null==e&&(e=!1),n=this.resourceManager.addResource(t),e&&this.view.scrollToResource&&n.done(function(t){return function(e){return t.view.scrollToResource(e)}}(this))},n.prototype.removeResource=function(t){return this.resourceManager.removeResource(t)},n.prototype.refetchResources=function(){this.resourceManager.fetchResources()},n.prototype.rerenderResources=function(){this.resourceManager.resetResources()},n.prototype.getPeerEvents=function(t,e){var r,i,s,o,a,l,u,c,d,h,p,f,g,m;for(f=n.__super__.getPeerEvents.apply(this,arguments),h=t.resourceId?[t.resourceId]:e?this.getEventResourceIds(e):[],r=[],s=0,l=f.length;l>s;s++){if(p=f[s],i=!1,m=this.getEventResourceIds(p),m.length&&h.length){for(o=0,u=m.length;u>o;o++)for(g=m[o],a=0,c=h.length;c>a;a++)if(d=h[a],d===g){i=!0;break}}else i=!0;i&&r.push(p)}return r},n.prototype.buildSelectSpan=function(t,e,r){var i;return i=n.__super__.buildSelectSpan.apply(this,arguments),r&&(i.resourceId=r),i},n.prototype.getResourceById=function(t){return this.resourceManager.getResourceById(t)},n.prototype.getEventResourceId=function(t){return this.getEventResourceIds(t)[0]},n.prototype.getEventResourceIds=function(t){var e,n,r,i,s,o,a,l;if(l=String(null!=(s=null!=(o=t[this.getEventResourceField()])?o:t.resourceId)?s:""))return[l];if(t.resourceIds){for(i=[],a=t.resourceIds,e=0,n=a.length;n>e;e++)l=a[e],r=String(null!=l?l:""),r&&i.push(r);return i}return[]},n.prototype.setEventResourceId=function(t,e){return t[this.getEventResourceField()]=String(null!=e?e:"")},n.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},n.prototype.getResourceEvents=function(e){var n;return n="object"==typeof e?e:this.getResourceById(e),n?this.clientEvents(function(e){return function(r){return-1!==t.inArray(n.id,e.getEventResourceIds(r))}}(this)):[]},n.prototype.getEventResource=function(t){return this.getEventResources(t)[0]},n.prototype.getEventResources=function(t){var e,n,r,i,s,o,a;if(e="object"==typeof t?t:this.clientEvents(t)[0],a=[],e)for(i=this.getEventResourceIds(e),n=0,r=i.length;r>n;n++)o=i[n],s=this.getResourceById(o),s&&a.push(s);return a},n}(r),r.prototype=i.prototype,Dt=A.prototype.displayView,Rt=A.prototype.renderSkeleton,Tt=A.prototype.unrenderSkeleton,_t=A.prototype.displayEvents,A.prototype.isResourcesBound=!1,A.prototype.settingResources=null,A.prototype.displayView=function(){return Dt.apply(this,arguments),xt(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},A.prototype.unrenderSkeleton=function(){return Tt.apply(this,arguments),this.unbindResources()},A.prototype.displayEvents=function(t){return this.whenResources(function(e){return function(){return _t.call(e,t)}}(this))},A.prototype.bindResources=function(){var e;return this.isResourcesBound?void 0:(this.isResourcesBound=!0,this.settingResources=t.Deferred(),e=function(t){return function(e){return t.setResources(e),t.settingResources.resolve()}}(this),this.calendar.resourceManager.on("set",this._setResources=e).on("unset",this._unsetResources=kt(this,"unsetResources")).on("reset",this._resetResources=kt(this,"resetResources")).on("add",this._addResource=kt(this,"addResource")).on("remove",this._removeResource=kt(this,"removeResource")),this.calendar.resourceManager.hasFetched()?e(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources())},A.prototype.unbindResources=function(){return this.isResourcesBound?(this.calendar.resourceManager.off("set",this._setResources).off("unset",this._unsetResources).off("reset",this._resetResources).off("add",this._addResource).off("remove",this._removeResource),"resolved"===this.settingResources.state()&&this.unsetResources(),this.settingResources=null,this.isResourcesBound=!1):void 0},A.prototype.whenResources=function(e){return"resolved"===this.settingResources.state()?t.when(e?e():void 0):e?this.settingResources.then(e):this.settingResources.promise()},A.prototype.setResources=function(t){},A.prototype.unsetResources=function(){},A.prototype.resetResources=function(t){return this.calendar.rerenderEvents()},A.prototype.addResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},A.prototype.removeResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},Et=h.prototype.getSegClasses,h.prototype.getSegClasses=function(t){var e,n,r,i,s;for(e=Et.apply(this,arguments),i=this.getSegResources(t),n=0,r=i.length;r>n;n++)s=i[n],e=e.concat(s.eventClassName||[]);return e},h.prototype.getSegSkinCss=function(t){var e,n,r,i,s,o,a,l,u,c;return c=this.view,e=t.event,l=e.source||{},n=e.color,u=l.color,o=c.opt("eventColor"),a=this.getSegResources(t),r=function(){var t,e,n,r;for(r=null,e=0,n=a.length;n>e;e++)for(t=a[e];t&&!r;)r=t.eventBackgroundColor||t.eventColor,t=t._parent;return r},i=function(){var t,e,n,r;for(r=null,e=0,n=a.length;n>e;e++)for(t=a[e];t&&!r;)r=t.eventBorderColor||t.eventColor,t=t._parent;return r},s=function(){var t,e,n,r;for(r=null,e=0,n=a.length;n>e;e++)for(t=a[e];t&&!r;)r=t.eventTextColor,t=t._parent;return r},{"background-color":e.backgroundColor||n||r()||l.backgroundColor||u||c.opt("eventBackgroundColor")||o,"border-color":e.borderColor||n||i()||l.borderColor||u||c.opt("eventBorderColor")||o,color:e.textColor||s()||l.textColor||c.opt("eventTextColor")}},h.prototype.getSegResources=function(t){return t.resource?[t.resource]:this.view.calendar.getEventResources(t.event)},R=function(e){function n(t){this.calendar=t,this.initializeCache()}return Bt(n,e),n.mixin(u),n.resourceGuid=1,n.ajaxDefaults={dataType:"json",cache:!1},n.prototype.calendar=null,n.prototype.topLevelResources=null,n.prototype.resourcesById=null,n.prototype.fetching=null,n.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},n.prototype.getResources=function(){var e;return this.fetching?t.Deferred().resolve(this.topLevelResources).promise():(e=t.Deferred(),this.fetchResources().done(function(t){return e.resolve(t)}).fail(function(){return e.resolve([])}),e)},n.prototype.fetchResources=function(){var e;return e=this.fetching,t.when(e).then(function(t){return function(){return t.fetching=t.fetchResourceInputs().then(function(n){return t.setResources(n,Boolean(e)),t.topLevelResources})}}(this))},n.prototype.fetchResourceInputs=function(){var e,r,i;switch(e=t.Deferred(),i=this.calendar.options.resources,"string"===t.type(i)&&(i={url:i}),t.type(i)){case"function":i(function(t){return function(t){return e.resolve(t)}}(this));break;case"object":r=t.ajax(t.extend({},n.ajaxDefaults,i));break;case"array":e.resolve(i);break;default:e.resolve([])}return r||(r=e.promise()),"pending"===!r.state()&&(this.calendar.pushLoading(),r.always(function(){return this.calendar.popLoading()})),r},n.prototype.resetResources=function(){return this.getResources().then(function(t){return function(){return t.trigger("reset",t.topLevelResources)}}(this))},n.prototype.getResourceById=function(t){return this.resourcesById[t]},n.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},n.prototype.setResources=function(t,e){var n,r,i,s,o,a;for(this.initializeCache(),o=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)s=t[e],r.push(this.buildResource(s));return r}.call(this),a=function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)i=o[t],this.addResourceToIndex(i)&&n.push(i);return n}.call(this),n=0,r=a.length;r>n;n++)i=a[n],this.addResourceToTree(i);return e?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},n.prototype.addResource=function(e){return t.when(this.fetching).then(function(t){return function(){var n;return n=t.buildResource(e),t.addResourceToIndex(n)?(t.addResourceToTree(n),t.trigger("add",n),n):!1}}(this))},n.prototype.addResourceToIndex=function(t){var e,n,r,i;if(this.resourcesById[t.id])return!1;for(this.resourcesById[t.id]=t,i=t.children,n=0,r=i.length;r>n;n++)e=i[n],this.addResourceToIndex(e);return!0},n.prototype.addResourceToTree=function(t){var e,n,r,i;if(!t.parent){if(n=String(null!=(r=t.parentId)?r:"")){if(e=this.resourcesById[n],!e)return!1;t.parent=e,i=e.children}else i=this.topLevelResources;i.push(t)}return!0},n.prototype.removeResource=function(e){var n;return n="object"==typeof e?e.id:e,t.when(this.fetching).then(function(t){return function(){var e;return e=t.removeResourceFromIndex(n),e&&(t.removeResourceFromTree(e),t.trigger("remove",e)),e}}(this))},n.prototype.removeResourceFromIndex=function(t){var e,n,r,i,s;if(s=this.resourcesById[t]){for(delete this.resourcesById[t],i=s.children,n=0,r=i.length;r>n;n++)e=i[n],this.removeResourceFromIndex(e.id);return s}return!1},n.prototype.removeResourceFromTree=function(t,e){var n,r,i,s;for(null==e&&(e=this.topLevelResources),n=r=0,i=e.length;i>r;n=++r){if(s=e[n],s===t)return t.parent=null,e.splice(n,1),!0;if(this.removeResourceFromTree(t,s.children))return!0}return!1},n.prototype.buildResource=function(e){var r,i,s,o,a;return a=t.extend({},e),a.id=String(null!=(o=e.id)?o:"_fc"+n.resourceGuid++),s=e.eventClassName,a.eventClassName=function(){switch(t.type(s)){case"string":return s.split(/\s+/);case"array":return s;default:return[]}}(),a.children=function(){var t,n,s,o,l;for(o=null!=(s=e.children)?s:[],l=[],t=0,n=o.length;n>t;t++)i=o[t],r=this.buildResource(i),r.parent=a,l.push(r);return l}.call(this),a},n}(s),I=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.prototype.resourceTextFunc=null,n.prototype.unsetResources=function(){return this.clearEvents()},n.prototype.resetResources=function(t){var e;return e=this.queryScroll(),this.unsetResources(),this.setResources(t),this.setScroll(e),this.calendar.rerenderEvents()},n.prototype.getResourceText=function(t){return this.getResourceTextFunc()(t)},n.prototype.getResourceTextFunc=function(){var t;return this.resourceTextFunc?this.resourceTextFunc:(t=this.opt("resourceText"),"function"!=typeof t&&(t=function(t){return t.title||t.id}),this.resourceTextFunc=t)},n.prototype.triggerDayClick=function(t,e,n){var r;return r=this.calendar.resourceManager,this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n,this,r.getResourceById(t.resourceId))},n.prototype.triggerSelect=function(t,e){var n;return n=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e,this,n.getResourceById(t.resourceId))},n.prototype.triggerExternalDrop=function(t,e,n,r,i){return this.trigger("drop",n[0],e.start,r,i,e.resourceId),t?this.trigger("eventReceive",null,t):void 0},n.prototype.reportEventDrop=function(){var t,e,r;return e=arguments[0],t=arguments[1],r=3<=arguments.length?Wt.call(arguments,2):[],t=this.normalizeDropLocation(t),t.resourceId&&e.resourceIds&&(t.resourceIds=null),n.__super__.reportEventDrop.apply(this,[e,t].concat(Wt.call(r)))},n.prototype.reportExternalDrop=function(){var t,e,r;return e=arguments[0],t=arguments[1],r=3<=arguments.length?Wt.call(arguments,2):[],t=this.normalizeDropLocation(t),n.__super__.reportExternalDrop.apply(this,[e,t].concat(Wt.call(r)))},n.prototype.normalizeDropLocation=function(e){var n;return n=t.extend({},e),delete n.resourceId,this.calendar.setEventResourceId(n,e.resourceId),n},n}(A),E=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.prototype.allowCrossResource=!0,n.prototype.eventRangeToSpans=function(e,r){var i,s,o,a,l;if(a=this.view.calendar.getEventResourceIds(r),a.length){for(l=[],i=0,s=a.length;s>i;i++)o=a[i],l.push(t.extend({},e,{resourceId:o}));return l}return d.isBgEvent(r)?n.__super__.eventRangeToSpans.apply(this,arguments):[]},n.prototype.fabricateHelperEvent=function(t,e){var r;return r=n.__super__.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(r,t.resourceId),r},n.prototype.computeEventDrop=function(t,e,r){var i,s;return i=!0,i||t.resourceId===e.resourceId?(s=n.__super__.computeEventDrop.apply(this,arguments),s&&(s.resourceId=e.resourceId),s):null},n.prototype.computeExternalDrop=function(t,e){var r;return r=n.__super__.computeExternalDrop.apply(this,arguments),r&&(r.resourceId=t.resourceId),r},n.prototype.computeEventResize=function(t,e,r,i){var s;return this.allowCrossResource||e.resourceId===r.resourceId?(s=n.__super__.computeEventResize.apply(this,arguments),s&&(s.resourceId=e.resourceId),s):void 0},n.prototype.computeSelectionSpan=function(t,e){var r;return this.allowCrossResource||t.resourceId===e.resourceId?(r=n.__super__.computeSelectionSpan.apply(this,arguments),r&&(r.resourceId=t.resourceId),r):void 0},n}(h),D={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(t){return this.flattenedResources=this.flattenResources(t),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(t){var e,n,r,i;return n=this.view.opt("resourceOrder"),n?(e=Ht(n),i=function(t,n){return q(t,n,e)}):i=null,r=[],this.accumulateResources(t,i,r),r},accumulateResources:function(t,e,n){var r,i,s,o,a;for(e?(a=t.slice(0),a.sort(e)):a=t,o=[],r=0,i=a.length;i>r;r++)s=a[r],n.push(s),o.push(this.accumulateResources(s.children,e,n));return o},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),d.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?Math.floor(t/(this.resourceCnt||1)):t%this.daysPerRow},getColResource:function(t){return this.flattenedResources[this.getColResourceIndex(t)]},getColResourceIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?t%(this.resourceCnt||1):Math.floor(t/this.daysPerRow)},indicesToCol:function(t,e){var n;return n=this.datesAboveResources?e*(this.resourceCnt||1)+t:t*this.daysPerRow+e,this.isRTL&&(n=this.colCnt-1-n),n},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():d.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var t,e,n,r,i;for(i=[],n=this.flattenedResources,t=0,e=n.length;e>t;t++)r=n[t],i.push(this.renderHeadResourceCellHtml(r));return this.wrapTr(i,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var t,e,n,r,i,s,o,a,l,u;for(u=[],e=[],o=this.flattenedResources,r=0,s=o.length;s>r;r++)for(l=o[r],u.push(this.renderHeadResourceCellHtml(l,null,this.daysPerRow)),n=i=0,a=this.daysPerRow;a>i;n=i+=1)t=this.dayDates[n].clone(),e.push(this.renderHeadResourceDateCellHtml(t,l));return this.wrapTr(u,"renderHeadIntroHtml")+this.wrapTr(e,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var t,e,n,r,i,s,o,a,l,u;for(e=[],u=[],n=r=0,o=this.daysPerRow;o>r;n=r+=1)for(t=this.dayDates[n].clone(),e.push(this.renderHeadDateCellHtml(t,this.resourceCnt)),a=this.flattenedResources,i=0,s=a.length;s>i;i++)l=a[i],u.push(this.renderHeadResourceCellHtml(l,t));return this.wrapTr(e,"renderHeadIntroHtml")+this.wrapTr(u,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(t,e,n){return'<th class="fc-resource-cell" data-resource-id="'+t.id+'"'+(e?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(n>1?' colspan="'+n+'"':"")+">"+ft(this.view.getResourceText(t))+"</th>"},renderHeadResourceDateCellHtml:function(t,e,n){return this.renderHeadDateCellHtml(t,n,'data-resource-id="'+e.id+'"')},processHeadResourceEls:function(e){return e.find(".fc-resource-cell").each(function(e){return function(n,r){var i;return i=e.datesAboveResources?e.getColResource(n):e.flattenedResources[e.isRTL?e.flattenedResources.length-1-n:n],e.view.trigger("resourceRender",i,i,t(r),t())}}(this))},renderBgCellsHtml:function(t){var e,n,r,i,s,o;if(this.resourceCnt){for(r=[],e=i=0,s=this.colCnt;s>i;e=i+=1)n=this.getCellDate(t,e),o=this.getColResource(e),r.push(this.renderResourceBgCellHtml(n,o));return r.join("")}return d.DayTableMixin.renderBgCellsHtml.call(this,t)},renderResourceBgCellHtml:function(t,e){return this.renderBgCellHtml(t,'data-resource-id="'+e.id+'"')},wrapTr:function(t,e){return this.isRTL?(t.reverse(),"<tr>"+t.join("")+this[e]()+"</tr>"):"<tr>"+this[e]()+t.join("")+"</tr>"}},_=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.mixin(E),n.mixin(D),n.prototype.getHitSpan=function(t){var e;return e=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},n.prototype.spanToSegs=function(e){var n,r,i,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,r=this.datesAboveResources?this.sliceRangeByDay(e):this.sliceRangeByRow(e),c){for(p=[],s=0,l=r.length;l>s;s++)for(f=r[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],e.resourceId&&e.resourceId!==h.id||(n=t.extend({},f),n.resource=h,this.isRTL?(n.leftCol=this.indicesToCol(d,f.lastRowDayIndex),n.rightCol=this.indicesToCol(d,f.firstRowDayIndex)):(n.leftCol=this.indicesToCol(d,f.firstRowDayIndex),n.rightCol=this.indicesToCol(d,f.lastRowDayIndex)),p.push(n));return p}for(i=0,a=r.length;a>i;i++)f=r[i],this.isRTL?(f.leftCol=f.lastRowDayIndex,f.rightCol=f.firstRowDayIndex):(f.leftCol=f.firstRowDayIndex,f.rightCol=f.lastRowDayIndex);return r},n}(d.DayGrid),x=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.mixin(E),n.mixin(D),n.prototype.getHitSpan=function(t){var e;return e=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},n.prototype.spanToSegs=function(e){var n,r,i,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,r=this.sliceRangeByTimes(e),c){for(p=[],s=0,l=r.length;l>s;s++)for(f=r[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],e.resourceId&&e.resourceId!==h.id||(n=t.extend({},f),n.resource=h,n.col=this.indicesToCol(d,f.dayIndex),p.push(n));return p}for(i=0,a=r.length;a>i;i++)f=r[i],f.col=f.dayIndex;return r},
n}(d.TimeGrid),N=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bt(e,t),e.prototype.timeGrid=null,e.prototype.isScrolled=!1,e.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},e.prototype.instantiateGrid=function(){return new O(this)},e.prototype.setRange=function(t){return e.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(t)},e.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},e.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},e.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",kt(this,"handleBodyScroll"))},e.prototype.handleBodyScroll=function(t,e){if(t){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},e.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),e.__super__.unrenderSkeleton.apply(this,arguments)},e.prototype.renderDates=function(){return this.timeGrid.renderDates()},e.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},e.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},e.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.renderNowIndicator=function(t){return this.timeGrid.renderNowIndicator(t)},e.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},e.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},e.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},e.prototype.queryHit=function(t,e){return this.timeGrid.queryHit(t,e)},e.prototype.getHitSpan=function(t){return this.timeGrid.getHitSpan(t)},e.prototype.getHitEl=function(t){return this.timeGrid.getHitEl(t)},e.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},e.prototype.setHeight=function(t,e){var n;return n=e?"auto":t-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n)},e.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},e.prototype.computeInitialScroll=function(t){return this.timeGrid.computeInitialScroll(t)},e.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},e.prototype.setScroll=function(t){return this.timeGrid.setScroll(t)},e.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.updateWidth()},e.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},e.prototype.renderDrag=function(t,e){return this.timeGrid.renderDrag(t,e)},e.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},e.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},e.prototype.renderSelection=function(t){return this.timeGrid.renderSelection(t)},e.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},e}(A),K=d.cssToStr,O=function(n){function r(){var t;r.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=e.duration(this.opt("minTime")||"00:00"),this.maxTime=e.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(t=this.opt("snapDuration"))?e.duration(t):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=rt(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return Bt(r,n),r.prototype.slotDates=null,r.prototype.slotCnt=null,r.prototype.snapCnt=null,r.prototype.snapsPerSlot=null,r.prototype.snapDiffToIndex=null,r.prototype.snapIndexToDiff=null,r.prototype.headEl=null,r.prototype.slatContainerEl=null,r.prototype.slatEls=null,r.prototype.containerCoordCache=null,r.prototype.slatCoordCache=null,r.prototype.slatInnerCoordCache=null,r.prototype.headScroller=null,r.prototype.bodyScroller=null,r.prototype.joiner=null,r.prototype.follower=null,r.prototype.eventTitleFollower=null,r.prototype.minTime=null,r.prototype.maxTime=null,r.prototype.timeWindowMs=null,r.prototype.slotDuration=null,r.prototype.snapDuration=null,r.prototype.duration=null,r.prototype.labelInterval=null,r.prototype.headerFormats=null,r.prototype.isTimeScale=null,r.prototype.largeUnit=null,r.prototype.emphasizeWeeks=!1,r.prototype.titleFollower=null,r.prototype.segContainerEl=null,r.prototype.segContainerHeight=null,r.prototype.bgSegContainerEl=null,r.prototype.helperEls=null,r.prototype.innerEl=null,r.prototype.opt=function(t){return this.view.opt(t)},r.prototype.isValidDate=function(t){var e;return this.view.isHiddenDay(t)?!1:this.isTimeScale?(e=t.time()-this.minTime,e=(e%864e5+864e5)%864e5,e<this.timeWindowMs):!0},r.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},r.prototype.computeDisplayEventEnd=function(){return!1},r.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},r.prototype.normalizeGridDate=function(t){var e;return this.isTimeScale?(e=t.clone(),e.hasTime()||e.time(0)):(e=t.clone().stripTime(),this.largeUnit&&e.startOf(this.largeUnit)),e},r.prototype.normalizeGridRange=function(t){var e,n;return this.isTimeScale?n={start:this.normalizeGridDate(t.start),end:this.normalizeGridDate(t.end)}:(n=this.view.computeDayRange(t),this.largeUnit&&(n.start.startOf(this.largeUnit),e=n.end.clone().startOf(this.largeUnit),e.isSame(n.end)&&e.isAfter(n.start)||e.add(this.slotDuration),n.end=e)),n},r.prototype.rangeUpdated=function(){var t,e;for(this.start=this.normalizeGridDate(this.start).add(this.minTime),this.end=this.normalizeGridDate(this.end).subtract(1,"day").add(this.maxTime),e=[],t=this.start.clone();t<this.end;)this.isValidDate(t)&&e.push(t.clone()),t.add(this.slotDuration);return this.slotDates=e,this.updateGridDates()},r.prototype.updateGridDates=function(){var t,e,n,r,i;for(r=-1,e=0,n=[],i=[],t=this.start.clone();t<this.end;)this.isValidDate(t)?(r++,n.push(r),i.push(e)):n.push(r+.5),t.add(this.snapDuration),e++;return this.snapDiffToIndex=n,this.snapIndexToDiff=i,this.snapCnt=r+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},r.prototype.spanToSegs=function(t){var e,n;return e=this.normalizeGridRange(t),this.computeDateSnapCoverage(t.start)<this.computeDateSnapCoverage(t.end)&&(n=gt(e,this))?(n.isStart&&!this.isValidDate(n.start)&&(n.isStart=!1),n.isEnd&&n.end&&!this.isValidDate(n.end.clone().subtract(1))&&(n.isEnd=!1),[n]):[]},r.prototype.prepareHits=function(){return this.buildCoords()},r.prototype.queryHit=function(t,e){var n,r,i,s,o,a,l,u,c,d,h,p;return p=this.snapsPerSlot,s=this.slatCoordCache,n=this.containerCoordCache,null!=n.getVerticalIndex(e)&&(o=s.getHorizontalIndex(t),null!=o)?(u=s.getWidth(o),this.isRTL?(l=s.getRightOffset(o),i=(l-t)/u,r=Math.floor(i*p),c=o*p+r,h=l-r/p*u,d=h-(r+1)/p*u):(a=s.getLeftOffset(o),i=(t-a)/u,r=Math.floor(i*p),c=o*p+r,d=a+r/p*u,h=a+(r+1)/p*u),{snap:c,component:this,left:d,right:h,top:n.getTopOffset(0),bottom:n.getBottomOffset(0)}):void 0},r.prototype.getHitSpan=function(t){return this.getSnapRange(t.snap)},r.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},r.prototype.getSnapRange=function(t){var e,n;return n=this.start.clone(),n.add(St(this.snapDuration,this.snapIndexToDiff[t])),e=n.clone().add(this.snapDuration),{start:n,end:e}},r.prototype.getSnapEl=function(t){return this.slatEls.eq(Math.floor(t/this.snapsPerSlot))},r.prototype.renderSkeleton=function(){return this.headScroller=new B("invisible-scroll","hidden"),this.headEl.append(this.headScroller.el),this.bodyScroller=new B,this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.contentEl,this.slatContainerEl=t('<div class="fc-slats"/>').appendTo(this.bodyScroller.bgEl),this.segContainerEl=t('<div class="fc-event-container"/>').appendTo(this.bodyScroller.contentEl),this.bgSegContainerEl=this.bodyScroller.bgEl,this.containerCoordCache=new o({els:this.bodyScroller.innerEl,isHorizontal:!0,isVertical:!0}),this.joiner=new W("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new L(this.headScroller),this.eventTitleFollower=new L(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,r.__super__.renderSkeleton.apply(this,arguments)},r.prototype.headColEls=null,r.prototype.slatColEls=null,r.prototype.renderDates=function(){var t,e,n,r,i;for(this.headScroller.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new o({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new o({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.innerEl}),i=this.slotDates,e=n=0,r=i.length;r>n;e=++n)t=i[e],this.view.trigger("dayRender",null,t,this.slatEls.eq(e));return this.follower?this.follower.setSprites(this.headEl.find("tr:not(:last-child) span")):void 0},r.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.contentEl.add(this.bodyScroller.contentEl).css({minWidth:"",width:""})},r.prototype.renderHeadHtml=function(){var t,e,n,r,i,s,o,a,l,u,c,d,h,p,f,g,m,v,y,w,b,S,C,_,D,E,R,T,H,x,k,M,I,F,G,Y,L;for(g=this.labelInterval,s=this.headerFormats,e=function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)i=s[t],n.push([]);return n}(),m=null,H=null,G=this.slotDates,F=[],h=0,v=G.length;v>h;h++){for(n=G[h],L=n.week(),d=this.emphasizeWeeks&&null!==H&&H!==L,k=p=0,y=s.length;y>p;k=++p)i=s[k],M=e[k],m=M[M.length-1],c=s.length>1&&k<s.length-1,R=null,c?(Y=n.format(i),r=n.format(),m&&m.text===Y?m.colspan+=1:R={text:Y,dateData:r,colspan:1}):!m||yt(it(this.start,n,g))?(Y=n.format(i),r=n.format(),R={text:Y,dateData:r,colspan:1}):m.colspan+=1,R&&(R.weekStart=d,M.push(R));F.push({weekStart:d}),H=L}for(l=g>this.slotDuration,o="<table>",o+="<colgroup>",f=0,w=G.length;w>f;f++)n=G[f],o+="<col/>";for(o+="</colgroup>",o+="<tbody>",a=D=0,b=e.length;b>D;a=++D){for(M=e[a],u=a===e.length-1,o+="<tr"+(l&&u?' class="fc-chrono"':"")+">",E=0,S=M.length;S>E;E++)t=M[E],o+='<th class="'+this.view.widgetHeaderClass+" "+(t.weekStart?"fc-em-cell":"")+'" data-date="'+t.dateData+'"'+(t.colspan>1?' colspan="'+t.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+ft(t.text)+"</span></div></th>";o+="</tr>"}for(o+="</tbody></table>",I="<table>",I+="<colgroup>",T=0,C=F.length;C>T;T++)t=F[T],I+="<col/>";for(I+="</colgroup>",I+="<tbody><tr>",a=x=0,_=F.length;_>x;a=++x)t=F[a],n=G[a],I+=this.slatCellHtml(n,t.weekStart);return I+="</tr></tbody></table>",this._slatHtml=I,o},r.prototype.renderSlatHtml=function(){return this._slatHtml},r.prototype.slatCellHtml=function(t,e){var n;return this.isTimeScale?(n=[],n.push(yt(it(this.start,t,this.labelInterval))?"fc-major":"fc-minor")):(n=this.getDayClasses(t),n.push("fc-day")),n.unshift(this.view.widgetContentClass),e&&n.push("fc-em-cell"),'<td class="'+n.join(" ")+'" data-date="'+t.format()+'"><div /></td>'},r.prototype.businessHourSegs=null,r.prototype.renderBusinessHours=function(){var t,e;return this.largeUnit?void 0:(t=this.view.calendar.getBusinessHoursEvents(!this.isTimeScale),e=this.businessHourSegs=this.eventsToSegs(t),this.renderFill("businessHours",e,"bgevent"))},r.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},r.prototype.nowIndicatorEls=null,r.prototype.getNowIndicatorUnit=function(){return this.isTimeScale?Z(this.slotDuration):void 0},r.prototype.renderNowIndicator=function(e){var n,r,i;return i=[],e=this.normalizeGridDate(e),e>=this.start&&e<this.end&&(n=this.dateToCoord(e),r=this.isRTL?{right:-n}:{left:n},i.push(t("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(r).appendTo(this.headScroller.innerEl)[0]),i.push(t("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(r).appendTo(this.bodyScroller.innerEl)[0])),this.nowIndicatorEls=t(i)},r.prototype.unrenderNowIndicator=function(){return this.nowIndicatorEls?(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null):void 0},r.prototype.explicitSlotWidth=null,r.prototype.defaultSlotWidth=null,r.prototype.updateWidth=function(){var t,e,n,r,i;return i=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),n=i*this.slotDates.length,e="",r=i,t=this.bodyScroller.scrollEl[0].clientWidth,t>n&&(e=t,n="",r=Math.floor(t/this.slotDates.length)),this.headScroller.setContentWidth(n),this.headScroller.setContentMinWidth(e),this.bodyScroller.setContentWidth(n),this.bodyScroller.setContentMinWidth(e),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(r),this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.follower&&this.follower.update(),this.eventTitleFollower?this.eventTitleFollower.update():void 0},r.prototype.computeSlotWidth=function(){var e,n,r,i,s,o;return r=0,n=this.headEl.find("tr:last-child th span"),n.each(function(e,n){var i;return i=t(n).outerWidth(),r=Math.max(r,i)}),e=r+1,o=rt(this.labelInterval,this.slotDuration),s=Math.ceil(e/o),i=this.headColEls.eq(0).css("min-width"),i&&(i=parseInt(i,10),i&&(s=Math.max(s,i))),s},r.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},r.prototype.computeDateSnapCoverage=function(t){var e,n,r;return n=it(this.start,t,this.snapDuration),0>n?0:n>=this.snapDiffToIndex.length?this.snapCnt:(r=Math.floor(n),e=this.snapDiffToIndex[r],yt(e)?e+=n-r:e=Math.ceil(e),e)},r.prototype.dateToCoord=function(t){var e,n,r,i,s;return s=this.computeDateSnapCoverage(t),r=s/this.snapsPerSlot,i=Math.floor(r),i=Math.min(i,this.slotCnt-1),n=r-i,e=this.slatInnerCoordCache,this.isRTL?e.getRightPosition(i)-e.getWidth(i)*n-this.containerCoordCache.getWidth(0):e.getLeftPosition(i)+e.getWidth(i)*n},r.prototype.rangeToCoords=function(t){return this.isRTL?{right:this.dateToCoord(t.start),left:this.dateToCoord(t.end)}:{left:this.dateToCoord(t.start),right:this.dateToCoord(t.end)}},r.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},r.prototype.updateSegPositions=function(){var t,e,n,r,i;for(i=(this.segs||[]).concat(this.businessHourSegs||[]),e=0,n=i.length;n>e;e++)r=i[e],t=this.rangeToCoords(r),r.el.css({left:r.left=t.left,right:-(r.right=t.right)})},r.prototype.computeInitialScroll=function(t){var n,r;return n=0,this.isTimeScale&&(r=this.opt("scrollTime"),r&&(r=e.duration(r),n=this.dateToCoord(this.start.clone().time(r)))),{left:n,top:0}},r.prototype.queryScroll=function(){return{left:Ct(this.bodyScroller.scrollEl),top:this.bodyScroller.scrollEl.scrollTop()}},r.prototype.setScroll=function(t){return Ct(this.headScroller.scrollEl,t.left),Ct(this.bodyScroller.scrollEl,t.left),this.bodyScroller.scrollEl.scrollTop(t.top)},r.prototype.renderFgSegs=function(t){return t=this.renderFgSegEls(t),this.renderFgSegsInContainers([[this,t]]),this.updateSegFollowers(t),t},r.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},r.prototype.renderFgSegsInContainers=function(t){var e,n,r,i,s,o,a,l,u,c,d,h,p,f,g,m,v,y,w,b,S,C,_,D,E;for(r=0,o=t.length;o>r;r++)for(w=t[r],e=w[0],E=w[1],i=0,a=E.length;a>i;i++)D=E[i],n=this.rangeToCoords(D),D.el.css({left:D.left=n.left,right:-(D.right=n.right)});for(s=0,l=t.length;l>s;s++)for(b=t[s],e=b[0],E=b[1],f=0,u=E.length;u>f;f++)D=E[f],D.el.appendTo(e.segContainerEl);for(g=0,c=t.length;c>g;g++){for(S=t[g],e=S[0],E=S[1],m=0,d=E.length;d>m;m++)D=E[m],D.height=D.el.outerHeight(!0);this.buildSegLevels(E),e.segContainerHeight=Q(E)}for(_=[],v=0,h=t.length;h>v;v++){for(C=t[v],e=C[0],E=C[1],y=0,p=E.length;p>y;y++)D=E[y],D.el.css("top",D.top);_.push(e.segContainerEl.height(e.segContainerHeight))}return _},r.prototype.buildSegLevels=function(t){var e,n,r,i,s,o,a,l,u,c,d,h,p,f;for(p=[],this.sortEventSegs(t),r=0,o=t.length;o>r;r++){for(f=t[r],f.above=[],u=0;u<p.length;){for(n=!1,d=p[u],i=0,a=d.length;a>i;i++)c=d[i],Lt(f,c)&&(f.above.push(c),n=!0);if(!n)break;u+=1}for((p[u]||(p[u]=[])).push(f),u+=1;u<p.length;){for(h=p[u],s=0,l=h.length;l>s;s++)e=h[s],Lt(f,e)&&e.above.push(f);u+=1}}return p},r.prototype.unrenderFgContainers=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],e.segContainerEl.empty(),e.segContainerEl.height(""),i.push(e.segContainerHeight=null);return i},r.prototype.fgSegHtml=function(t,e){var n,r,i,s,o,a;return r=t.event,i=this.view.isEventDraggable(r),o=t.isStart&&this.view.isEventResizableFromStart(r),s=t.isEnd&&this.view.isEventResizableFromEnd(r),n=this.getSegClasses(t,i,o||s),n.unshift("fc-timeline-event","fc-h-event"),a=this.getEventTimeText(r),'<a class="'+n.join(" ")+'" style="'+K(this.getSegSkinCss(t))+'"'+(r.url?' href="'+ft(r.url)+'"':"")+'><div class="fc-content">'+(a?'<span class="fc-time">'+ft(a)+"</span>":"")+'<span class="fc-title">'+(r.title?ft(r.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(o?'<div class="fc-resizer fc-start-resizer"></div>':"")+(s?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},r.prototype.updateSegFollowers=function(t){var e,n,r,i,s;if(this.eventTitleFollower){for(i=[],e=0,n=t.length;n>e;e++)r=t[e],s=r.el.find(".fc-title"),s.length&&i.push(new P(s));return this.eventTitleFollower.setSprites(i)}},r.prototype.clearSegFollowers=function(){return this.eventTitleFollower?this.eventTitleFollower.clearSprites():void 0},r.prototype.segDragStart=function(){return r.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},r.prototype.segDragEnd=function(){return r.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},r.prototype.segResizeStart=function(){return r.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},r.prototype.segResizeEnd=function(){return r.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},r.prototype.renderHelper=function(t,e){var n;return n=this.eventToSegs(t),n=this.renderFgSegEls(n),this.renderHelperSegsInContainers([[this,n]],e)},r.prototype.renderHelperSegsInContainers=function(e,n){var r,i,s,o,a,l,u,c,d,h,p,f,g,m,v,y,w;for(o=[],a=0,c=e.length;c>a;a++)for(g=e[a],r=g[0],w=g[1],l=0,d=w.length;d>l;l++)y=w[l],i=this.rangeToCoords(y),y.el.css({left:y.left=i.left,right:-(y.right=i.right)}),n&&n.resourceId===(null!=(m=r.resource)?m.id:void 0)?y.el.css("top",n.el.css("top")):y.el.css("top",0);for(u=0,h=e.length;h>u;u++)for(v=e[u],r=v[0],w=v[1],s=t('<div class="fc-event-container fc-helper-container"/>').appendTo(r.innerEl),o.push(s[0]),f=0,p=w.length;p>f;f++)y=w[f],s.append(y.el);return this.helperEls=this.helperEls?this.helperEls.add(t(o)):t(o)},r.prototype.unrenderHelper=function(){return this.helperEls?(this.helperEls.remove(),this.helperEls=null):void 0},r.prototype.renderEventResize=function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},r.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},r.prototype.renderFill=function(t,e,n){return e=this.renderFillSegEls(t,e),this.renderFillInContainers(t,[[this,e]],n),e},r.prototype.renderFillInContainers=function(t,e,n){var r,i,s,o,a,l;for(a=[],i=0,s=e.length;s>i;i++)o=e[i],r=o[0],l=o[1],a.push(this.renderFillInContainer(t,r,l,n));return a},r.prototype.renderFillInContainer=function(e,n,r,i){var s,o,a,l,u;if(r.length){for(i||(i=e.toLowerCase()),s=t('<div class="fc-'+i+'-container" />').appendTo(n.bgSegContainerEl),a=0,l=r.length;l>a;a++)u=r[a],o=this.rangeToCoords(u),u.el.css({left:u.left=o.left,right:-(u.right=o.right)}),u.el.appendTo(s);return this.elsByFill[e]=this.elsByFill[e]?this.elsByFill[e].add(s):s}},r.prototype.renderDrag=function(t,e){return e?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):(this.renderHighlight(this.eventToSpan(t)),!1)},r.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},r}(h),Q=function(t){var e,n,r,i;for(r=0,e=0,n=t.length;n>e;e++)i=t[e],r=Math.max(r,X(i));return r},X=function(t){return null==t.top&&(t.top=Q(t.above)),t.top+t.height},Lt=function(t,e){return t.left<e.right&&t.right>e.left},y=18,m=6,g=200,v=1e3,a={months:1},Y=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],O.prototype.initScaleProps=function(){var e,n,r;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),e=this.opt("slotLabelFormat"),r=t.type(e),this.headerFormats="array"===r?e:"string"===r?[e]:this.computeHeaderFormats(),this.isTimeScale=st(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(n=Z(this.slotDuration),/year|month|week/.test(n)?n:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},O.prototype.queryDurationOption=function(t){var n,r;return r=this.opt(t),null!=r&&(n=e.duration(r),+n)?n:void 0},O.prototype.validateLabelAndSlot=function(){var t,e,n;return this.labelInterval&&(t=rt(this.duration,this.labelInterval),t>v&&(d.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(e=rt(this.duration,this.slotDuration),e>v&&(d.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(n=rt(this.labelInterval,this.slotDuration),!yt(n)||1>n)?(d.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null):void 0},O.prototype.ensureGridDuration=function(){var t,n,r,i,s;if(t=this.duration,!t){if(t=this.view.intervalDuration,!t)if(this.labelInterval||this.slotDuration)for(s=this.ensureLabelInterval(),r=Y.length-1;r>=0&&(n=Y[r],t=e.duration(n),i=rt(t,s),!(i>=y));r+=-1);else t=e.duration(a);this.duration=t}return t},O.prototype.ensureLabelInterval=function(){var t,n,r,i,s,o,a,l,u;if(s=this.labelInterval,!s){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(n=0,o=Y.length;o>n;n++)if(t=Y[n],u=e.duration(t),l=rt(u,this.slotDuration),yt(l)&&m>=l){s=u;break}s||(s=this.slotDuration)}else for(r=0,a=Y.length;a>r&&(t=Y[r],s=e.duration(t),i=rt(this.duration,s),!(i>=y));r++);this.labelInterval=s}return s},O.prototype.ensureSlotDuration=function(){var t,n,r,i,s,o,a,l;if(o=this.slotDuration,!o){for(r=this.ensureLabelInterval(),n=0,i=Y.length;i>n;n++)if(t=Y[n],l=e.duration(t),a=rt(r,l),yt(a)&&a>1&&m>=a){o=l;break}o&&this.duration&&(s=rt(this.duration,o),s>g&&(o=null)),o||(o=r),this.slotDuration=o}return o},O.prototype.computeHeaderFormats=function(){var t,e,n,r,i,s,o,a;switch(o=this.view,r=this.duration,i=this.labelInterval,s=Z(i),a=this.opt("weekNumbers"),t=e=n=null,"week"!==s||a||(s="day"),s){case"year":t="YYYY";break;case"month":r.asYears()>1&&(t="YYYY"),e="MMM";break;case"week":r.asYears()>1&&(t="YYYY"),e=this.opt("shortWeekFormat");break;case"day":r.asYears()>1?t=this.opt("monthYearFormat"):r.asMonths()>1&&(t="MMMM"),a&&(e=this.opt("weekFormat")),n="dd D";break;case"hour":a&&(t=this.opt("weekFormat")),r.asDays()>1&&(e=this.opt("dayOfMonthFormat")),n=this.opt("smallTimeFormat");break;case"minute":i.asMinutes()/60>=m?(t=this.opt("hourFormat"),e="[:]mm"):t=this.opt("mediumTimeFormat");break;case"second":i.asSeconds()/60>=m?(t="LT",e="[:]ss"):t="LTS";break;case"millisecond":t="LTS",e="[.]SSS"}return[].concat(t||[],e||[],n||[])},d.views.timeline={"class":N,defaults:{eventResizableFromStart:!0}},d.views.timelineDay={type:"timeline",duration:{days:1}},d.views.timelineWeek={type:"timeline",duration:{weeks:1}},d.views.timelineMonth={type:"timeline",duration:{months:1}},d.views.timelineYear={type:"timeline",duration:{years:1}},M=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.mixin(I),n.prototype.resourceGrid=null,n.prototype.tbodyHash=null,n.prototype.joiner=null,n.prototype.dividerEls=null,n.prototype.superHeaderText=null,n.prototype.isVGrouping=null,n.prototype.isHGrouping=null,n.prototype.groupSpecs=null,n.prototype.colSpecs=null,n.prototype.orderSpecs=null,n.prototype.rowHierarchy=null,n.prototype.resourceRowHash=null,n.prototype.nestingCnt=0,n.prototype.isNesting=null,n.prototype.dividerWidth=null,n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new z(this),this.rowHierarchy=new G(this),this.resourceRowHash={}},n.prototype.instantiateGrid=function(){return new k(this)},n.prototype.processResourceOptions=function(){var t,e,n,r,i,s,o,a,l,u,c,d,h,p,f,g,m,v,y,w,b,S;for(t=this.opt("resourceColumns")||[],f=this.opt("resourceLabelText"),r="Resources",S=null,t.length?S=f:t.push({labelText:f||r,text:this.getResourceTextFunc()}),w=[],i=[],o=[],c=!1,u=!1,d=0,g=t.length;g>d;d++)n=t[d],n.group?i.push(n):w.push(n);for(w[0].isMain=!0,i.length?(o=i,c=!0):(a=this.opt("resourceGroupField"),a&&(u=!0,o.push({field:a,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),e=Ht(this.opt("resourceOrder")),b=[],h=0,m=e.length;m>h;h++){for(y=e[h],l=!1,p=0,v=o.length;v>p;p++)if(s=o[p],s.field===y.field){s.order=y.order,l=!0;break}l||b.push(y)}return this.superHeaderText=S,this.isVGrouping=c,this.isHGrouping=u,this.groupSpecs=o,this.colSpecs=i.concat(w),this.orderSpecs=b},n.prototype.renderSkeleton=function(){return n.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new W("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},n.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},n.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},n.prototype.initDividerMoving=function(){var t;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(t=this.opt("resourceAreaWidth"))?t:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(t){return function(e){return t.dividerMousedown(e)}}(this))},n.prototype.dividerMousedown=function(t){var e,n,r,i,s;return n=this.opt("isRTL"),i=30,r=this.el.width()-30,s=this.getNaturalDividerWidth(),e=new l({dragStart:function(t){return function(){return t.dividerEls.addClass("fc-active")}}(this),drag:function(t){return function(e,o){var a;return a=n?s-e:s+e,a=Math.max(a,i),a=Math.min(a,r),t.dividerWidth=a,t.positionDivider(a),t.updateWidth()}}(this),dragStop:function(t){return function(){return t.dividerEls.removeClass("fc-active")}}(this)}),e.mousedown(t)},n.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},n.prototype.positionDivider=function(t){return this.el.find(".fc-resource-area").width(t)},n.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.syncRowHeights(),this.updateWidth()},n.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},n.prototype.updateWidth=function(){return n.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower?this.cellFollower.update():void 0},n.prototype.updateHeight=function(t){return n.__super__.updateHeight.apply(this,arguments),t?this.syncRowHeights():void 0},n.prototype.setHeight=function(t,e){var n,r;return r=this.syncHeadHeights(),n=e?"auto":t-r-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n),this.resourceGrid.bodyScroller.setHeight(n)},n.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},n.prototype.syncHeadHeights=function(){var t;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),t=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(t),this.timeGrid.headHeight(t),t},n.prototype.scrollToResource=function(t){return this.timeGrid.scrollToResource(t)},n.prototype.setResources=function(t){var e,n,r;for(this.batchRows(),e=0,n=t.length;n>e;e++)r=t[e],this.insertResource(r);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.addResource=function(t){return this.insertResource(t),this.reinitializeCellFollowers()},n.prototype.removeResource=function(t){var e;return e=this.getResourceRow(t.id),e?(this.batchRows(),e.remove(),this.unbatchRows(),this.reinitializeCellFollowers()):void 0},n.prototype.cellFollower=null,n.prototype.reinitializeCellFollowers=function(){var e,n,r,i,s,o;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new L(this.resourceGrid.bodyScroller),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,i=[],s=this.rowHierarchy.getNodes(),n=0,r=s.length;r>n;n++)o=s[n],o instanceof $&&o.groupTd&&(e=o.groupTd.find(".fc-cell-content"),e.length&&i.push(e[0]));return this.cellFollower.setSprites(t(i))},n.prototype.insertResource=function(t,e){var n,r,i,s,o,a,l;for(l=new H(this,t),null==e&&(s=t.parentId,s&&(e=this.getResourceRow(s))),e?this.insertRowAsChild(l,e):this.insertRow(l),o=t.children,a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(this.insertResource(n,l));return a},n.prototype.insertRow=function(t,e,n){var r;return null==e&&(e=this.rowHierarchy),null==n&&(n=this.groupSpecs),n.length?(r=this.ensureResourceGroup(t,e,n[0]),r instanceof p?this.insertRowAsChild(t,r):this.insertRow(t,r,n.slice(1))):this.insertRowAsChild(t,e)},n.prototype.insertRowAsChild=function(t,e){return e.addChild(t,this.computeChildRowPosition(t,e))},n.prototype.computeChildRowPosition=function(t,e){var n,r,i,s,o,a;if(this.orderSpecs.length)for(o=e.children,r=i=0,s=o.length;s>i;r=++i)if(a=o[r],n=this.compareResources(a.resource||{},t.resource||{}),n>0)return r;return null},n.prototype.compareResources=function(t,e){return q(t,e,this.orderSpecs)},n.prototype.ensureResourceGroup=function(t,e,n){var r,i,s,o,a,l,u,c,d,h,f;if(s=(t.resource||{})[n.field],i=null,n.order)for(d=e.children,o=a=0,u=d.length;u>a;o=++a){if(f=d[o],r=ot(f.groupValue,s)*n.order,0===r){i=f;break}if(r>0)break}else for(h=e.children,o=l=0,c=h.length;c>l;o=++l)if(f=h[o],f.groupValue===s){i=f;break}return i||(i=this.isVGrouping?new $(this,n,s):new p(this,n,s),e.addChild(i,o)),i},n.prototype.pairSegsWithRows=function(t){var e,n,r,i,s,o,a,l;for(i=[],s={},e=0,n=t.length;n>e;e++)l=t[e],o=l.resourceId,o&&(a=this.getResourceRow(o),a&&(r=s[o],r||(r=[a,[]],i.push(r),s[o]=r),r[1].push(l)));return i;
},n.prototype.rowAdded=function(t){var e,n;return t instanceof H&&(this.resourceRowHash[t.resource.id]=t),n=this.isNesting,e=Boolean(this.nestingCnt+=t.depth?1:0),n!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},n.prototype.rowRemoved=function(t){var e,n;return t instanceof H&&delete this.resourceRowHash[t.resource.id],n=this.isNesting,e=Boolean(this.nestingCnt-=t.depth?1:0),n!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},n.prototype.batchRowDepth=0,n.prototype.shownRowBatch=null,n.prototype.hiddenRowBatch=null,n.prototype.batchRows=function(){return this.batchRowDepth++?void 0:(this.shownRowBatch=[],this.hiddenRowBatch=[])},n.prototype.unbatchRows=function(){return--this.batchRowDepth?void 0:(this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null)},n.prototype.rowShown=function(t){return this.shownRowBatch?this.shownRowBatch.push(t):this.rowsShown([t])},n.prototype.rowHidden=function(t){return this.hiddenRowBatch?this.hiddenRowBatch.push(t):this.rowsHidden([t])},n.prototype.rowsShown=function(t){return this.syncRowHeights(t),this.updateWidth()},n.prototype.rowsHidden=function(t){return this.updateWidth()},n.prototype.syncRowHeights=function(t,e){var n,r,i,s,o,a,l,u,c,d;for(null==e&&(e=!1),null==t&&(t=this.getVisibleRows()),a=0,u=t.length;u>a;a++)d=t[a],d.setTrInnerHeight("");for(o=function(){var r,i,s;for(s=[],r=0,i=t.length;i>r;r++)d=t[r],n=d.getMaxTrInnerHeight(),e&&(n+=n%2),s.push(n);return s}(),s=l=0,c=t.length;c>l;s=++l)d=t[s],d.setTrInnerHeight(o[s]);return!e&&(r=this.resourceGrid.tbodyEl.height(),i=this.timeGrid.tbodyEl.height(),Math.abs(r-i)>1)?this.syncRowHeights(t,!0):void 0},n.prototype.getVisibleRows=function(){var t,e,n,r,i;for(n=this.rowHierarchy.getRows(),r=[],t=0,e=n.length;e>t;t++)i=n[t],i.isShown&&r.push(i);return r},n.prototype.getEventRows=function(){var t,e,n,r,i;for(n=this.rowHierarchy.getRows(),r=[],t=0,e=n.length;e>t;t++)i=n[t],i instanceof c&&r.push(i);return r},n.prototype.getResourceRow=function(t){return this.resourceRowHash[t]},n.prototype.setScroll=function(t){return n.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.scrollTop(t.top)},n}(N),k=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.mixin(E),n.prototype.eventRows=null,n.prototype.shownEventRows=null,n.prototype.tbodyEl=null,n.prototype.rowCoordCache=null,n.prototype.spanToSegs=function(t){var e,r,i,s,o,a;if(a=n.__super__.spanToSegs.apply(this,arguments),e=this.view.calendar,s=t.resourceId)for(r=0,i=a.length;i>r;r++)o=a[r],o.resource=e.getResourceById(s),o.resourceId=s;return a},n.prototype.prepareHits=function(){var t,e;return n.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var e,n,r,i;for(r=this.eventRows,i=[],e=0,n=r.length;n>e;e++)t=r[e],t.isShown&&i.push(t);return i}.call(this),e=function(){var e,n,r,i;for(r=this.shownEventRows,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.getTr("event")[0]);return i}.call(this),this.rowCoordCache=new o({els:e,isVertical:!0}),this.rowCoordCache.build()},n.prototype.releaseHits=function(){return n.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},n.prototype.queryHit=function(t,e){var r,i;return i=n.__super__.queryHit.apply(this,arguments),i&&(r=this.rowCoordCache.getVerticalIndex(e),null!=r)?{resourceId:this.shownEventRows[r].resource.id,snap:i.snap,component:this,left:i.left,right:i.right,top:this.rowCoordCache.getTopOffset(r),bottom:this.rowCoordCache.getBottomOffset(r)}:void 0},n.prototype.getHitSpan=function(t){var e;return e=this.getSnapRange(t.snap),e.resourceId=t.resourceId,e},n.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},n.prototype.renderSkeleton=function(){var e;return n.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,e=t('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.contentEl),this.tbodyEl=e.find("tbody")},n.prototype.renderFgSegs=function(t){var e,n,r,i,s,o,a;for(t=this.renderFgSegEls(t),o=this.view.pairSegsWithRows(t),a=[],r=0,i=o.length;i>r;r++)s=o[r],e=s[0],n=s[1],e.fgSegs=n,e.isShown&&(e.isSegsRendered=!0,a.push(s));return this.renderFgSegsInContainers(a),this.updateSegFollowers(t),t},n.prototype.unrenderFgSegs=function(){var t,e,n,r;for(this.clearSegFollowers(),e=this.view.getEventRows(),n=0,r=e.length;r>n;n++)t=e[n],t.fgSegs=null,t.isSegsRendered=!1;return this.unrenderFgContainers(e)},n.prototype.renderFill=function(t,e,n){var r,i,s,o,a,l,u,c,d,h,p,f;for(e=this.renderFillSegEls(t,e),c=[],a=[],r=0,s=e.length;s>r;r++)p=e[r],p.resourceId?c.push(p):a.push(p);for(u=this.view.pairSegsWithRows(c),f=[],i=0,o=u.length;o>i;i++)l=u[i],d=l[0],h=l[1],"bgEvent"===t&&(d.bgSegs=h),d.isShown&&f.push(l);return a.length&&f.unshift([this,a]),this.renderFillInContainers(t,f,n),e},n.prototype.renderHelper=function(t,e){var n,r;return r=this.eventToSegs(t),r=this.renderFgSegEls(r),n=this.view.pairSegsWithRows(r),this.renderHelperSegsInContainers(n,e)},n.prototype.computeInitialScroll=function(t){var e;return e=n.__super__.computeInitialScroll.apply(this,arguments),t&&(e.resourceId=t.resourceId,e.bottom=t.bottom),e},n.prototype.queryScroll=function(){var t,e,r,i,s,o,a,l;for(l=n.__super__.queryScroll.apply(this,arguments),a=this.bodyScroller.scrollEl.offset().top,s=this.view.getVisibleRows(),r=0,i=s.length;i>r;r++)if(o=s[r],o.resource&&(t=o.getTr("event"),e=t.offset().top+t.outerHeight(),e>a)){l.resourceId=o.resource.id,l.bottom=e-a;break}return l},n.prototype.setScroll=function(t){var e,r,i,s;return t.resourceId&&(s=this.view.getResourceRow(t.resourceId),s&&(e=s.getTr("event"),e&&(i=this.bodyScroller.innerEl.offset().top,r=e.offset().top+e.outerHeight(),t.top=r-t.bottom-i))),n.__super__.setScroll.call(this,t)},n.prototype.scrollToResource=function(t){var e,n,r,i;return r=this.view.getResourceRow(t.id),r&&(e=r.getTr("event"))?(n=this.bodyScroller.innerEl.offset().top,i=e.offset().top-n,this.bodyScroller.scrollEl.scrollTop(i)):void 0},n}(O),n=30,z=function(){function e(t){var e;this.view=t,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var t,n,r,i;for(r=this.view.colSpecs,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.width);return i}.call(this)}return e.prototype.view=null,e.prototype.headEl=null,e.prototype.el=null,e.prototype.tbodyEl=null,e.prototype.headScroller=null,e.prototype.bodyScroller=null,e.prototype.joiner=null,e.prototype.colGroupHtml="",e.prototype.headTable=null,e.prototype.headColEls=null,e.prototype.headCellEls=null,e.prototype.bodyColEls=null,e.prototype.bodyTable=null,e.prototype.renderSkeleton=function(){return this.headScroller=new B("invisible-scroll","hidden"),this.headScroller.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new B("auto","invisible-scroll"),this.bodyScroller.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new W("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},e.prototype.renderHeadHtml=function(){var t,e,n,r,i,s,o,a,l,u,c;for(e=this.view.colSpecs,n="<table>",t="<colgroup>",o=0,l=e.length;l>o;o++)c=e[o],t+=c.isMain?'<col class="fc-main-col"/>':"<col/>";for(t+="</colgroup>",this.colGroupHtml=t,n+=t,n+="<tbody>",this.view.superHeaderText&&(n+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+e.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+ft(this.view.superHeaderText)+"</span></div></th></tr>"),n+="<tr>",s=!0,r=a=0,u=e.length;u>a;r=++a)c=e[r],i=r===e.length-1,n+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(c.isMain?'<div class="fc-icon fc-expander-space" />':"")+'<span class="fc-cell-text">'+ft(c.labelText||"")+"</span></div>"+(i?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return n+="</tr>",n+="</tbody></table>"},e.prototype.givenColWidths=null,e.prototype.colWidths=null,e.prototype.colMinWidths=null,e.prototype.tableWidth=null,e.prototype.tableMinWidth=null,e.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(e){return function(n,r){return r=t(r),r.on("mousedown",function(t){return e.colResizeMousedown(n,t,r)})}}(this))},e.prototype.colResizeMousedown=function(t,e,r){var i,s,o,a;return i=this.colWidths=this.queryColWidths(),i.pop(),i.push(null),a=i[t],o=Math.min(this.colMinWidths[t],n),s=new l({dragStart:function(t){return function(){return r.addClass("fc-active")}}(this),drag:function(e){return function(n,r){var s;return s=a+(e.isRTL?-n:n),s=Math.max(s,o),i[t]=s,e.applyColWidths()}}(this),dragStop:function(t){return function(){return r.removeClass("fc-active")}}(this)}),s.mousedown(e)},e.prototype.applyColWidths=function(){var t,e,n,r,i,s,o,a,l,u,c,d,h,p,f,g,m;for(n=this.colMinWidths,i=this.colWidths,t=!0,e=!1,m=0,u=0,h=i.length;h>u;u++)r=i[u],"number"==typeof r?m+=r:(t=!1,r&&(e=!0));for(a=e&&!this.view.isHGrouping?"auto":"",o=function(){var t,e,n;for(n=[],l=t=0,e=i.length;e>t;l=++t)r=i[l],n.push(null!=r?r:a);return n}(),g=0,l=c=0,p=o.length;p>c;l=++c)s=o[l],g+="number"==typeof s?s:n[l];for(l=d=0,f=o.length;f>d;l=++d)s=o[l],this.headColEls.eq(l).width(s),this.bodyColEls.eq(l).width(s);return this.headScroller.setContentMinWidth(g),this.bodyScroller.setContentMinWidth(g),this.tableMinWidth=g,this.tableWidth=t?m:void 0},e.prototype.computeColMinWidths=function(){var t,e,r,i,s,o;for(i=this.givenColWidths,s=[],t=e=0,r=i.length;r>e;t=++e)o=i[t],s.push("number"==typeof o?o:parseInt(this.headColEls.eq(t).css("min-width"))||n);return s},e.prototype.queryColWidths=function(){var e,n,r,i,s;for(i=this.headCellEls,s=[],e=0,n=i.length;n>e;e++)r=i[e],s.push(t(r).outerWidth());return s},e.prototype.updateWidth=function(){return this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.follower?this.follower.update():void 0},e.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},e}(),G=function(){function e(e){this.view=e,this.children=[],this.trHash={},this.trs=t()}return e.prototype.view=null,e.prototype.parent=null,e.prototype.prevSibling=null,e.prototype.children=null,e.prototype.depth=0,e.prototype.hasOwnRow=!1,e.prototype.trHash=null,e.prototype.trs=null,e.prototype.isRendered=!1,e.prototype.isExpanded=!0,e.prototype.isShown=!1,e.prototype.addChild=function(t,e){var n,r,i,s,o;for(t.remove(),n=this.children,null!=e?n.splice(e,0,t):(e=n.length,n.push(t)),t.prevSibling=e>0?n[e-1]:null,e<n.length-1&&(n[e+1].prevSibling=t),t.parent=this,t.depth=this.depth+(this.hasOwnRow?1:0),o=t.getNodes(),r=0,i=o.length;i>r;r++)s=o[r],s.added();return this.isShown&&this.isExpanded?t.show():void 0},e.prototype.removeChild=function(t){var e,n,r,i,s,o,a,l,u,c;for(e=this.children,r=!1,n=i=0,o=e.length;o>i;n=++i)if(c=e[n],c===t){r=!0;break}if(r){for(n<e.length-1&&(e[n+1].prevSibling=t.prevSibling),e.splice(n,1),t.recursivelyUnrender(),l=t.getNodes(),s=0,a=l.length;a>s;s++)u=l[s],u.removed();return t.parent=null,t.prevSibling=null,t}return!1},e.prototype.removeChildren=function(){var t,e,n,r,i,s,o;for(s=this.children,e=0,r=s.length;r>e;e++)t=s[e],t.recursivelyUnrender();for(o=this.getDescendants(),n=0,i=o.length;i>n;n++)t=o[n],t.removed();return this.children=[]},e.prototype.remove=function(){return this.parent?this.parent.removeChild(this):void 0},e.prototype.getLastChild=function(){var t;return t=this.children,t[t.length-1]},e.prototype.getPrevRow=function(){var t,e;for(e=this;e;){if(e.prevSibling)for(e=e.prevSibling;t=e.getLastChild();)e=t;else e=e.parent;if(e&&e.hasOwnRow&&e.isShown)return e}return null},e.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},e.prototype.getRows=function(t){var e,n,r,i;for(null==t&&(t=[]),this.hasOwnRow&&t.push(this),i=this.children,n=0,r=i.length;r>n;n++)e=i[n],e.getRows(t);return t},e.prototype.getNodes=function(t){var e,n,r,i;for(null==t&&(t=[]),t.push(this),i=this.children,n=0,r=i.length;r>n;n++)e=i[n],e.getNodes(t);return t},e.prototype.getDescendants=function(){var t,e,n,r,i;for(t=[],i=this.children,n=0,r=i.length;r>n;n++)e=i[n],e.getNodes(t);return t},e.prototype.render=function(){var e,n,r,i,s,o,a;if(this.trHash={},o=[],this.hasOwnRow){e=this.getPrevRow(),n=this.view.tbodyHash;for(a in n)i=n[a],s=t("<tr/>"),this.trHash[a]=s,o.push(s[0]),r="render"+U(a)+"Content",this[r]&&this[r](s),e?e.trHash[a].after(s):i.prepend(s)}return this.trs=t(o).on("click",".fc-expander",kt(this,"toggleExpanded")),this.isRendered=!0},e.prototype.unrender=function(){var e,n,r,i;if(this.isRendered){e=this.trHash;for(r in e)n=e[r],i="unrender"+U(r)+"Content",this[i]&&this[i](n);return this.trHash={},this.trs.remove(),this.trs=t(),this.isRendered=!1,this.isShown=!1,this.hidden()}},e.prototype.recursivelyUnrender=function(){var t,e,n,r,i;for(this.unrender(),r=this.children,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.recursivelyUnrender());return i},e.prototype.getTr=function(t){return this.trHash[t]},e.prototype.show=function(){var t,e,n,r,i;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(r=this.children,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.show());return i}},e.prototype.hide=function(){var t,e,n,r,i;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(r=this.children,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.hide());return i}},e.prototype.expand=function(){var t,e,n,r;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t.show();return this.view.unbatchRows(),this.animateExpand()}},e.prototype.collapse=function(){var t,e,n,r;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t.hide();return this.view.unbatchRows()}},e.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},e.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},e.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},e.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},e.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},e.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},e.prototype.getCollapsedIcon=function(){var t;return t=this.view.isRTL?"left":"right","fc-icon-"+t+"-triangle"},e.prototype.animateExpand=function(){var t,e,n;return n=null!=(t=this.children[0])&&null!=(e=t.getLeadingRow())?e.trs:void 0,n?(n.addClass("fc-collapsed"),setTimeout(function(){return n.addClass("fc-transitioning"),n.removeClass("fc-collapsed")}),n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return n.removeClass("fc-transitioning")})):void 0},e.prototype.getMaxTrInnerHeight=function(){var e;return e=0,t.each(this.trHash,function(t){return function(t,n){var r;return r=at(n).find("> div:not(.fc-cell-content):first"),e=Math.max(r.height(),e)}}(this)),e},e.prototype.setTrInnerHeight=function(e){return t.each(this.trHash,function(t){return function(t,n){return at(n).find("> div:not(.fc-cell-content):first").height(e)}}(this))},e.prototype.shown=function(){return this.hasOwnRow?this.rowShown(this):void 0},e.prototype.hidden=function(){return this.hasOwnRow?this.rowHidden(this):void 0},e.prototype.rowShown=function(t){return(this.parent||this.view).rowShown(t)},e.prototype.rowHidden=function(t){return(this.parent||this.view).rowHidden(t)},e.prototype.added=function(){return this.hasOwnRow?this.rowAdded(this):void 0},e.prototype.removed=function(){return this.hasOwnRow?this.rowRemoved(this):void 0},e.prototype.rowAdded=function(t){return(this.parent||this.view).rowAdded(t)},e.prototype.rowRemoved=function(t){return(this.parent||this.view).rowRemoved(t)},e}(),F=function(e){function n(t,e,r){this.groupSpec=e,this.groupValue=r,n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.prototype.groupSpec=null,n.prototype.groupValue=null,n.prototype.rowRemoved=function(t){return n.__super__.rowRemoved.apply(this,arguments),t===this||this.children.length?void 0:this.remove()},n.prototype.renderGroupContentEl=function(){var e,n;return e=t('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),n=this.groupSpec.render,"function"==typeof n&&(e=n(e,this.groupValue)||e),e},n.prototype.renderGroupTextEl=function(){var e,n;return n=this.groupValue||"",e=this.groupSpec.text,"function"==typeof e&&(n=e(n)||n),t('<span class="fc-cell-text" />').text(n)},n}(G),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.prototype.hasOwnRow=!0,n.prototype.renderSpreadsheetContent=function(e){var n;return n=this.renderGroupContentEl(),n.prepend('<span class="fc-icon fc-expander" />'),t('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(t("<div/>").append(n)).appendTo(e)},n.prototype.renderEventContent=function(t){return t.append('<td class="fc-divider"> <div/> </td>')},n}(F),$=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.prototype.rowspan=0,n.prototype.leadingTr=null,n.prototype.groupTd=null,n.prototype.rowShown=function(t){return this.rowspan+=1,this.renderRowspan(),n.__super__.rowShown.apply(this,arguments)},n.prototype.rowHidden=function(t){return this.rowspan-=1,this.renderRowspan(),n.__super__.rowHidden.apply(this,arguments)},n.prototype.renderRowspan=function(){var e;return this.rowspan?(this.groupTd||(this.groupTd=t('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),e=this.getLeadingRow().getTr("spreadsheet"),e!==this.leadingTr?(e&&e.prepend(this.groupTd),this.leadingTr=e):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},n}(F),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bt(e,t),e.prototype.hasOwnRow=!0,e.prototype.segContainerEl=null,e.prototype.segContainerHeight=null,e.prototype.innerEl=null,e.prototype.bgSegContainerEl=null,e.prototype.isSegsRendered=!1,e.prototype.bgSegs=null,e.prototype.fgSegs=null,e.prototype.renderEventContent=function(t){return t.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=t.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=t.find("td > div"),this.ensureSegsRendered()},e.prototype.ensureSegsRendered=function(){return this.isSegsRendered?void 0:(this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0)},e.prototype.unrenderEventContent=function(){return this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},e}(G),H=function(e){function n(t,e){this.resource=e,n.__super__.constructor.apply(this,arguments)}return Bt(n,e),n.prototype.resource=null,n.prototype.rowAdded=function(t){return n.__super__.rowAdded.apply(this,arguments),t!==this&&this.isRendered&&1===this.children.length?(this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()):void 0},n.prototype.rowRemoved=function(t){return n.__super__.rowRemoved.apply(this,arguments),t!==this&&this.isRendered&&!this.children.length?this.disableExpanding():void 0},n.prototype.render=function(){return n.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},n.prototype.renderEventContent=function(t){return n.__super__.renderEventContent.apply(this,arguments),t.attr("data-resource-id",this.resource.id)},n.prototype.renderSpreadsheetContent=function(e){var n,r,i,s,o,a,l,u,c;for(l=this.resource,a=this.view.colSpecs,s=0,o=a.length;o>s;s++)n=a[s],n.group||(i=n.field?l[n.field]||null:l,c="function"==typeof n.text?n.text(l,i):i,r=t('<div class="fc-cell-content">'+(n.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(c?ft(c):"&nbsp;")+"</span></div>"),"function"==typeof n.render&&(r=n.render(l,r,i)||r),u=t('<td class="'+this.view.widgetContentClass+'"/>').append(r),n.isMain&&u.wrapInner("<div/>"),e.append(u));return e.attr("data-resource-id",l.id)},n.prototype.renderGutterHtml=function(){var t,e,n,r;for(t="",e=n=0,r=this.depth;r>n;e=n+=1)t+='<span class="fc-icon"/>';return t+='<span class="fc-icon fc-expander-space"/>'},n}(c),d.views.timeline.resourceClass=M,S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bt(e,t),e.mixin(I),e.prototype.timeGridClass=x,e.prototype.dayGridClass=_,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.timeGrid.setResources(t),this.dayGrid&&this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(d.AgendaView),d.views.agenda.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?S:void 0},C=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bt(e,t),e.mixin(I),e.prototype.dayGridClass=_,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(d.BasicView),T=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bt(e,t),e.mixin(I),e.prototype.dayGridClass=_,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(d.MonthView),d.views.basic.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?C:void 0},d.views.month.queryResourceClass=function(t){return t.options.groupByResource||t.options.groupByDateAndResource?T:void 0},b="2016-02-18",V={years:1,weeks:1},f="http://fullcalendar.io/scheduler/license/",w=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],xt=function(t,e){return vt(window.location.href)||wt(t)||nt(e)?void 0:Mt('Please use a valid license key. <a href="'+f+'">More Info</a>',e)},wt=function(n){var r,i,s,o;return-1!==t.inArray(n,w)?!0:(i=(n||"").match(/^(\d+)\-fcs\-(\d+)$/),i&&10===i[1].length&&(s=e.utc(1e3*parseInt(i[2])),o=e.utc(d.mockSchedulerReleaseDate||b),o.isValid()&&(r=o.clone().subtract(V),s.isAfter(r)))?!0:!1)},vt=function(t){return Boolean(t.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},Mt=function(e,n){return n.append(t('<div class="fc-license-message" />').html(e))},void(nt=function(t){return t.find(".fc-license-message").length>=1}))}),/*! tinyColorPicker - v1.0.0 2015-08-02 */
!function(t,e){"use strict";function n(t,n,r,s,o){if("string"==typeof n){var n=w.txt2color(n);r=n.type,p[r]=n[r],o=o!==e?o:n.alpha}else if(n)for(var a in n)t[r][a]=c(n[a]/d[r][a][1],0,1);return o!==e&&(t.alpha=+o),i(r,s?t:e)}function r(t,e,n){var r=h.options.grey,i={};return i.RGB={r:t.r,g:t.g,b:t.b},i.rgb={r:e.r,g:e.g,b:e.b},i.alpha=n,i.equivalentGrey=Math.round(r.r*t.r+r.g*t.g+r.b*t.b),i.rgbaMixBlack=l(e,{r:0,g:0,b:0},n,1),i.rgbaMixWhite=l(e,{r:1,g:1,b:1},n,1),i.rgbaMixBlack.luminance=a(i.rgbaMixBlack,!0),i.rgbaMixWhite.luminance=a(i.rgbaMixWhite,!0),h.options.customBG&&(i.rgbaMixCustom=l(e,h.options.customBG,n,1),i.rgbaMixCustom.luminance=a(i.rgbaMixCustom,!0),h.options.customBG.luminance=a(h.options.customBG,!0)),i}function i(t,e){var n,i,c,f=e||p,g=w,m=h.options,v=d,y=f.RND,b="",S="",C={hsl:"hsv",rgb:t},_=y.rgb;if("alpha"!==t){for(var D in v)if(!v[D][D]){t!==D&&(S=C[D]||"rgb",f[D]=g[S+"2"+D](f[S])),y[D]||(y[D]={}),n=f[D];for(b in n)y[D][b]=Math.round(n[b]*v[D][b][1])}_=y.rgb,f.HEX=g.RGB2HEX(_),f.equivalentGrey=m.grey.r*f.rgb.r+m.grey.g*f.rgb.g+m.grey.b*f.rgb.b,f.webSave=i=s(_,51),f.webSmart=c=s(_,17),f.saveColor=_.r===i.r&&_.g===i.g&&_.b===i.b?"web save":_.r===c.r&&_.g===c.g&&_.b===c.b?"web smart":"",f.hueRGB=w.hue2RGB(f.hsv.h),e&&(f.background=r(_,f.rgb,f.alpha))}var E,R,T,H=f.rgb,x=f.alpha,k="luminance",M=f.background;return E=l(H,{r:0,g:0,b:0},x,1),E[k]=a(E,!0),f.rgbaMixBlack=E,R=l(H,{r:1,g:1,b:1},x,1),R[k]=a(R,!0),f.rgbaMixWhite=R,m.customBG&&(T=l(H,M.rgbaMixCustom,x,1),T[k]=a(T,!0),T.WCAG2Ratio=u(T[k],M.rgbaMixCustom[k]),f.rgbaMixBGMixCustom=T,T.luminanceDelta=Math.abs(T[k]-M.rgbaMixCustom[k]),T.hueDelta=o(M.rgbaMixCustom,T,!0)),f.RGBLuminance=a(_),f.HUELuminance=a(f.hueRGB),m.convertCallback&&m.convertCallback(f,t),f}function s(t,e){var n={},r=0,i=e/2;for(var s in t)r=t[s]%e,n[s]=t[s]+(r>i?e-r:-r);return n}function o(t,e,n){return(Math.max(t.r-e.r,e.r-t.r)+Math.max(t.g-e.g,e.g-t.g)+Math.max(t.b-e.b,e.b-t.b))*(n?255:1)/765}function a(t,e){for(var n=e?1:255,r=[t.r/n,t.g/n,t.b/n],i=h.options.luminance,s=r.length;s--;)r[s]=r[s]<=.03928?r[s]/12.92:Math.pow((r[s]+.055)/1.055,2.4);return i.r*r[0]+i.g*r[1]+i.b*r[2]}function l(t,n,r,i){var s={},o=r!==e?r:1,a=i!==e?i:1,l=o+a*(1-o);for(var u in t)s[u]=(t[u]*o+n[u]*a*(1-o))/l;return s.a=l,s}function u(t,e){var n=1;return n=t>=e?(t+.05)/(e+.05):(e+.05)/(t+.05),Math.round(100*n)/100}function c(t,e,n){return t>n?n:e>t?e:t}var d={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},h={},p={},f={r:.298954,g:.586434,b:.114612},g={r:.2126,g:.7152,b:.0722},m=t.Colors=function(t){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:f,luminance:g,valueRanges:d},v(this,t||{})},v=function(t,r){var i,s=t.options;y(t);for(var o in r)r[o]!==e&&(s[o]=r[o]);i=s.customBG,s.customBG="string"==typeof i?w.txt2color(i).rgb:i,p=n(t.colors,s.color,e,!0)},y=function(t){h!==t&&(h=t,p=t.colors)};m.prototype.setColor=function(t,r,s){return y(this),t?n(this.colors,t,r,e,s):(s!==e&&(this.colors.alpha=s),i(r))},m.prototype.setCustomBackground=function(t){return y(this),this.options.customBG="string"==typeof t?w.txt2color(t).rgb:t,n(this.colors,e,"rgb")},m.prototype.saveAsBackground=function(){return y(this),n(this.colors,e,"rgb",!0)};var w={txt2color:function(t){var e={},n=t.replace(/(?:#|\)|%)/g,"").split("("),r=(n[1]||"").split(/,\s*/),i=n[1]?n[0].substr(0,3):"rgb",s="";if(e.type=i,e[i]={},n[1])for(var o=3;o--;)s=i[o]||i.charAt(o),e[i][s]=+r[o]/d[i][s][1];else e.rgb=w.HEX2rgb(n[0]);return e.alpha=r[3]?+r[3]:1,e},RGB2HEX:function(t){return((t.r<16?"0":"")+t.r.toString(16)+(t.g<16?"0":"")+t.g.toString(16)+(t.b<16?"0":"")+t.b.toString(16)).toUpperCase()},HEX2rgb:function(t){return t=t.split(""),{r:parseInt(t[0]+t[t[3]?1:0],16)/255,g:parseInt(t[t[3]?2:1]+(t[3]||t[1]),16)/255,b:parseInt((t[4]||t[2])+(t[5]||t[2]),16)/255}},hue2RGB:function(t){var e=6*t,n=~~e%6,r=6===e?0:e-n;return{r:Math.round(255*[1,1-r,0,0,r,1][n]),g:Math.round(255*[r,1,1,1-r,0,0][n]),b:Math.round(255*[0,0,r,1,1,1-r][n])}},rgb2hsv:function(t){var e,n,r,i=t.r,s=t.g,o=t.b,a=0;return o>s&&(s=o+(o=s,0),a=-1),n=o,s>i&&(i=s+(s=i,0),a=-2/6-a,n=Math.min(s,o)),e=i-n,r=i?e/i:0,{h:1e-15>r?p&&p.hsl&&p.hsl.h||0:e?Math.abs(a+(s-o)/(6*e)):0,s:i?e/i:p&&p.hsv&&p.hsv.s||0,v:i}},hsv2rgb:function(t){var e=6*t.h,n=t.s,r=t.v,i=~~e,s=e-i,o=r*(1-n),a=r*(1-s*n),l=r*(1-(1-s)*n),u=i%6;return{r:[r,a,o,o,l,r][u],g:[l,r,r,a,o,o][u],b:[o,o,l,r,r,a][u]}},hsv2hsl:function(t){var e=(2-t.s)*t.v,n=t.s*t.v;return n=t.s?1>e?e?n/e:0:n/(2-e):0,{h:t.h,s:t.v||n?n:p&&p.hsl&&p.hsl.s||0,l:e/2}},rgb2hsl:function(t,e){var n=w.rgb2hsv(t);return w.hsv2hsl(e?n:p.hsv=n)},hsl2rgb:function(t){var e=6*t.h,n=t.s,r=t.l,i=.5>r?r*(1+n):r+n-n*r,s=r+r-i,o=i?(i-s)/i:0,a=~~e,l=e-a,u=i*o*l,c=s+u,d=i-u,h=a%6;return{r:[i,d,s,s,c,i][h],g:[c,i,i,d,s,s][h],b:[s,s,c,i,i,d][h]}}}}(window),function(t,e,n){"use strict";function r(e){return e.value||e.getAttribute("value")||t(e).css("background-color")||"#fff"}function i(t){return t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t,t.originalEvent?t.originalEvent:t}function s(e){return t(e.find(y.doRender)[0]||e[0])}function o(e){var n=t(this),i=n.offset(),o=t(window),l=y.gap;e?(w=s(n),m.$trigger=n,(b||a()).css({left:(b[0]._left=i.left)-((b[0]._left=b[0]._left+b[0]._width-(o.scrollLeft()+o.width()))+l>0?b[0]._left+l:0),top:(b[0]._top=i.top+n.outerHeight())-((b[0]._top=b[0]._top+b[0]._height-(o.scrollTop()+o.height()))+l>0?b[0]._top+l:0)}).show(y.animationSpeed,function(){e!==!0&&(D._width=D.width(),S._width=S.width(),S._height=S.height(),v.setColor(r(w[0])),p(!0))})):t(b).hide(y.animationSpeed,function(){w.blur(),m.$trigger=null,p(!1)})}function a(){return t("head").append('<style type="text/css">'+(y.css||G)+(y.cssAddon||"")+"</style>"),m.$UI=b=t(F).css({margin:y.margin}).appendTo("body").show(0,function(){var e=t(this);M=y.GPU&&e.css("perspective")!==n,S=t(".cp-xy-slider",this),C=t(".cp-xy-cursor",this),_=t(".cp-z-cursor",this),D=t(".cp-alpha",this).toggle(!!y.opacity),E=t(".cp-alpha-cursor",this),y.buildCallback.call(m,e),e.prepend("<div>").children().eq(0).css("width",e.children().eq(0).width()),this._width=this.offsetWidth,this._height=this.offsetHeight}).hide().on(x,".cp-xy-slider,.cp-z-slider,.cp-alpha",l)}function l(e){var n=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");e.preventDefault&&e.preventDefault(),e.returnValue=!1,w._offset=t(this).offset(),(n="xy_slider"===n?c:"z_slider"===n?d:h)(e),R.on(k,u).on(H,n)}function u(){R.off(".a")}function c(t){var e=i(t),n=e.pageX-w._offset.left,r=e.pageY-w._offset.top;v.setColor({s:n/S._width*100,v:100-r/S._height*100},"hsv"),p()}function d(t){var e=i(t).pageY-w._offset.top;v.colors.hsv,v.setColor({h:360-e/S._height*360},"hsv"),p()}function h(t){var e=i(t).pageX-w._offset.left,n=e/D._width;v.setColor({},"rgb",n>1?1:0>n?0:n),p()}function p(t){var e=v.colors,r=e.hueRGB,i=e.RND.rgb,s=e.RND.hsl,o="#222",a="#ddd",l=w.data("colorMode"),u=1!==e.alpha,c=Math.round(100*e.alpha)/100,d=i.r+", "+i.g+", "+i.b,h="HEX"!==l||u?"rgb"===l||"HEX"===l&&u?u?"rgba("+d+", "+c+")":"rgb("+d+")":"hsl"+(u?"a(":"(")+s.h+", "+s.s+"%, "+s.l+"%"+(u?", "+c:"")+")":"#"+e.HEX,p=e.HUELuminance>.22?o:a,g=e.rgbaMixBlack.luminance>.22?o:a,m=(1-e.hsv.h)*S._height,y=e.hsv.s*S._width,b=(1-e.hsv.v)*S._height,R=c*D._width,T=M?"translate3d":"",H=w.val(),x=w[0].hasAttribute("value")&&""===H&&t!==n;S._css={backgroundColor:"rgb("+r.r+","+r.g+","+r.b+")"},C._css={transform:T+"("+y+"px, "+b+"px, 0)",left:M?"":y,top:M?"":b,borderColor:e.RGBLuminance>.22?o:a},_._css={transform:T+"(0, "+m+"px, 0)",top:M?"":m,borderColor:"transparent "+p},D._css={backgroundColor:"rgb("+d+")"},E._css={transform:T+"("+R+"px, 0, 0)",left:M?"":R,borderColor:g+" transparent"},w._css={backgroundColor:x?"":h,color:x?"":e.rgbaMixBGMixCustom.luminance>.22?o:a},w.text=x?"":H!==h?h:"",t!==n?f(t):I(f)}function f(t){S.css(S._css),C.css(C._css),_.css(_._css),D.css(D._css),E.css(E._css),y.doRender&&w.css(w._css),w.text&&w.val(w.text),y.renderCallback.call(m,w,"boolean"==typeof t?t:n)}var g,m,v,y,w,b,S,C,_,D,E,R=t(document),T="",H="touchmove.a mousemove.a pointermove.a",x="touchstart.a mousedown.a pointerdown.a",k="touchend.a mouseup.a pointerup.a",M=!1,I=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){t()},F='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',G=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",Y=function(t){v=this.color=new e(t),y=v.options};Y.prototype={render:p,toggle:o},t.fn.colorPicker=function(e){var n=function(){};return e=t.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:n,buildCallback:n,body:document.body,scrollResize:!0,gap:4},e),!m&&e.scrollResize&&t(window).on("resize.a scroll.a",function(){m.$trigger&&m.toggle.call(m.$trigger[0],!0)}),g=g?g.add(this):this,g.colorPicker=m||(m=new Y(e)),T+=(T?", ":"")+this.selector,t(e.body).off(".a").on(x,function(e){var n=t(e.target);-1!==t.inArray(n.closest(T)[0],g)||n.closest(b).length||o()}).on("focus.a click.a",T,o).on("change.a",T,function(){v.setColor(this.value||"#FFF"),g.colorPicker.render(!0)}),this.each(function(){var n=r(this),i=n.split("("),o=s(t(this));o.data("colorMode",i[1]?i[0].substr(0,3):"HEX").attr("readonly",y.preventFocus),e.doRender&&o.css({"background-color":n,color:function(){return v.setColor(n).rgbaMixBGMixCustom.luminance>.22?"#222":"#ddd"}})})},t.fn.colorPicker.destroy=function(){t(m.color.options.body).off(".a"),m.toggle(!1),g=null,T=""}}(jQuery,Colors),function(){this.Gws_Popup=function(){function t(){}return t.init=null,t.render=function(t,e){var n;return this.init||(this.init=!0,$(window).resize(function(){return $(".gws-popup").remove()}),$(document).click(function(t){return $(t.target).closest(".gws-popup, .gws-popup-event").length?void 0:$(".gws-popup").remove()})),$(".gws-popup").remove(),n=$("<div class='gws-popup'></div>").html($(e)),$("body").append(n),t.addClass("gws-popup-event"),this.renderPopup(t)},t.renderPopup=function(t){var e,n,r;return e=$(".gws-popup"),$(window).width()<1.5*e.outerWidth()&&e.css("max-width",$(window).width()/2),n=t.offset().left+t.outerWidth()/2-e.outerWidth()/2,r=t.offset().top-e.outerHeight()-20,0>n?(n=t.offset().left+t.outerWidth()/2-20,e.addClass("left")):e.removeClass("left"),n+e.outerWidth()>$(window).width()?(n=t.offset().left-e.outerWidth()+t.outerWidth()/2+20,e.addClass("right")):e.removeClass("right"),0>r?(r=t.offset().top+t.outerHeight(),e.addClass("top")):e.removeClass("top"),e.css({left:n,top:r}).animate({top:"+=10",opacity:1},50)},t}()}.call(this),function(){this.Gws_Member=function(){function t(){}return t.groups=null,t.users=null,t.render=function(){return $(".js-copy-groups").length<2&&($(".js-copy-groups").remove(),$(".js-paste-groups").remove()),$(".js-copy-groups").click(function(){return t.copyGroups($(this))}),$(".js-paste-groups").click(function(){return t.pasteGroups($(this))}),$(".js-copy-users").length<2&&($(".js-copy-users").remove(),$(".js-paste-users").remove()),$(".js-copy-users").click(function(){return t.copyUsers($(this))}),$(".js-paste-users").click(function(){return t.pasteUsers($(this))})},t.confirmReadableSetting=function(){return $(".save").on("click",function(){return 0===$(".gws-addon-readable-setting tbody tr").length?confirm("\u95b2\u89a7\u8005\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u5168\u54e1\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"):void 0})},t.copyGroups=function(t){return this.groups=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.groups.length+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteGroups=function(t){var e;return e=this.pasteItems(t,this.groups),this.showLog(t,e+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.copyUsers=function(t){return this.users=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.users.length+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteUsers=function(t){var e;return e=this.pasteItems(t,this.users),this.showLog(t,e+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteItems=function(t,e){var n,r,i,s;return e&&0!==e.length?(n=t.closest("dl"),n.find("table").show(),s=n.find("tbody"),r=n.find(".hidden-ids").attr("name"),i=0,e.each(function(){var t;return 0===s.find("tr[data-id="+$(this).data("id")+"]").length?(t=$(this).clone(!0),t.find("input").attr("name",r),s.append(t),i+=1):void 0}),i):0},t.showLog=function(t,e){return $(".gws-member-log").remove(),$("<span class='gws-member-log'>"+e+"</span>").appendTo(t.parent()).hide().fadeIn(200)},t}()}.call(this),function(){this.Gws_Reminder=function(){function t(){}return t.renderAddon=function(t){var e,n;return null==t&&(t={}),e=$(".gws-addon-reminder"),n={data:{item:{item_id:e.find("#item_id").val(),model:e.find("#item_model").val(),name:e.find("#item_name").val()}},beforeSend:function(t){return $(".gws-addon-reminder-label").html("")},success:function(t){return $(".gws-addon-reminder-label").html(t)},error:function(t){return alert("Error")}},$.extend(!0,n,t),$("#gws-addon-reminder-set").click(function(){var t;return t={method:"post"},$.extend(!0,t,n),t.data.item.date=e.find("#item_date").val(),$.ajax(t)}),$("#gws-addon-reminder-unset").click(function(){var t;return t={method:"post"},$.extend(!0,t,n),t.data._method="delete",$.ajax(t)})},t.renderList=function(t){return null==t&&(t={}),$(".list-item").each(function(){return $(this).find(".links").append('<a class="restore" href="#" style="display: none;">\u5143\u306b\u623b\u3059</a>')}),$(".list-item .delete").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{_method:"delete",item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(t){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").hide(),e.find(".restore").show(),!1},error:function(t){return alert("Error")}})}),$(".list-item .restore").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(t){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").show(),e.find(".restore").hide(),!1},error:function(t){return alert("Error")}})})},t}()}.call(this),function(){this.Gws_Schedule_Calendar=function(){function t(){}return t.messages={noPlan:"\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093"},t.render=function(t,e,n){var r;return null==e&&(e={}),null==n&&(n={}),r=this.defaultParams(e),e.restUrl&&$.extend(!0,r,this.editableParams(e)),e.restUrl&&$.extend(!0,r,this.tapMenuParams(e)),$.extend(!0,r,e),$(t).fullCalendar(r),this.renderInitialize(t,n)},t.renderInitialize=function(t,e){return null==e&&(e={}),e.view&&$(t).fullCalendar("changeView",e.view),e.date&&$(t).fullCalendar("gotoDate",e.date),$(t).find(".fc-toolbar h2").click(function(){var t,e,n;if(n="gws-schedule-tool-calendars",0===$("."+n).length)for($(".gws-schedule-box .calendar:first").before("<div class='"+n+"'></div>"),t=e=1;4>=e;t=++e)$("."+n).append("<div class='"+n+"-cal"+t+"'></div>"),$("."+n+"-cal"+t).datetimepicker({timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,scrollMonth:!1,inline:!0,defaultDate:"+1970/0"+t+"/01",defaultSelect:!1,todayButton:!1,onGenerate:function(t,e){return $(this).find(".xdsoft_today").removeClass("xdsoft_today"),$(this).find(".xdsoft_current").removeClass("xdsoft_current")},onSelectDate:function(t,e){var n;return n=sprintf("%d-%02d-%02d",t.getFullYear(),t.getMonth()+1,t.getDate()),$(".calendar").fullCalendar("gotoDate",n)}});return $("."+n).animate({width:"toggle"},"fast")})},t.defaultParams=function(t){return{buttonText:{listMonth:"\u30ea\u30b9\u30c8"},columnFormat:{month:"ddd",week:"M/D [(]ddd[)]",day:"M/D [(]ddd[)]"},contentHeight:"auto",displayEventEnd:{basicWeek:!0},endParam:"s[end]",fixedWeekCount:!1,header:{left:"today prev next title",right:"month basicWeek agendaDay listMonth"},lang:"ja",nextDayThreshold:"00:00:00",schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",slotLabelFormat:"HH:mm",startParam:"s[start]",timeFormat:"HH:mm",titleFormat:{month:"YYYY\u5e74 M\u6708",week:"(YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09)",day:"YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09"},loading:function(t,e){return t?$(this).find(".fc-widget-content").eq(0).prepend('<span class="fc-loading">\u8aad\u307f\u8fbc\u307f\u4e2d</span>'):$(this).find(".fc-loading").remove()}}},t.tapMenuParams=function(t){var e;return e=t.restUrl,{dayClick:function(n,r,i){var s,o,a;return t.tapMenu?(o=new Date,a=n.format()+"T"+o.getHours()+":00:00",s="<a href='"+e+"/new?start="+a+"' class='add-plan'>\u4e88\u5b9a\u3092\u4f5c\u6210</a>",$("body").append('<div class="tap-menu">'+s+"</div>"),$(".tap-menu").show().css("left",r.pageX-5).css("top",r.pageY-5).show(),$(".tap-menu a").click(function(){var t;return $(this).data("view")?(t=i.calendar.getCalendar(),t.changeView($(this).data("view")),t.gotoDate(n),$(".tap-menu").remove(),!1):void 0}),$(".tap-menu").mouseleave(function(){return $(".tap-menu").remove()})):void 0}}},t.editableParams=function(t){var e;return e=t.restUrl,{editable:!0,eventClick:function(t,n,r){var i;if(!t.noPopup)return i=$(this),Gws_Popup.render(i,"<div class='fc-popup'><span class='fc-loading'>\u8aad\u307f\u8fbc\u307f\u4e2d</span></div>"),$.ajax({url:e+"/"+t.id+"/popup",success:function(t){return $(".fc-popup").html(t),Gws_Popup.renderPopup(i)}})},eventDrop:function(t,n,r,i,s,o){var a;return a=null,t.end&&(a=t.end.format()),$.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"drop",api_start:t.start.format(),api_end:a}},success:function(t,e){var n;return n=o.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(t,e,n){return alert(t.responseJSON.join("\n")),r()}})},eventResize:function(t,n,r){return $.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"resize",api_start:t.start.format(),api_end:t.end.format()}},success:function(t,e){var n;return n=view.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(t,e,n){return alert(t.responseJSON.join("\n")),r()}})}}},t}()}.call(this);var FC=$.fullCalendar,View=FC.View;BasicHourView=FC.views.basicHour=FC.BasicView.extend({renderEvents:function(t){this.dayGrid.renderEvents(t),head='<tr><td class="fc-head-container fc-widget-header">',head+='<div class="fc-row fc-widget-header">',head+="<table><thead><tr>";for(i in[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])head+='<th class="fc-day-header fc-widget-header fc-hour-'+i+'">'+i+"</th>";head+="</tr></thead></table>",head+="</div>",head+="</td></tr>",this.el.find(".fc-head").html(head)}}),BasicHourView.eventRender=function(t,e,n){var r=BasicHourView.eventLeftPosition(t,n),i=BasicHourView.eventRightPosition(t,n),s=i-r;1>s&&(s=1),e.find(".fc-time").remove(),e.css({position:"absolute",top:"2px",width:s.toString()+"%","margin-left":r+"%"})},BasicHourView.eventLeftPosition=function(t,e){if(nums=BasicHourView.datesToNum(t.start,e.start),nums[0]<nums[1])return 0;var n=new Date(t.start._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.eventRightPosition=function(t,e){if(!t.end)return 1;if(nums=BasicHourView.datesToNum(t.end,e.end),nums[0]==nums[1])return 99.5;var n=new Date(t.end._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.datesToNum=function(t,e){return num1=1e4*t.year()+100*(t.month()+1)+t.date(),num2=1e4*e.year()+100*(e.month()+1)+e.date(),[num1,num2]};var FC=$.fullCalendar,View=FC.View,ListMonthView=FC.ListMonthView=FC.BasicView.extend({renderEvents:function(t){var e=this.calendar,n=$('<div class="fc-listMonth-view-container"></div>').appendTo(".fc-listMonth-view"),r=$('<div class="fc-listMonth-view-table"></div>');for(var i in t){var s=t[i];if(-1==s.className.indexOf("fc-holiday")){var o=$('<a class="fc-event fc-event-point"></a>').text(s.title);o.css({color:s.textColor,"background-color":s.backgroundColor}),o.bind("click",function(n){var r=$(this).data("eventNo");return e.view.trigger("eventClick",$(this),t[r],n)}).data("eventNo",i);var a=$('<div class="td info"></div>').append(o),l=$('<div class="td date"></div>').text(s.startDateLabel),u=$('<div class="td time"></div>').text(s.startTimeLabel);s.allDay&&u.text(s.allDayLabel),$('<div class="tr"></div>').appendTo(r).append(l).append(u).append(a),r.appendTo(n)}}if(0==$(".fc-event").length){var c=$('<div class="td">'+Gws_Schedule_Calendar.messages.noPlan+"</div>");$('<div class="tr"></div>').appendTo(r).append(c),r.appendTo(n)}}});FC.views.listMonth={"class":ListMonthView,duration:{months:1},defaults:{fixedWeekCount:!1}},function(){this.Gws_Schedule_Multiple_Calendar=function(){function t(){}return t.render=function(t,e,n){var r;return null==e&&(e={}),null==n&&(n={}),r=Gws_Schedule_Calendar.defaultParams(e),e.restUrl&&$.extend(!0,r,Gws_Schedule_Calendar.editableParams(e)),e.restUrl&&$.extend(!0,r,Gws_Schedule_Calendar.tapMenuParams(e)),$.extend(!0,r,this.defaultParams(e)),$.extend(!0,r,this.contentParams(e)),$.extend(!0,r,e),$(t).fullCalendar(r),Gws_Schedule_Calendar.renderInitialize(t,n),$(document).click(function(t){return $(".fc-event").not($(t.target).closest(".fc-event")).find(".fc-popup").remove()})},t.defaultParams=function(t){return{defaultView:"basicWeek",header:{left:"today prev next title",right:"basicWeek timelineDay"},slotDuration:"01:00",slotLabelFormat:"H",views:{basicHour:{type:"day",buttonText:"\u65e5",contentHeight:25},timelineDay:{contentHeight:25,minTime:"08:00",maxTime:"22:00"}}}},t.controllerParams=function(t){return{header:{left:"today prev next title",right:"basicWeek timelineDay"},eventSources:[],eventAfterAllRender:function(t){return"basicWeek"===t.name?t.el.find(".fc-body").hide():void 0}}},t.contentParams=function(t){return{eventRender:function(t,e,n){return"basicHour"===n.name?BasicHourView.eventRender(t,e,n):void 0},eventAfterAllRender:function(t){}}},t.renderController=function(t,e,n){var r,i;return null==e&&(e={}),null==n&&(n={}),i=Gws_Schedule_Calendar.defaultParams(e),$.extend(!0,i,this.defaultParams(e)),$.extend(!0,i,this.controllerParams(e)),$.extend(!0,i,e),$(t).fullCalendar(i),Gws_Schedule_Calendar.renderInitialize(t,n),r=$(t),r.find(".fc-today-button").click(function(){return $(".calendar.multiple .fc-today-button").click()}),r.find(".fc-prev-button").click(function(){return $(".calendar.multiple .fc-prev-button").click()}),r.find(".fc-next-button").click(function(){return $(".calendar.multiple .fc-next-button").click()}),r.find(".fc-basicWeek-button").click(function(){return $(".calendar.multiple .fc-basicWeek-button").click()}),r.find(".fc-timelineDay-button").click(function(){return $(".calendar.multiple .fc-timelineDay-button").click()}),r.find(".fc-basicHour-button").click(function(){return $(".calendar.multiple .fc-basicHour-button").click()})},t}()}.call(this),function(){this.Gws_Schedule_Plan=function(){function t(){}return t.diffOn=36e5,t.renderForm=function(t){return null==t&&(t={}),$(".date").datetimepicker({lang:"ja",timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,maxDate:t.maxDate}),$(".datetime").datetimepicker({lang:"ja",roundTime:"ceil",step:30,maxDate:t.maxDate}),this.relateDateForm(),this.relateDateTimeForm()},t.renderAlldayForm=function(){return this.changeDateForm(),$("#item_allday").change(function(){return t.changeDateValue(),t.changeDateForm()})},t.changeDateValue=function(){var t,e;return $("#item_allday").prop("checked")?($("#item_start_on").val($("#item_start_at").val().replace(/ .*/,"")),$("#item_end_on").val($("#item_end_at").val().replace(/ .*/,""))):(e=$("#item_start_at").val().replace(/.* /,""),t=$("#item_end_at").val().replace(/.* /,""),""===e&&""!==$("#item_start_on").val()&&(e="00:00"),""===t&&""!==$("#item_end_on").val()&&(t="00:00"),$("#item_start_at").val($("#item_start_on").val()+(" "+e)),$("#item_end_at").val($("#item_end_on").val()+(" "+t)))},t.changeDateForm=function(){return $("#item_allday").prop("checked")?($(".dates-field").show(),$(".datetimes-field").hide()):($(".dates-field").hide(),$(".datetimes-field").show())},t.relateDateForm=function(e,n){return null==e&&(e=".date.start"),null==n&&(n=".date.end"),$(e+", "+n).click(function(){return t.diffOn=t.diffDates($(e).val(),$(n).val())}),$(e).change(function(){var r,i,s;return s=$(e).val(),s&&(s=new Date(s).getTime(),!isNaN(s))?(r=new Date,r.setTime(s+t.diffOn),i="%d/%02d/%02d",$(e).hasClass("datetime")&&(i="%d/%02d/%02d %02d:%02d"),$(n).val(sprintf(i,r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()))):void 0}),""===$(n).val()?$(e).change():void 0},t.relateDateTimeForm=function(){return this.relateDateForm(".datetime.start",".datetime.end")},t.diffDates=function(t,e){var n;return t&&e?(n=new Date(e).getTime()-new Date(t).getTime(),0>n?0:n):36e5},t}()}.call(this),function(){this.Gws_Schedule_Repeat_Plan=function(){function t(){}return t.renderForm=function(){return this.changeRepeatForm(),this.relateDateForm(),$("#item_repeat_type").change(function(){return t.changeRepeatForm()})},t.changeRepeatForm=function(){var t;return t=$("#item_repeat_type").val(),""===t?$(".gws-schedule-repeat").hide():($(".gws-schedule-repeat").show(),$(".repeat-daily, .repeat-weekly, .repeat-monthly").hide(),$(".repeat-"+t).show())},t.relateDateForm=function(){return Gws_Schedule_Plan.relateDateForm(".date.repeat_start",".date.repeat_end")},t.renderSubmitButtons=function(){var t,e,n,r,i,s;return i=$("#main form"),s='<span class="gws-schedule-btn-space"></span>',t=$('<input type="button" class="btn" value="\u4eca\u56de\u306e\u307f" />'),e=$('<input type="button" class="btn" value="\u4ee5\u964d\u3059\u3079\u3066" />'),n=$('<input type="button" class="btn" value="\u4e00\u9023\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3059\u3079\u3066" />'),t.bind("click",function(){return i.append('<input type="hidden" name="item[edit_range]" value="one" />').submit()}),e.bind("click",function(){return i.append('<input type="hidden" name="item[edit_range]" value="later" />').submit()}),n.bind("click",function(){return i.append('<input type="hidden" name="item[edit_range]" value="all" />').submit()}),r=$('<div class="gws-schedule-repeat-submit"></div>'),r.append(t).append(s).append(e).append(s).append(n),$(".send .save, .send .delete").click(function(){return""!==$("#item_repeat_type").val()?($.colorbox({inline:!0,href:r}),!1):void 0})},t}()}.call(this),function(){$(function(){var t;return $("a[href^=http]").not('[href*="'+location.hostname+'"]').attr({target:"_blank"}),t=location.pathname+"/",$(".gws-schedule-tabs a").each(function(){var e;return e=$(this),t.match(new RegExp("^"+e.attr("href")+"(/|$)"))?e.addClass("current"):void 0}),Gws_Member.render()})}.call(this);