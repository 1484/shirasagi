//! moment.js
//! version : 2.11.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
//  Copyright (c) 2002 M.Inamori,All rights reserved.
function sprintf(){var e=sprintf.arguments,t=e.length;if(0==t)return"";var n,i,r,s="",o=e[0],a=o.length;n=0;for(var l,u,c=1,d=0,h=0;a>h;h++){var p=o.charAt(h);switch(d){case 0:"%"==p?(l=p,d=1,u=""):s+=p;break;case 1:if("%"==p){s+=p,d=0;break}switch(c>=t&&(e[t++]=""),i=0,r=-1,p){case"-":n|=1,d=1;break;case"+":n|=2,d=1;break;case"0":n|=4,d=2;break;case" ":n|=8,d=1;break;case"#":n|=16,d=1;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=parseInt(p),d=2;break;case"-":n=1,d=2;break;case".":i="",r=0,d=3;break;case"d":s+=toInteger(e[c],n,i,r),c++,d=0;break;case"f":s+=toFloatingPoint(e[c],n,i,6),c++,d=0;break;case"e":s+=toExponential(e[c],n,i,6,"e"),c++,d=0;break;case"E":s+=toExponential(e[c],n,i,6,"E"),c++,d=0;break;case"s":s+=e[c],c++,d=0;break;default:s+=u+p,d=0}break;case 2:switch(p){case".":r=0,d=3;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=10*i+parseInt(p),d=2;break;case"d":s+=toInteger(e[c],n,i,r),c++,d=0;break;case"f":s+=toFloatingPoint(e[c],n,i,6),c++,d=0;break;case"e":s+=toExponential(e[c],n,i,6,"e"),c++,d=0;break;case"E":s+=toExponential(e[c],n,i,6,"E"),c++,d=0;break;case"s":s+=toFormatString(e[c],i,r),c++,d=0;break;default:s+=u+p,d=0}break;case 3:switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=10*r+parseInt(p);break;case"d":s+=toInteger(e[c],n,i,r),c++,d=0;break;case"f":s+=toFloatingPoint(e[c],n,i,r),c++,d=0;break;case"e":s+=toExponential(e[c],n,i,r,"e"),c++,d=0;break;case"E":s+=toExponential(e[c],n,i,r,"E"),c++,d=0;break;case"s":s+=toFormatString(e[c],i,r),c++,d=0;break;default:s+=u+p,d=0}break;default:return"error"}d&&(u+=p)}return s}function toInteger(e,t,n,i){"number"!=typeof e&&("string"==typeof e?(e=parseFloat(e),isNaN(e)&&(e=0)):e=0);var r=e.toString();if(e>-1&&1>e)r="0";else{0>e&&(r=r.substring(1));var s=r.indexOf("e");if(-1!=s){var o=parseInt(r.substring(s+2)),a=r.indexOf(".");for(-1==a?(r=r.substring(0,s)+"000000000000000000000",o-=21):(r=r.substring(0,a)+r.substring(a+1,s)+"00000",o-=r.length-a);o;o--)r+="0"}else{var a=r.indexOf(".");-1!=a&&(r=r.substring(0,a))}}var l=r.length;if(i>l){for(var u="0",c=i-l;c;c--)r=u+r;l=i}return ProcFlag(r,t,n-l,e>=0)}function toFloatingPoint(e,t,n,i){"number"!=typeof e&&("string"==typeof e?(e=parseFloat(e),isNaN(e)&&(e=0)):e=0);var r=e>=0;return r||(e=-e),str=toFloatingPoint2(e,t,i),ProcFlag(str,t,n-str.length,r)}function toFloatingPoint2(e,t,n){var i=e.toString(),r=i.indexOf("e");if(-1!=r){var s=parseInt(i.substring(r+1));if(s>0){var o=i.indexOf(".");for(-1==o?(i=i.substring(0,r)+"000000000000000000000",s-=21):(i=i.charAt(0)+i.substring(2,r)+"00000",s-=i.length-1);s;s--)i+="0"}else{var a=s+n;if(-1>a)i="0";else if(a>=0){i=i.substring(0,r);var o=i.indexOf(".");for(-1!=o&&(i=i.charAt(0)+i.substring(2,r)),i="000000"+i,s+=7;s;s++)i="0"+i;i="0."+i}else{var l=parseFloat(i.substring(0,r));if(l>5){i="0.00000";for(var u=s+7;u;u++)i+="0";i+="1"}else i="0"}}}var c=i.length,o=i.indexOf(".");if(-1!=o){var d=c-o-1;if(d>n){var l=parseFloat(i.charAt(o+n+1)+"."+i.substring(o+n+2));if(l>5){var u;if(1>e){for(u=2;"0"==i.charAt(u);)u++;l=(parseInt(i.substring(u,n+2))+1).toString(),i=l.length>n+2-u?2==u?"1."+l.substring(1):i.substring(0,u-1)+l:i.substring(0,u)+l}else l=(parseInt(i.substring(0,o)+i.substring(o+1,o+n+1))+1).toString(),i=l.length>o+n?l.substring(0,o+1)+"."+l.substring(o+1):l.substring(0,o)+"."+l.substring(o)}else i=i.substring(0,n?o+n+1:o)}else if(n>d)for(var u=n-d;u;u--)i+="0"}else if(n){i+=".0";for(var u=n-1;u;u--)i+="0"}return i}function toExponential(e,t,n,i,r){"number"!=typeof e&&("string"==typeof e?(e=parseFloat(e),isNaN(e)&&(e=0)):e=0);var s=e>=0;s||(e=-e);var o,a=e.toString(),l=a.indexOf("."),u=a.indexOf("e"),c=((-1!=u)<<1)+(-1!=l);if(0==c)(o=a.length-1)&&(a=a.charAt(0)+"."+a.substring(l=1));else if(1==c)if(e>10)o=l-1,a=a.substring(0,1)+"."+a.substring(1,l)+a.substring(l+1),l=1;else if(e>1)o=0;else{for(var d=2;;d++)if("0"!=a.charAt(d)){o=1-d,a=a.charAt(d)+"."+a.substring(d+1);break}l=1}else o=parseInt(a.substring(u+1)),a=a.substring(0,u);return a=toFloatingPoint2(parseFloat(a),t,i),a+=o>=0?r+(10>o?"+0":"+")+o:r+(o>-10?"-0"+-o:o),a=ProcFlag(a,t,n-a.length,s)}function toFormatString(e,t,n){"string"!=typeof e&&(e=e.toString());var i=e.length;if(n>=0&&i>n&&(e=e.substring(0,n),i=n),t>i)for(var r=" ",s=t-i;s;s--)e=r+e;return e}function ProcFlag(e,t,n,i){var r=1&t,s=2&t,o=8&t;if(o&&n--,n-=!i+s>0,(4&t)>0&&!r){if(n>0)for(var a="0",l=n;l;l--)e=a+e;i?s&&(e="+"+e):e="-"+e}else{i?s&&(e="+"+e):e="-"+e;var a=" ";if(n>0){var a=" ";if(r)for(var l=n;l;l--)e+=a;else for(var l=n;l;l--)e=a+e}}return o&&(e=" "+e),e}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Wn.apply(null,arguments)}function t(e){Wn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,i){return Te(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(NaN);return null!=e?o(u(t),e):u(t).userInvalidated=!0,t}function h(e){return void 0===e}function p(e,t){var n,i,r;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=u(t)),h(t._locale)||(e._locale=t._locale),Gn.length>0)for(n in Gn)i=Gn[n],r=t[i],h(r)||(e[i]=r);return e}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Yn===!1&&(Yn=!0,e.updateOffset(this),Yn=!1)}function g(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function y(e,t,n){var i,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&v(e[i])!==v(t[i]))&&o++;return o+s}function b(){}function w(e){return e?e.toLowerCase().replace("_","-"):e}function S(e){for(var t,n,i,r,s=0;s<e.length;){for(r=w(e[s]).split("-"),t=r.length,n=w(e[s+1]),n=n?n.split("-"):null;t>0;){if(i=x(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&y(r,n,!0)>=t-1)break;t--}s++}return null}function x(e){var t=null;if(!Vn[e]&&!h(module)&&module&&module.exports)try{t=$n._abbr,require("./locale/"+e),_(t)}catch(n){}return Vn[e]}function _(e,t){var n;return e&&(n=h(t)?T(e):C(e,t),n&&($n=n)),$n._abbr}function C(e,t){return null!==t?(t.abbr=e,Vn[e]=Vn[e]||new b,Vn[e].set(t),_(e),Vn[e]):(delete Vn[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $n;if(!n(e)){if(t=x(e))return t;e=[e]}return S(e)}function E(e,t){var n=e.toLowerCase();Un[n]=Un[n+"s"]=Un[t]=e}function k(e){return"string"==typeof e?Un[e]||Un[e.toLowerCase()]:void 0}function D(e){var t,n,i={};for(n in e)s(e,n)&&(t=k(n),t&&(i[t]=e[n]));return i}function R(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(t,n){return function(i){return null!=i?(j(this,t,i),e.updateOffset(this,n),this):H(this,t)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function j(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=k(e),R(this[e]))return this[e](t);return this}function F(e,t,n){var i=""+Math.abs(e),r=t-i.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function I(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Qn[e]=r),t&&(Qn[t[0]]=function(){return F(r.apply(this,arguments),t[1],t[2])}),n&&(Qn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,i=e.match(Xn);for(t=0,n=i.length;n>t;t++)Qn[i[t]]?i[t]=Qn[i[t]]:i[t]=L(i[t]);return function(r){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(r,e):i[t];return s}}function O(e,t){return e.isValid()?(t=A(t,e.localeData()),Jn[t]=Jn[t]||N(t),Jn[t](e)):e.localeData().invalidDate()}function A(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Zn.lastIndex=0;i>=0&&Zn.test(e);)e=e.replace(Zn,n),Zn.lastIndex=0,i-=1;return e}function z(e,t,n){mi[e]=R(t)?t:function(e){return e&&n?n:t}}function q(e,t){return s(mi,e)?mi[e](t._strict,t._locale):new RegExp(B(e))}function B(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)vi[e[n]]=i}function $(e,t){W(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function G(e,t,n){null!=t&&s(vi,e)&&vi[e](t,n._a,n,e)}function Y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function V(e,t){return n(this._months)?this._months[e.month()]:this._months[ki.test(t)?"format":"standalone"][e.month()]}function U(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ki.test(t)?"format":"standalone"][e.month()]}function X(e,t,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function Z(e,t){var n;return e.isValid()?"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),Y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e):e}function J(t){return null!=t?(Z(this,t),e.updateOffset(this,!0),this):H(this,"Month")}function Q(){return Y(this.year(),this.month())}function K(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[bi]<0||n[bi]>11?bi:n[wi]<1||n[wi]>Y(n[yi],n[bi])?wi:n[Si]<0||n[Si]>24||24===n[Si]&&(0!==n[xi]||0!==n[_i]||0!==n[Ci])?Si:n[xi]<0||n[xi]>59?xi:n[_i]<0||n[_i]>59?_i:n[Ci]<0||n[Ci]>999?Ci:-1,u(e)._overflowDayOfYear&&(yi>t||t>wi)&&(t=wi),u(e)._overflowWeeks&&-1===t&&(t=Ti),u(e)._overflowWeekday&&-1===t&&(t=Ei),u(e).overflow=t),e}function ee(t){e.suppressDeprecationWarnings===!1&&!h(console)&&console.warn&&console.warn("Deprecation warning: "+t)}function te(e,t){var n=!0;return o(function(){return n&&(ee(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ne(e,t){Mi[e]||(ee(t),Mi[e]=!0)}function ie(e){var t,n,i,r,s,o,a=e._i,l=Hi.exec(a)||ji.exec(a);if(l){for(u(e).iso=!0,t=0,n=Fi.length;n>t;t++)if(Fi[t][1].exec(l[1])){r=Fi[t][0],i=Fi[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ii.length;n>t;t++)if(Ii[t][1].exec(l[3])){s=(l[2]||" ")+Ii[t][0];break}if(null==s)return void(e._isValid=!1)}if(!i&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Pi.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(s||"")+(o||""),ye(e)}else e._isValid=!1}function re(t){var n=Li.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(ie(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function se(e,t,n,i,r,s,o){var a=new Date(e,t,n,i,r,s,o);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ae(e){return le(e)?366:365}function le(e){return e%4===0&&e%100!==0||e%400===0}function ue(){return le(this.year())}function ce(e,t,n){var i=7+t-n,r=(7+oe(e,0,i).getUTCDay()-t)%7;return-r+i-1}function de(e,t,n,i,r){var s,o,a=(7+n-i)%7,l=ce(e,i,r),u=1+7*(t-1)+a+l;return 0>=u?(s=e-1,o=ae(s)+u):u>ae(e)?(s=e+1,o=u-ae(e)):(s=e,o=u),{year:s,dayOfYear:o}}function he(e,t,n){var i,r,s=ce(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return 1>o?(r=e.year()-1,i=o+pe(r,t,n)):o>pe(e.year(),t,n)?(i=o-pe(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function pe(e,t,n){var i=ce(e,t,n),r=ce(e+1,t,n);return(ae(e)-i+r)/7}function fe(e,t,n){return null!=e?e:null!=t?t:n}function ge(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function me(e){var t,n,i,r,s=[];if(!e._d){for(i=ge(e),e._w&&null==e._a[wi]&&null==e._a[bi]&&ve(e),e._dayOfYear&&(r=fe(e._a[yi],i[yi]),e._dayOfYear>ae(r)&&(u(e)._overflowDayOfYear=!0),n=oe(r,0,e._dayOfYear),e._a[bi]=n.getUTCMonth(),e._a[wi]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Si]&&0===e._a[xi]&&0===e._a[_i]&&0===e._a[Ci]&&(e._nextDay=!0,e._a[Si]=0),e._d=(e._useUTC?oe:se).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Si]=24)}}function ve(e){var t,n,i,r,s,o,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,o=4,n=fe(t.GG,e._a[yi],he(Ee(),1,4).year),i=fe(t.W,1),r=fe(t.E,1),(1>r||r>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,n=fe(t.gg,e._a[yi],he(Ee(),s,o).year),i=fe(t.w,1),null!=t.d?(r=t.d,(0>r||r>6)&&(l=!0)):null!=t.e?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s),1>i||i>pe(n,s,o)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(a=de(n,i,r,s,o),e._a[yi]=a.year,e._dayOfYear=a.dayOfYear)}function ye(t){if(t._f===e.ISO_8601)return void ie(t);t._a=[],u(t).empty=!0;var n,i,r,s,o,a=""+t._i,l=a.length,c=0;for(r=A(t._f,t._locale).match(Xn)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(q(s,t))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&u(t).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),c+=i.length),Qn[s]?(i?u(t).empty=!1:u(t).unusedTokens.push(s),G(s,i,t)):t._strict&&!i&&u(t).unusedTokens.push(s);u(t).charsLeftOver=l-c,a.length>0&&u(t).unusedInput.push(a),u(t).bigHour===!0&&t._a[Si]<=12&&t._a[Si]>0&&(u(t).bigHour=void 0),t._a[Si]=be(t._locale,t._a[Si],t._meridiem),me(t),K(t)}function be(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function we(e){var t,n,i,r,s;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],ye(t),c(t)&&(s+=u(t).charsLeftOver,s+=10*u(t).unusedTokens.length,u(t).score=s,(null==i||i>s)&&(i=s,n=t));o(e,n||t)}function Se(e){if(!e._d){var t=D(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),me(e)}}function xe(e){var t=new f(K(_e(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _e(e){var t=e._i,r=e._f;return e._locale=e._locale||T(e._l),null===t||void 0===r&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new f(K(t)):(n(r)?we(e):r?ye(e):i(t)?e._d=t:Ce(e),c(e)||(e._d=null),e))}function Ce(t){var s=t._i;void 0===s?t._d=new Date(e.now()):i(s)?t._d=new Date(+s):"string"==typeof s?re(t):n(s)?(t._a=r(s.slice(0),function(e){return parseInt(e,10)}),me(t)):"object"==typeof s?Se(t):"number"==typeof s?t._d=new Date(s):e.createFromInputFallback(t)}function Te(e,t,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,xe(s)}function Ee(e,t,n,i){return Te(e,t,n,i,!1)}function ke(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ee();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function De(){var e=[].slice.call(arguments,0);return ke("isBefore",e)}function Re(){var e=[].slice.call(arguments,0);return ke("isAfter",e)}function Me(e){var t=D(e),n=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=T(),this._bubble()}function He(e){return e instanceof Me}function je(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Pe(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],r=(i+"").match(qi)||["-",0,0],s=+(60*r[1])+v(r[2]);return"+"===r[0]?s:-s}function Fe(t,n){var r,s;return n._isUTC?(r=n.clone(),s=(g(t)||i(t)?+t:+Ee(t))-+r,r._d.setTime(+r._d+s),e.updateOffset(r,!1),r):Ee(t).local()}function Ie(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Le(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Pe(pi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Ie(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?Qe(this,Ve(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ie(this):null!=t?this:NaN}function Ne(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Oe(e){return this.utcOffset(0,e)}function Ae(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),"m")),this}function ze(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pe(hi,this._i)),this}function qe(e){return this.isValid()?(e=e?Ee(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Be(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(p(e,this),e=_e(e),e._a){var t=e._isUTC?a(e._a):Ee(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $e(){return this.isValid()?!this._isUTC:!1}function Ge(){return this.isValid()?this._isUTC:!1}function Ye(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ve(e,t){var n,i,r,o=e,a=null;return He(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Bi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:v(a[wi])*n,h:v(a[Si])*n,m:v(a[xi])*n,s:v(a[_i])*n,ms:v(a[Ci])*n}):(a=Wi.exec(e))?(n="-"===a[1]?-1:1,o={y:Ue(a[2],n),M:Ue(a[3],n),d:Ue(a[4],n),h:Ue(a[5],n),m:Ue(a[6],n),s:Ue(a[7],n),w:Ue(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Ze(Ee(o.from),Ee(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Me(o),He(e)&&s(e,"_locale")&&(i._locale=e._locale),i}function Ue(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ze(e,t){var n;return e.isValid()&&t.isValid()?(t=Fe(t,e),e.isBefore(t)?n=Xe(e,t):(n=Xe(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Je(e,t){return function(n,i){var r,s;return null===i||isNaN(+i)||(ne(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Ve(n,i),Qe(this,r,e),this}}function Qe(t,n,i,r){var s=n._milliseconds,o=n._days,a=n._months;t.isValid()&&(r=null==r?!0:r,s&&t._d.setTime(+t._d+s*i),o&&j(t,"Date",H(t,"Date")+o*i),a&&Z(t,H(t,"Month")+a*i),r&&e.updateOffset(t,o||a))}function Ke(e,t){var n=e||Ee(),i=Fe(n,this).startOf("day"),r=this.diff(i,"days",!0),s=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",o=t&&(R(t[s])?t[s]():t[s]);return this.format(o||this.localeData().calendar(s,this,Ee(n)))}function et(){return new f(this)}function tt(e,t){var n=g(e)?e:Ee(e);return this.isValid()&&n.isValid()?(t=k(h(t)?"millisecond":t),"millisecond"===t?+this>+n:+n<+this.clone().startOf(t)):!1}function nt(e,t){var n=g(e)?e:Ee(e);return this.isValid()&&n.isValid()?(t=k(h(t)?"millisecond":t),"millisecond"===t?+n>+this:+this.clone().endOf(t)<+n):!1}function it(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function rt(e,t){var n,i=g(e)?e:Ee(e);return this.isValid()&&i.isValid()?(t=k(t||"millisecond"),"millisecond"===t?+this===+i:(n=+i,+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))):!1}function st(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ot(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function at(e,t,n){var i,r,s,o;return this.isValid()?(i=Fe(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=k(t),"year"===t||"month"===t||"quarter"===t?(o=lt(this,i),"quarter"===t?o/=3:"year"===t&&(o/=12)):(s=this-i,o="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-r)/864e5:"week"===t?(s-r)/6048e5:s),n?o:m(o)):NaN):NaN}function lt(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(r,"months");return 0>t-s?(n=e.clone().add(r-1,"months"),i=(t-s)/(s-n)):(n=e.clone().add(r+1,"months"),i=(t-s)/(n-s)),-(r+i)}function ut(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ct(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?R(Date.prototype.toISOString)?this.toDate().toISOString():O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dt(t){var n=O(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ht(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ee(e).isValid())?Ve({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pt(e){return this.from(Ee(),e)}function ft(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ee(e).isValid())?Ve({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.to(Ee(),e)}function mt(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function vt(){return this._locale}function yt(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bt(e){return e=k(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wt(){return+this._d-6e4*(this._offset||0)}function St(){return Math.floor(+this/1e3)}function xt(){return this._offset?new Date(+this):this._d}function _t(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ct(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tt(){return this.isValid()?this.toISOString():"null"}function Et(){return c(this)}function kt(){return o({},u(this))}function Dt(){return u(this).overflow}function Rt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mt(e,t){I(0,[e,e.length],0,t)}function Ht(e){return It.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jt(e){return It.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Pt(){return pe(this.year(),1,4)}function Ft(){var e=this.localeData()._week;return pe(this.year(),e.dow,e.doy)}function It(e,t,n,i,r){var s;return null==e?he(this,i,r).year:(s=pe(e,i,r),t>s&&(t=s),Lt.call(this,e,t,n,i,r))}function Lt(e,t,n,i,r){var s=de(e,t,n,i,r),o=oe(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Nt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ot(e){return he(e,this._week.dow,this._week.doy).week}function At(){return this._week.dow}function zt(){return this._week.doy}function qt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Bt(e){var t=he(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Wt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function $t(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Gt(e){return this._weekdaysShort[e.day()]}function Yt(e){return this._weekdaysMin[e.day()]}function Vt(e,t,n){var i,r,s;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=Ee([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Wt(e,this.localeData()),this.add(e-t,"d")):t}function Xt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Zt(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function Jt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Qt(){return this.hours()%12||12}function Kt(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}function nn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function rn(e,t){t[Ci]=v(1e3*("0."+e))}function sn(){return this._isUTC?"UTC":""}function on(){return this._isUTC?"Coordinated Universal Time":""}function an(e){return Ee(1e3*e)}function ln(){return Ee.apply(null,arguments).parseZone()}function un(e,t,n){var i=this._calendar[e];return R(i)?i.call(t,n):i}function cn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function dn(){return this._invalidDate}function hn(e){return this._ordinal.replace("%d",e)}function pn(e){return e}function fn(e,t,n,i){var r=this._relativeTime[n];return R(r)?r(e,t,n,i):r.replace(/%d/i,e)}function gn(e,t){var n=this._relativeTime[e>0?"future":"past"];return R(n)?n(t):n.replace(/%s/i,t)}function mn(e){var t,n;for(n in e)t=e[n],R(t)?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function vn(e,t,n,i){var r=T(),s=a().set(i,t);return r[n](s,e)}function yn(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return vn(e,t,n,r);var s,o=[];for(s=0;i>s;s++)o[s]=vn(e,s,n,r);return o}function bn(e,t){return yn(e,t,"months",12,"month")}function wn(e,t){return yn(e,t,"monthsShort",12,"month")}function Sn(e,t){return yn(e,t,"weekdays",7,"day")}function xn(e,t){return yn(e,t,"weekdaysShort",7,"day")}function _n(e,t){return yn(e,t,"weekdaysMin",7,"day")}function Cn(){var e=this._data;return this._milliseconds=pr(this._milliseconds),this._days=pr(this._days),this._months=pr(this._months),e.milliseconds=pr(e.milliseconds),e.seconds=pr(e.seconds),e.minutes=pr(e.minutes),e.hours=pr(e.hours),e.months=pr(e.months),e.years=pr(e.years),this}function Tn(e,t,n,i){var r=Ve(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function En(e,t){return Tn(this,e,t,1)}function kn(e,t){return Tn(this,e,t,-1)}function Dn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Rn(){var e,t,n,i,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*Dn(Hn(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=m(s/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,o+=m(n/24),r=m(Mn(o)),a+=r,o-=Dn(Hn(r)),i=m(a/12),a%=12,l.days=o,l.months=a,l.years=i,this}function Mn(e){return 4800*e/146097}function Hn(e){return 146097*e/4800}function jn(e){var t,n,i=this._milliseconds;if(e=k(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+Mn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Hn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Pn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Fn(e){return function(){return this.as(e)}}function In(e){return e=k(e),this[e+"s"]()}function Ln(e){return function(){return this._data[e]}}function Nn(){return m(this.days()/7)}function On(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function An(e,t,n){var i=Ve(e).abs(),r=Rr(i.as("s")),s=Rr(i.as("m")),o=Rr(i.as("h")),a=Rr(i.as("d")),l=Rr(i.as("M")),u=Rr(i.as("y")),c=r<Mr.s&&["s",r]||1>=s&&["m"]||s<Mr.m&&["mm",s]||1>=o&&["h"]||o<Mr.h&&["hh",o]||1>=a&&["d"]||a<Mr.d&&["dd",a]||1>=l&&["M"]||l<Mr.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,On.apply(null,c)}function zn(e,t){return void 0===Mr[e]?!1:void 0===t?Mr[e]:(Mr[e]=t,!0)}function qn(e){var t=this.localeData(),n=An(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Bn(){var e,t,n,i=Hr(this._milliseconds)/1e3,r=Hr(this._days),s=Hr(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(s/12),s%=12;var o=n,a=s,l=r,u=t,c=e,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Wn,$n,Gn=e.momentProperties=[],Yn=!1,Vn={},Un={},Xn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Jn={},Qn={},Kn=/\d/,ei=/\d\d/,ti=/\d{3}/,ni=/\d{4}/,ii=/[+-]?\d{6}/,ri=/\d\d?/,si=/\d\d\d\d?/,oi=/\d\d\d\d\d\d?/,ai=/\d{1,3}/,li=/\d{1,4}/,ui=/[+-]?\d{1,6}/,ci=/\d+/,di=/[+-]?\d+/,hi=/Z|[+-]\d\d:?\d\d/gi,pi=/Z|[+-]\d\d(?::?\d\d)?/gi,fi=/[+-]?\d+(\.\d{1,3})?/,gi=/[0-9]*(a[mn]\s?)?['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,mi={},vi={},yi=0,bi=1,wi=2,Si=3,xi=4,_i=5,Ci=6,Ti=7,Ei=8;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),E("month","M"),z("M",ri),z("MM",ri,ei),z("MMM",gi),z("MMMM",gi),W(["M","MM"],function(e,t){t[bi]=v(e)-1}),W(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[bi]=r:u(n).invalidMonth=e});var ki=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Di="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ri="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),Mi={};
e.suppressDeprecationWarnings=!1;var Hi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ji=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Pi=/Z|[+-]\d\d(?::?\d\d)?/,Fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ii=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Li=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=te("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),E("year","y"),z("Y",di),z("YY",ri,ei),z("YYYY",li,ni),z("YYYYY",ui,ii),z("YYYYYY",ui,ii),W(["YYYYY","YYYYYY"],yi),W("YYYY",function(t,n){n[yi]=2===t.length?e.parseTwoDigitYear(t):v(t)}),W("YY",function(t,n){n[yi]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Ni=M("FullYear",!1);e.ISO_8601=function(){};var Oi=te("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ee.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),Ai=te("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ee.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),zi=Date.now||function(){return+new Date};je("Z",":"),je("ZZ",""),z("Z",pi),z("ZZ",pi),W(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Pe(pi,e)});var qi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Bi=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Wi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ve.fn=Me.prototype;var $i=Je(1,"add"),Gi=Je(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Yi=te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mt("gggg","weekYear"),Mt("ggggg","weekYear"),Mt("GGGG","isoWeekYear"),Mt("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),z("G",di),z("g",di),z("GG",ri,ei),z("gg",ri,ei),z("GGGG",li,ni),z("gggg",li,ni),z("GGGGG",ui,ii),z("ggggg",ui,ii),$(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),$(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),I("Q",0,"Qo","quarter"),E("quarter","Q"),z("Q",Kn),W("Q",function(e,t){t[bi]=3*(v(e)-1)}),I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),z("w",ri),z("ww",ri,ei),z("W",ri),z("WW",ri,ei),$(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)});var Vi={dow:0,doy:6};I("D",["DD",2],"Do","date"),E("date","D"),z("D",ri),z("DD",ri,ei),z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],wi),W("Do",function(e,t){t[wi]=v(e.match(ri)[0],10)});var Ui=M("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),z("d",ri),z("e",ri),z("E",ri),z("dd",gi),z("ddd",gi),z("dddd",gi),$(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:u(n).invalidWeekday=e}),$(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var Xi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Zi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ji="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),z("DDD",ai),z("DDDD",ti),W(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Qt),I("hmm",0,0,function(){return""+Qt.apply(this)+F(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Qt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),E("hour","h"),z("a",en),z("A",en),z("H",ri),z("h",ri),z("HH",ri,ei),z("hh",ri,ei),z("hmm",si),z("hmmss",oi),z("Hmm",si),z("Hmmss",oi),W(["H","HH"],Si),W(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),W(["h","hh"],function(e,t,n){t[Si]=v(e),u(n).bigHour=!0}),W("hmm",function(e,t,n){var i=e.length-2;t[Si]=v(e.substr(0,i)),t[xi]=v(e.substr(i)),u(n).bigHour=!0}),W("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Si]=v(e.substr(0,i)),t[xi]=v(e.substr(i,2)),t[_i]=v(e.substr(r)),u(n).bigHour=!0}),W("Hmm",function(e,t,n){var i=e.length-2;t[Si]=v(e.substr(0,i)),t[xi]=v(e.substr(i))}),W("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Si]=v(e.substr(0,i)),t[xi]=v(e.substr(i,2)),t[_i]=v(e.substr(r))});var Qi=/[ap]\.?m?\.?/i,Ki=M("Hours",!0);I("m",["mm",2],0,"minute"),E("minute","m"),z("m",ri),z("mm",ri,ei),W(["m","mm"],xi);var er=M("Minutes",!1);I("s",["ss",2],0,"second"),E("second","s"),z("s",ri),z("ss",ri,ei),W(["s","ss"],_i);var tr=M("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),E("millisecond","ms"),z("S",ai,Kn),z("SS",ai,ei),z("SSS",ai,ti);var nr;for(nr="SSSS";nr.length<=9;nr+="S")z(nr,ci);for(nr="S";nr.length<=9;nr+="S")W(nr,rn);var ir=M("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var rr=f.prototype;rr.add=$i,rr.calendar=Ke,rr.clone=et,rr.diff=at,rr.endOf=bt,rr.format=dt,rr.from=ht,rr.fromNow=pt,rr.to=ft,rr.toNow=gt,rr.get=P,rr.invalidAt=Dt,rr.isAfter=tt,rr.isBefore=nt,rr.isBetween=it,rr.isSame=rt,rr.isSameOrAfter=st,rr.isSameOrBefore=ot,rr.isValid=Et,rr.lang=Yi,rr.locale=mt,rr.localeData=vt,rr.max=Ai,rr.min=Oi,rr.parsingFlags=kt,rr.set=P,rr.startOf=yt,rr.subtract=Gi,rr.toArray=_t,rr.toObject=Ct,rr.toDate=xt,rr.toISOString=ct,rr.toJSON=Tt,rr.toString=ut,rr.unix=St,rr.valueOf=wt,rr.creationData=Rt,rr.year=Ni,rr.isLeapYear=ue,rr.weekYear=Ht,rr.isoWeekYear=jt,rr.quarter=rr.quarters=Nt,rr.month=J,rr.daysInMonth=Q,rr.week=rr.weeks=qt,rr.isoWeek=rr.isoWeeks=Bt,rr.weeksInYear=Ft,rr.isoWeeksInYear=Pt,rr.date=Ui,rr.day=rr.days=Ut,rr.weekday=Xt,rr.isoWeekday=Zt,rr.dayOfYear=Jt,rr.hour=rr.hours=Ki,rr.minute=rr.minutes=er,rr.second=rr.seconds=tr,rr.millisecond=rr.milliseconds=ir,rr.utcOffset=Le,rr.utc=Oe,rr.local=Ae,rr.parseZone=ze,rr.hasAlignedHourOffset=qe,rr.isDST=Be,rr.isDSTShifted=We,rr.isLocal=$e,rr.isUtcOffset=Ge,rr.isUtc=Ye,rr.isUTC=Ye,rr.zoneAbbr=sn,rr.zoneName=on,rr.dates=te("dates accessor is deprecated. Use date instead.",Ui),rr.months=te("months accessor is deprecated. Use month instead",J),rr.years=te("years accessor is deprecated. Use year instead",Ni),rr.zone=te("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ne);var sr=rr,or={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ar={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},lr="Invalid date",ur="%d",cr=/\d{1,2}/,dr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},hr=b.prototype;hr._calendar=or,hr.calendar=un,hr._longDateFormat=ar,hr.longDateFormat=cn,hr._invalidDate=lr,hr.invalidDate=dn,hr._ordinal=ur,hr.ordinal=hn,hr._ordinalParse=cr,hr.preparse=pn,hr.postformat=pn,hr._relativeTime=dr,hr.relativeTime=fn,hr.pastFuture=gn,hr.set=mn,hr.months=V,hr._months=Di,hr.monthsShort=U,hr._monthsShort=Ri,hr.monthsParse=X,hr.week=Ot,hr._week=Vi,hr.firstDayOfYear=zt,hr.firstDayOfWeek=At,hr.weekdays=$t,hr._weekdays=Xi,hr.weekdaysMin=Yt,hr._weekdaysMin=Ji,hr.weekdaysShort=Gt,hr._weekdaysShort=Zi,hr.weekdaysParse=Vt,hr.isPM=tn,hr._meridiemParse=Qi,hr.meridiem=nn,_("en",{monthsParse:[/^jan/i,/^feb/i,/^mar/i,/^apr/i,/^may/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^oct/i,/^nov/i,/^dec/i],longMonthsParse:[/^january$/i,/^february$/i,/^march$/i,/^april$/i,/^may$/i,/^june$/i,/^july$/i,/^august$/i,/^september$/i,/^october$/i,/^november$/i,/^december$/i],shortMonthsParse:[/^jan$/i,/^feb$/i,/^mar$/i,/^apr$/i,/^may$/i,/^jun$/i,/^jul$/i,/^aug/i,/^sept?$/i,/^oct$/i,/^nov$/i,/^dec$/i],ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=te("moment.lang is deprecated. Use moment.locale instead.",_),e.langData=te("moment.langData is deprecated. Use moment.localeData instead.",T);var pr=Math.abs,fr=Fn("ms"),gr=Fn("s"),mr=Fn("m"),vr=Fn("h"),yr=Fn("d"),br=Fn("w"),wr=Fn("M"),Sr=Fn("y"),xr=Ln("milliseconds"),_r=Ln("seconds"),Cr=Ln("minutes"),Tr=Ln("hours"),Er=Ln("days"),kr=Ln("months"),Dr=Ln("years"),Rr=Math.round,Mr={s:45,m:45,h:22,d:26,M:11},Hr=Math.abs,jr=Me.prototype;jr.abs=Cn,jr.add=En,jr.subtract=kn,jr.as=jn,jr.asMilliseconds=fr,jr.asSeconds=gr,jr.asMinutes=mr,jr.asHours=vr,jr.asDays=yr,jr.asWeeks=br,jr.asMonths=wr,jr.asYears=Sr,jr.valueOf=Pn,jr._bubble=Rn,jr.get=In,jr.milliseconds=xr,jr.seconds=_r,jr.minutes=Cr,jr.hours=Tr,jr.days=Er,jr.weeks=Nn,jr.months=kr,jr.years=Dr,jr.humanize=qn,jr.toISOString=Bn,jr.toString=Bn,jr.toJSON=Bn,jr.locale=mt,jr.localeData=vt,jr.toIsoString=te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bn),jr.lang=Yi,I("X",0,0,"unix"),I("x",0,0,"valueOf"),z("x",di),z("X",fi),W("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.11.0",t(Ee),e.fn=sr,e.min=De,e.max=Re,e.now=zi,e.utc=a,e.unix=an,e.months=bn,e.isDate=i,e.locale=_,e.invalid=d,e.duration=Ve,e.isMoment=g,e.weekdays=Sn,e.parseZone=ln,e.localeData=T,e.isDuration=He,e.monthsShort=wn,e.weekdaysMin=_n,e.defineLocale=C,e.weekdaysShort=xn,e.normalizeUnits=k,e.relativeTimeThreshold=zn,e.prototype=sr;var Pr=e;return Pr}),/*!
 * FullCalendar v2.6.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function n(e){return B(e,We)}function i(t){var n,i={views:t.views||{}};return e.each(t,function(t,r){"views"!=t&&(e.isPlainObject(r)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,We)?(n=null,e.each(r,function(e,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(i.views[e]||(i.views[e]={}),i.views[e][t]=r):(n||(n={}),n[e]=r)}),n&&(i[t]=n)):i[t]=r)}),i}function r(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function s(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){e("body").addClass("fc-not-allowed")}function a(){e("body").removeClass("fc-not-allowed")}function l(t,n,i){var r=Math.floor(n/t.length),s=Math.floor(n-r*(t.length-1)),o=[],a=[],l=[],c=0;u(t),t.each(function(n,i){var u=n===t.length-1?s:r,d=e(i).outerHeight(!0);u>d?(o.push(i),a.push(d),l.push(e(i).height())):c+=d}),i&&(n-=c,r=Math.floor(n/o.length),s=Math.floor(n-r*(o.length-1))),e(o).each(function(t,n){var i=t===o.length-1?s:r,u=a[t],c=l[t],d=i-(u-c);i>u&&e(n).height(d)})}function u(e){e.height("")}function c(t){var n=0;return t.find("> span").each(function(t,i){var r=e(i).outerWidth();r>n&&(n=r)}),n++,t.width(n),n}function d(e,t){return e.height(t).addClass("fc-scroller"),e[0].scrollHeight-1>e[0].clientHeight?!0:(h(e),!1)}function h(e){e.height("").removeClass("fc-scroller")}function p(t){var n=t.css("position"),i=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(t[0].ownerDocument||document)}function f(e){var t=e.offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function g(e){var t=e.offset(),n=v(e),i=t.left+w(e,"border-left-width")+n.left,r=t.top+w(e,"border-top-width")+n.top;return{left:i,right:i+e[0].clientWidth,top:r,bottom:r+e[0].clientHeight}}function m(e){var t=e.offset(),n=t.left+w(e,"border-left-width")+w(e,"padding-left"),i=t.top+w(e,"border-top-width")+w(e,"padding-top");return{left:n,right:n+e.width(),top:i,bottom:i+e.height()}}function v(e){var t=e.innerWidth()-e[0].clientWidth,n={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return y()&&"rtl"==e.css("direction")?n.left=t:n.right=t,n}function y(){return null===$e&&($e=b()),$e}function b(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children(),i=n.offset().left>t.offset().left;return t.remove(),i}function w(e,t){return parseFloat(e.css(t))||0}function S(e){return 1==e.which&&!e.ctrlKey}function x(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function _(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function C(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function T(e,t){return{left:e.left-t.left,top:e.top-t.top}}function E(t){var n,i,r=[],s=[];for("string"==typeof t?s=t.split(/\s*,\s*/):"function"==typeof t?s=[t]:e.isArray(t)&&(s=t),n=0;n<s.length;n++)i=s[n],"string"==typeof i?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function k(e,t,n){var i,r;for(i=0;i<n.length;i++)if(r=D(e,t,n[i]))return r;return 0}function D(e,t,n){return n.func?n.func(e,t):R(e[n.field],t[n.field])*(n.order||1)}function R(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function M(e,t){var n,i,r,s,o=e.start,a=e.end,l=t.start,u=t.end;return a>l&&u>o?(o>=l?(n=o.clone(),r=!0):(n=l.clone(),r=!1),u>=a?(i=a.clone(),s=!0):(i=u.clone(),s=!1),{start:n,end:i,isStart:r,isEnd:s}):void 0}function H(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function j(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days")})}function P(e,n,i){return t.duration(Math.round(e.diff(n,i,!0)),i)}function F(e,t){var n,i,r;for(n=0;n<Ye.length&&(i=Ye[n],r=I(i,e,t),!(r>=1&&te(r)));n++);return i}function I(e,n,i){return null!=i?i.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function L(e,t,n){var i;return A(n)?(t-e)/n:(i=n.asMonths(),Math.abs(i)>=1&&te(i)?t.diff(e,"months",!0)/i:t.diff(e,"days",!0)/n.asDays())}function N(e,t){var n,i;return A(e)||A(t)?e/t:(n=e.asMonths(),i=t.asMonths(),Math.abs(n)>=1&&te(n)&&Math.abs(i)>=1&&te(i)?n/i:e.asDays()/t.asDays())}function O(e,n){var i;return A(e)?t.duration(e*n):(i=e.asMonths(),Math.abs(i)>=1&&te(i)?t.duration({months:i*n}):t.duration({days:e.asDays()*n}))}function A(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function z(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function q(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function B(e,t){var n,i,r,s,o,a,l={};if(t)for(n=0;n<t.length;n++){for(i=t[n],r=[],s=e.length-1;s>=0;s--)if(o=e[s][i],"object"==typeof o)r.unshift(o);else if(void 0!==o){l[i]=o;break}r.length&&(l[i]=B(r))}for(n=e.length-1;n>=0;n--){a=e[n];for(i in a)i in l||(l[i]=a[i])}return l}function W(e){var t=function(){};return t.prototype=e,new t}function $(e,t){for(var n in e)Y(e,n)&&(t[n]=e[n])}function G(e,t){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)i=r[n],e[i]!==Object.prototype[i]&&(t[i]=e[i])}function Y(e,t){return Ze.call(e,t)}function V(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function U(t,n,i){if(e.isFunction(t)&&(t=[t]),t){var r,s;for(r=0;r<t.length;r++)s=t[r].apply(n,i)||s;return s}}function X(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function Z(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function J(e){return e.replace(/&.*?;/g,"")}function Q(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function K(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e,t){return e-t}function te(e){return e%1===0}function ne(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function ie(e,t){var n,i,r,s,o=function(){var a=+new Date-s;t>a&&a>0?n=setTimeout(o,t-a):(n=null,e.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,s=+new Date,n||(n=setTimeout(o,t))}}function re(n,i,r){var s,o,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return t.isMoment(u)?(l=t.apply(null,n),oe(u,l)):z(u)||void 0===u?l=t.apply(null,n):(s=!1,o=!1,c?Je.test(u)?(u+="-01",n=[u],s=!0,o=!0):(a=Qe.exec(u))&&(s=!a[5],o=!0):e.isArray(u)&&(o=!0),l=i||s?t.utc.apply(t,n):t.apply(null,n),s?(l._ambigTime=!0,l._ambigZone=!0):r&&(o?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function se(e,n){var i,r,s=!1,o=!1,a=e.length,l=[];for(i=0;a>i;i++)r=e[i],t.isMoment(r)||(r=qe.moment.parseZone(r)),s=s||r._ambigTime,o=o||r._ambigZone,l.push(r);for(i=0;a>i;i++)r=l[i],n||!s||r._ambigTime?o&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime();return l}function oe(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function ae(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function le(e,t){return et.format.call(e,t)}function ue(e,t){return ce(e,ge(t))}function ce(e,t){var n,i="";for(n=0;n<t.length;n++)i+=de(e,t[n]);return i}function de(e,t){var n,i;return"string"==typeof t?t:(n=t.token)?tt[n]?tt[n](e):le(e,n):t.maybe&&(i=ce(e,t.maybe),i.match(/[1-9]/))?i:""}function he(e,t,n,i,r){var s;return e=qe.moment.parseZone(e),t=qe.moment.parseZone(t),s=(e.localeData||e.lang).call(e),n=s.longDateFormat(n)||n,i=i||" - ",pe(e,t,ge(n),i,r)}function pe(e,t,n,i,r){var s,o,a,l,u=e.clone().stripZone(),c=t.clone().stripZone(),d="",h="",p="",f="",g="";for(o=0;o<n.length&&(s=fe(e,t,u,c,n[o]),s!==!1);o++)d+=s;for(a=n.length-1;a>o&&(s=fe(e,t,u,c,n[a]),s!==!1);a--)h=s+h;for(l=o;a>=l;l++)p+=de(e,n[l]),f+=de(t,n[l]);return(p||f)&&(g=r?f+i+p:p+i+f),d+g+h}function fe(e,t,n,i,r){var s,o;return"string"==typeof r?r:(s=r.token)&&(o=nt[s.charAt(0)],o&&n.isSame(i,o))?le(e,s):!1}function ge(e){return e in it?it[e]:it[e]=me(e)}function me(e){for(var t,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=i.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:me(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function ve(){}function ye(e,t){var n;return Y(t,"constructor")&&(n=t.constructor),"function"!=typeof n&&(n=t.constructor=function(){e.apply(this,arguments)}),n.prototype=W(e.prototype),$(t,n.prototype),G(t,n.prototype),$(e,n),n}function be(e,t){$(t.prototype||t,e.prototype)}function we(e,t){return e||t?e&&t?e.component===t.component&&Se(e,t)&&Se(t,e):!1:!0}function Se(e,t){for(var n in e)if(!/^(component|left|right|top|bottom)$/.test(n)&&e[n]!==t[n])return!1;return!0}function xe(e){var t=Ce(e);return"background"===t||"inverse-background"===t}function _e(e){return"inverse-background"===Ce(e)}function Ce(e){return X((e.source||{}).rendering,e.rendering)}function Te(e){var t,n,i={};for(t=0;t<e.length;t++)n=e[t],(i[n._id]||(i[n._id]=[])).push(n);return i}function Ee(e,t){return e.start-t.start}function ke(n){var i,r,s,o,a=qe.dataAttrPrefix;return a&&(a+="-"),i=n.data(a+"event")||null,i&&(i="object"==typeof i?e.extend({},i):{},r=i.start,null==r&&(r=i.time),s=i.duration,o=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(a+"start")),null==r&&(r=n.data(a+"time")),null==s&&(s=n.data(a+"duration")),null==o&&(o=n.data(a+"stick")),r=null!=r?t.duration(r):null,s=null!=s?t.duration(s):null,o=Boolean(o),{eventProps:i,startTime:r,duration:s,stick:o}}function De(e,t){var n,i;for(n=0;n<t.length;n++)if(i=t[n],i.leftCol<=e.rightCol&&i.rightCol>=e.leftCol)return!0;return!1}function Re(e,t){return e.leftCol-t.leftCol}function Me(e){var t,n,i,r=[];for(t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&Pe(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function He(e){var t,n,i,r,s;for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for(r=n[i],r.forwardSegs=[],s=t+1;s<e.length;s++)Pe(r,e[s],r.forwardSegs)}function je(e){var t,n,i=e.forwardSegs,r=0;if(void 0===e.forwardPressure){for(t=0;t<i.length;t++)n=i[t],je(n),r=Math.max(r,1+n.forwardPressure);e.forwardPressure=r}}function Pe(e,t,n){n=n||[];for(var i=0;i<t.length;i++)Fe(e,t[i])&&n.push(t[i]);return n}function Fe(e,t){return e.bottom>t.top&&e.top<t.bottom}function Ie(n,i){function r(){Y?a()&&(c(),l()):s()}function s(){V=z.theme?"ui":"fc",n.addClass("fc"),z.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),z.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),Y=e("<div class='fc-view-container'/>").prependTo(n),$=A.header=new Oe(A,z),G=$.render(),G&&n.prepend(G),l(z.defaultView),z.handleWindowResize&&(Z=ie(h,z.windowResizeDelay),e(window).resize(Z))}function o(){U&&U.removeElement(),$.removeElement(),Y.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),Z&&e(window).unbind("resize",Z)}function a(){return n.is(":visible")}function l(t){ne++,U&&t&&U.type!==t&&($.deactivateButton(U.type),P(),U.removeElement(),U=A.view=null),!U&&t&&(U=A.view=te[t]||(te[t]=A.instantiateView(t)),U.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(Y)),$.activateButton(t)),U&&(J=U.massageCurrentDate(J),U.displaying&&J.isWithin(U.intervalStart,U.intervalEnd)||a()&&(U.display(J),F(),w(),S(),m())),F(),ne--}function u(e){return a()?(e&&d(),ne++,U.updateSize(!0),ne--,!0):void 0}function c(){a()&&d()}function d(){X="number"==typeof z.contentHeight?z.contentHeight:"number"==typeof z.height?z.height-(G?G.outerHeight(!0):0):Math.round(Y.width()/Math.max(z.aspectRatio,.5))}function h(e){!ne&&e.target===window&&U.start&&u(!0)&&U.trigger("windowResize",ee)}function p(){g(),v()}function f(){a()&&(P(),U.displayEvents(re),F())}function g(){P(),U.clearEvents(),F()}function m(){!z.lazyFetching||Q(U.start,U.end)?v():f()}function v(){K(U.start,U.end)}function y(e){re=e,f()}function b(){f()}function w(){$.updateTitle(U.title)}function S(){var e=A.getNow();e.isWithin(U.intervalStart,U.intervalEnd)?$.disableButton("today"):$.enableButton("today")}function x(e,t){U.select(A.buildSelectSpan.apply(A,arguments))}function _(){U&&U.unselect()}function C(){J=U.computePrevDate(J),l()}function T(){J=U.computeNextDate(J),l()}function E(){J.add(-1,"years"),l()}function k(){J.add(1,"years"),l()}function D(){J=A.getNow(),l()}function R(e){J=A.moment(e).stripZone(),l()}function M(e){J.add(t.duration(e)),l()}function H(e,t){var n;t=t||"day",n=A.getViewSpec(t)||A.getUnitViewSpec(t),J=e.clone(),l(n?n.type:null)}function j(){return A.applyTimezone(J)}function P(){Y.css({width:"100%",height:Y.height(),overflow:"hidden"})}function F(){Y.css({width:"",height:"",overflow:""})}function I(){return A}function L(){return U}function N(e,t){return void 0===t?z[e]:void(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(z[e]=t,u(!0)))}function O(e,t){var n=Array.prototype.slice.call(arguments,2);return t=t||ee,this.triggerWith(e,t,n),z[e]?z[e].apply(t,n):void 0}var A=this;A.initOptions(i||{});var z=this.options;A.render=r,A.destroy=o,A.refetchEvents=p,A.reportEvents=y,A.reportEventChange=b,A.rerenderEvents=f,A.changeView=l,A.select=x,A.unselect=_,A.prev=C,A.next=T,A.prevYear=E,A.nextYear=k,A.today=D,A.gotoDate=R,A.incrementDate=M,A.zoomTo=H,A.getDate=j,A.getCalendar=I,A.getView=L,A.option=N,A.trigger=O;var q=W(Ne(z.lang));if(z.monthNames&&(q._months=z.monthNames),z.monthNamesShort&&(q._monthsShort=z.monthNamesShort),z.dayNames&&(q._weekdays=z.dayNames),z.dayNamesShort&&(q._weekdaysShort=z.dayNamesShort),null!=z.firstDay){var B=W(q._week);B.dow=z.firstDay,q._week=B}q._fullCalendar_weekCalc=function(e){return"function"==typeof e?e:"local"===e?e:"iso"===e||"ISO"===e?"ISO":void 0}(z.weekNumberCalculation),A.defaultAllDayEventDuration=t.duration(z.defaultAllDayEventDuration),A.defaultTimedEventDuration=t.duration(z.defaultTimedEventDuration),A.moment=function(){var e;return"local"===z.timezone?(e=qe.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===z.timezone?qe.moment.utc.apply(null,arguments):qe.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=q:e._lang=q,e},A.getIsAmbigTimezone=function(){return"local"!==z.timezone&&"UTC"!==z.timezone},A.applyTimezone=function(e){if(!e.hasTime())return e.clone();var t,n=A.moment(e.toArray()),i=e.time()-n.time();return i&&(t=n.clone().add(i),e.time()-t.time()===0&&(n=t)),n},A.getNow=function(){var e=z.now;return"function"==typeof e&&(e=e()),A.moment(e).stripZone()},A.getEventEnd=function(e){return e.end?e.end.clone():A.getDefaultEventEnd(e.allDay,e.start)},A.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(A.defaultAllDayEventDuration):n.add(A.defaultTimedEventDuration),A.getIsAmbigTimezone()&&n.stripZone(),n},A.humanizeDuration=function(e){return(e.locale||e.lang).call(e,z.lang).humanize()},Ae.call(A,z);var $,G,Y,V,U,X,Z,J,Q=A.isFetchNeeded,K=A.fetchEvents,ee=n[0],te={},ne=0,re=[];J=null!=z.defaultDate?A.moment(z.defaultDate).stripZone():A.getNow(),A.getSuggestedViewHeight=function(){return void 0===X&&c(),X},A.isHeightAuto=function(){return"auto"===z.contentHeight||"auto"===z.height},A.freezeContentHeight=P,A.unfreezeContentHeight=F,A.initialize()}function Le(t){e.each(bt,function(e,n){null==t[e]&&(t[e]=n(t))})}function Ne(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function Oe(t,n){function i(){var t=n.header;return p=n.theme?"ui":"fc",t?f=e("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function r(){f.remove(),f=e()}function s(i){var r=e('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&e.each(s.split(" "),function(i){var s,o=e(),a=!0;e.each(this.split(","),function(i,r){var s,l,u,c,d,h,f,m,v,y;"title"==r?(o=o.add(e("<h2>&nbsp;</h2>")),a=!1):((s=(t.options.customButtons||{})[r])?(u=function(e){s.click&&s.click.call(y[0],e)},c="",d=s.text):(l=t.getViewSpec(r))?(u=function(){t.changeView(r)},g.push(r),c=l.buttonTextOverride,d=l.buttonTextDefault):t[r]&&(u=function(){t[r]()},c=(t.overrides.buttonText||{})[r],d=n.buttonText[r]),u&&(h=s?s.themeIcon:n.themeButtonIcons[r],f=s?s.icon:n.buttonIcons[r],m=c?Z(c):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":f&&!n.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":Z(d),v=["fc-"+r+"-button",p+"-button",p+"-state-default"],y=e('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(e){y.hasClass(p+"-state-disabled")||(u(e),(y.hasClass(p+"-state-active")||y.hasClass(p+"-state-disabled"))&&y.removeClass(p+"-state-hover"))}).mousedown(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){y.removeClass(p+"-state-down")}).hover(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){y.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),o=o.add(y)))}),a&&o.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),o.length>1?(s=e("<div/>"),a&&s.addClass("fc-button-group"),s.append(o),r.append(s)):r.append(o)}),r}function o(e){f.find("h2").text(e)}function a(e){f.find(".fc-"+e+"-button").addClass(p+"-state-active")}function l(e){f.find(".fc-"+e+"-button").removeClass(p+"-state-active")}function u(e){f.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")}function c(e){f.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")}function d(){return g}var h=this;h.render=i,h.removeElement=r,h.updateTitle=o,h.activateButton=a,h.deactivateButton=l,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var p,f=e(),g=[]}function Ae(n){function i(e,t){return!N||N>e||t>O}function r(e,t){N=e,O=t,G=[];var n=++W,i=B.length;$=i;for(var r=0;i>r;r++)s(B[r],n)}function s(t,n){o(t,function(i){var r,s,o,a=e.isArray(t.events);if(n==W){if(i)for(r=0;r<i.length;r++)s=i[r],o=a?s:y(s,t),o&&G.push.apply(G,x(o));$--,$||A(G)}})}function o(t,i){var r,s,a=qe.sourceFetchers;for(r=0;r<a.length;r++){if(s=a[r].call(L,t,N.clone(),O.clone(),n.timezone,i),s===!0)return;if("object"==typeof s)return void o(s,i)}var l=t.events;if(l)e.isFunction(l)?(L.pushLoading(),l.call(L,N.clone(),O.clone(),n.timezone,function(e){i(e),L.popLoading()})):e.isArray(l)?i(l):i();else{var u=t.url;if(u){var c,d=t.success,h=t.error,p=t.complete;c=e.isFunction(t.data)?t.data():t.data;var f=e.extend({},c||{}),g=X(t.startParam,n.startParam),m=X(t.endParam,n.endParam),v=X(t.timezoneParam,n.timezoneParam);g&&(f[g]=N.format()),m&&(f[m]=O.format()),n.timezone&&"local"!=n.timezone&&(f[v]=n.timezone),L.pushLoading(),e.ajax(e.extend({},wt,t,{data:f,success:function(t){t=t||[];var n=U(d,this,arguments);e.isArray(n)&&(t=n),i(t)},error:function(){U(h,this,arguments),i()},complete:function(){U(p,this,arguments),L.popLoading()}}))}else i()}}function a(e){var t=l(e);t&&(B.push(t),$++,s(t,W))}function l(t){var n,i,r=qe.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return y(e,n)})),i=0;i<r.length;i++)r[i].call(L,n);return n}}function u(t){B=e.grep(B,function(e){return!c(e,t)}),G=e.grep(G,function(e){return!c(e.source,t)}),A(G)}function c(e,t){return e&&t&&d(e)==d(t)}function d(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function h(e){e.start=L.moment(e.start),e.end?e.end=L.moment(e.end):e.end=null,_(e,p(e)),A(G)}function p(t){var n={};return e.each(t,function(e,t){f(e)&&void 0!==t&&V(t)&&(n[e]=t)}),n}function f(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function g(e,t){var n,i,r,s=y(e);if(s){for(n=x(s),i=0;i<n.length;i++)r=n[i],r.source||(t&&(z.events.push(r),r.source=z),G.push(r));return A(G),n}return[]}function m(t){var n,i;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),G=e.grep(G,t,!0),i=0;i<B.length;i++)e.isArray(B[i].events)&&(B[i].events=e.grep(B[i].events,t,!0));A(G)}function v(t){return e.isFunction(t)?e.grep(G,t):null!=t?(t+="",e.grep(G,function(e){return e._id==t})):G}function y(i,r){var s,o,a,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),e.extend(l,i),r&&(l.source=r),l._id=i._id||(void 0===i.id?"_fc"+St++:i.id+""),i.className?"string"==typeof i.className?l.className=i.className.split(/\s+/):l.className=i.className:l.className=[],s=i.start||i.date,o=i.end,q(s)&&(s=t.duration(s)),q(o)&&(o=t.duration(o)),i.dow||t.isDuration(s)||t.isDuration(o))l.start=s?t.duration(s):null,l.end=o?t.duration(o):null,l._recurring=!0;else{if(s&&(s=L.moment(s),!s.isValid()))return!1;o&&(o=L.moment(o),o.isValid()||(o=null)),a=i.allDay,void 0===a&&(a=X(r?r.allDayDefault:void 0,n.allDayDefault)),b(s,o,a,l)}return l}function b(e,t,n,i){i.start=e,i.end=t,i.allDay=n,w(i),ze(i)}function w(e){S(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(n.forceEventDuration?e.end=L.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function S(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=L.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=L.applyTimezone(e.end.time(0))))}function x(t,n,i){var r,s,o,a,l,u,c,d,h,p=[];if(n=n||N,i=i||O,t)if(t._recurring){if(s=t.dow)for(r={},o=0;o<s.length;o++)r[s[o]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)(!r||r[a.day()])&&(l=t.start,u=t.end,c=a.clone(),d=null,l&&(c=c.time(l)),u&&(d=a.clone().time(u)),h=e.extend({},t),b(c,d,!l&&!u,h),p.push(h)),a.add(1,"days")}else p.push(t);return p}function _(t,n,i){function r(e,t){return i?P(e,t,i):n.allDay?j(e,t):H(e,t)}var s,o,a,l,u,c,d={};return n=n||{},n.start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),w(n),s={start:t._start.clone(),end:t._end?t._end.clone():L.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay},w(s),o=null!==t._end&&null===n.end,a=r(n.start,s.start),n.end?(l=r(n.end,s.end),u=l.subtract(a)):u=null,e.each(n,function(e,t){f(e)&&void 0!==t&&(d[e]=t)}),c=C(v(t._id),o,n.allDay,a,u,d),{dateDelta:a,durationDelta:u,undo:c}}function C(t,n,i,r,s,o){var a=L.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),s&&!s.valueOf()&&(s=null),e.each(t,function(t,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},e.each(o,function(e){c[e]=u[e]}),d={start:u._start,end:u._end,allDay:i},w(d),n?d.end=null:s&&!d.end&&(d.end=L.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),s&&d.end.add(s),a&&!d.allDay&&(r||s)&&(d.start.stripZone(),d.end&&d.end.stripZone()),e.extend(u,o,d),ze(u),l.push(function(){e.extend(u,c),ze(u)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}function T(t){var i,r=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=L.getView();return r&&(i=e.extend({},s,"object"==typeof r?r:{})),i?(t&&(i.start=null,i.end=null),x(y(i),o.start,o.end)):[]}function E(e,t){var i=t.source||{},r=X(t.constraint,i.constraint,n.eventConstraint),s=X(t.overlap,i.overlap,n.eventOverlap);return R(e,r,s,t)}function k(t,n,i){var r,s;return i&&(r=e.extend({},i,n),s=x(y(r))[0]),s?E(t,s):D(t)}function D(e){return R(e,n.selectConstraint,n.selectOverlap)}function R(e,t,n,i){var r,s,o,a,l,u;if(null!=t){for(r=M(t),s=!1,a=0;a<r.length;a++)if(F(r[a],e)){s=!0;break}if(!s)return!1}for(o=L.getPeerEvents(e,i),a=0;a<o.length;a++)if(l=o[a],I(l,e)){if(n===!1)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(u=X(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(i,l))return!1}}return!0}function M(e){return"businessHours"===e?T():"object"==typeof e?x(y(e)):v(e)}function F(e,t){var n=e.start.clone().stripZone(),i=L.getEventEnd(e).stripZone();return t.start>=n&&t.end<=i}function I(e,t){var n=e.start.clone().stripZone(),i=L.getEventEnd(e).stripZone();return t.start<i&&t.end>n}var L=this;L.isFetchNeeded=i,L.fetchEvents=r,L.addEventSource=a,L.removeEventSource=u,L.updateEvent=h,L.renderEvent=g,L.removeEvents=m,L.clientEvents=v,L.mutateEvent=_,L.normalizeEventDates=w,L.normalizeEventTimes=S;var N,O,A=L.reportEvents,z={events:[]},B=[z],W=0,$=0,G=[];e.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(e,t){var n=l(t);n&&B.push(n)}),L.getBusinessHoursEvents=T,L.isEventSpanAllowed=E,L.isExternalSpanAllowed=k,L.isSelectionSpanAllowed=D,L.getEventCache=function(){return G}}function ze(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var qe=e.fullCalendar={version:"2.6.1",internalApiVersion:3},Be=qe.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,s){var o,a=e(s),l=a.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(o=l[t].apply(l,n),r||(i=o),"destroy"===t&&a.removeData("fullCalendar")):l||(l=new gt(a,t),a.data("fullCalendar",l),l.render())}),i};var We=["header","buttonText","buttonIcons","themeButtonIcons"];qe.intersectRanges=M,qe.applyAll=U,qe.debounce=ie,qe.isInt=te,qe.htmlEscape=Z,qe.cssToStr=Q,qe.proxy=ne,qe.capitaliseFirstLetter=K,qe.getOuterRect=f,qe.getClientRect=g,qe.getContentRect=m,qe.getScrollbarWidths=v;var $e=null;qe.intersectRects=x,qe.parseFieldSpecs=E,qe.compareByFieldSpecs=k,qe.compareByFieldSpec=D,qe.flexibleCompare=R,qe.computeIntervalUnit=F,qe.divideRangeByDuration=L,qe.divideDurationByDuration=N,qe.multiplyDuration=O,qe.durationHasTime=A;var Ge=["sun","mon","tue","wed","thu","fri","sat"],Ye=["year","month","week","day","hour","minute","second","millisecond"];qe.log=function(){var e=window.console;return e&&e.log?e.log.apply(e,arguments):void 0},qe.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):qe.log.apply(qe,arguments)};var Ve,Ue,Xe,Ze={}.hasOwnProperty,Je=/^\s*\d{4}-\d\d$/,Qe=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Ke=t.fn,et=e.extend({},Ke);qe.moment=function(){return re(arguments)},qe.moment.utc=function(){var e=re(arguments,!0);return e.hasTime()&&e.utc(),e},qe.moment.parseZone=function(){return re(arguments,!0,!0)},Ke.clone=function(){var e=et.clone.apply(this,arguments);return oe(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},Ke.week=Ke.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?et.isoWeek.apply(this,arguments):et.week.apply(this,arguments)},Ke.time=function(e){if(!this._fullCalendar)return et.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Ke.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),Ue(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Ke.hasTime=function(){return!this._ambigTime},Ke.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),Ue(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},Ke.hasZone=function(){return!this._ambigZone},Ke.local=function(){var e=this.toArray(),t=this._ambigZone;return et.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&Xe(this,e),this},Ke.utc=function(){return et.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){et[t]&&(Ke[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),et[t].apply(this,arguments)})}),Ke.format=function(){return this._fullCalendar&&arguments[0]?ue(this,arguments[0]):this._ambigTime?le(this,"YYYY-MM-DD"):this._ambigZone?le(this,"YYYY-MM-DD[T]HH:mm:ss"):et.format.apply(this,arguments)},Ke.toISOString=function(){return this._ambigTime?le(this,"YYYY-MM-DD"):this._ambigZone?le(this,"YYYY-MM-DD[T]HH:mm:ss"):et.toISOString.apply(this,arguments)},Ke.isWithin=function(e,t){var n=se([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},Ke.isSame=function(e,t){var n;return this._fullCalendar?t?(n=se([this,e],!0),et.isSame.call(n[0],n[1],t)):(e=qe.moment.parseZone(e),et.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):et.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){Ke[t]=function(e,n){var i;return this._fullCalendar?(i=se([this,e]),et[t].call(i[0],i[1],n)):et[t].apply(this,arguments)}}),Ve="_d"in t()&&"updateOffset"in t,Ue=Ve?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:ae,Xe=Ve?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:ae;var tt={t:function(e){return le(e,"a").charAt(0)},T:function(e){return le(e,"A").charAt(0)}};qe.formatRange=he;var nt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},it={};qe.Class=ve,ve.extend=function(){var e,t,n=arguments.length;for(e=0;n>e;e++)t=arguments[e],n-1>e&&be(this,t);return ye(this,t||{})},ve.mixin=function(e){be(this,e)};var rt=qe.Emitter=ve.extend({callbackHash:null,on:function(e,t){return this.getCallbacks(e).add(t),this},off:function(e,t){return this.getCallbacks(e).remove(t),this},trigger:function(e){var t=Array.prototype.slice.call(arguments,1);return this.triggerWith(e,this,t),this},triggerWith:function(e,t,n){var i=this.getCallbacks(e);return i.fireWith(t,n),this},getCallbacks:function(t){var n;return this.callbackHash||(this.callbackHash={}),n=this.callbackHash[t],n||(n=this.callbackHash[t]=e.Callbacks()),n}}),st=ve.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&e(document).on("mousedown",this.documentMousedownProxy=ne(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),e(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,n,i,r,s,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=e(window),d=p(this.el);r=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,d.is(window)||d.is(document)?(d=c,t=0,n=0):(i=d.offset(),t=i.top,n=i.left),t+=c.scrollTop(),n+=c.scrollLeft(),o.viewportConstrain!==!1&&(r=Math.min(r,t+d.outerHeight()-u-this.margin),r=Math.max(r,t+this.margin),s=Math.min(s,n+d.outerWidth()-l-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:r-a.top,left:s-a.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),ot=qe.CoordCache=ve.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=e(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?e(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=e.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals();
},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var e=p(this.els.eq(0));return e.is(document)?void 0:g(e)},buildElHorizontals:function(){var t=[],n=[];this.els.each(function(i,r){var s=e(r),o=s.offset().left,a=s.outerWidth();t.push(o),n.push(o+a)}),this.lefts=t,this.rights=n},buildElVerticals:function(){var t=[],n=[];this.els.each(function(i,r){var s=e(r),o=s.offset().top,a=s.outerHeight();t.push(o),n.push(o+a)}),this.tops=t,this.bottoms=n},getHorizontalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,i=this.lefts,r=this.rights,s=i.length;if(!n||e>=n.left&&e<n.right)for(t=0;s>t;t++)if(e>=i[t]&&e<r[t])return t},getVerticalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,i=this.tops,r=this.bottoms,s=i.length;if(!n||e>=n.top&&e<n.bottom)for(t=0;s>t;t++)if(e>=i[t]&&e<r[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]}}),at=qe.DragListener=ve.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(e){e=e||{},this.options=e,this.subjectEl=e.subjectEl},mousedown:function(e){S(e)&&(e.preventDefault(),this.startListening(e),this.options.distance||this.startDrag(e))},startListening:function(t){var n;this.isListening||(t&&this.options.scroll&&(n=p(e(t.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=ie(ne(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")).on("mouseup",this.mouseupProxy=ne(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(e){this.trigger("listenStart",e)},mousemove:function(e){var t,n,i=e.pageX-this.originX,r=e.pageY-this.originY;this.isDragging||(t=this.options.distance||1,n=i*i+r*r,n>=t*t&&this.startDrag(e)),this.isDragging&&this.drag(i,r,e)},startDrag:function(e){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(e))},dragStart:function(e){var t=this.subjectEl;this.trigger("dragStart",e),(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(e,t,n){this.trigger("drag",e,t,n),this.updateScroll(n)},mouseup:function(e){this.stopListening(e)},stopDrag:function(e){this.isDragging&&(this.stopScrolling(),this.dragStop(e),this.isDragging=!1)},dragStop:function(e){var t=this;this.trigger("dragStop",e),setTimeout(function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)},0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),e(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(e){this.trigger("listenStop",e)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(e){e.preventDefault()},computeScrollBounds:function(){var e=this.scrollEl;this.scrollBounds=e?f(e):null},updateScroll:function(e){var t,n,i,r,s=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(t=(s-(e.pageY-o.top))/s,n=(s-(o.bottom-e.pageY))/s,i=(s-(e.pageX-o.left))/s,r=(s-(o.right-e.pageX))/s,t>=0&&1>=t?a=t*this.scrollSpeed*-1:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=i*this.scrollSpeed*-1:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ne(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),lt=at.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(e,t){at.call(this,t),this.component=e},listenStart:function(e){var t,n,i,r=this.subjectEl;at.prototype.listenStart.apply(this,arguments),this.computeCoords(),e?(n={left:e.pageX,top:e.pageY},i=n,r&&(t=f(r),i=_(i,t)),this.origHit=this.queryHit(i.left,i.top),r&&this.options.subjectCenter&&(this.origHit&&(t=x(this.origHit,t)||t),i=C(t)),this.coordAdjust=T(i,n)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function(e){var t;at.prototype.dragStart.apply(this,arguments),t=this.queryHit(e.pageX,e.pageY),t&&this.hitOver(t)},drag:function(e,t,n){var i;at.prototype.drag.apply(this,arguments),i=this.queryHit(n.pageX,n.pageY),we(i,this.hit)||(this.hit&&this.hitOut(),i&&this.hitOver(i))},dragStop:function(){this.hitDone(),at.prototype.dragStop.apply(this,arguments)},hitOver:function(e){var t=we(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,t,this.origHit)},hitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function(){at.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function(){at.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(e,t)}}),ut=ve.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")))},stop:function(t,n){function i(){this.isAnimating=!1,r.removeElement(),this.top0=this.left0=null,n&&n()}var r=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,e(document).off("mousemove",this.mousemoveProxy),t&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:i})):i())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(e){this.topDelta=e.pageY-this.mouseY0,this.leftDelta=e.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ct=qe.Grid=ve.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=ne(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),e=n.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),t=n.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},spanToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?P(e,t,this.largeUnit):H(e,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(e,t){},getHitSpan:function(e){},getHitEl:function(e){},setElement:function(t){var n=this;this.el=t,t.on("mousedown",function(t){e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length||n.dayMousedown(t)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){e(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){e(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(e){var t,n,i=this,r=this.view,s=r.opt("selectable"),l=new lt(this,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},hitOver:function(e,r,a){a&&(t=r?e:null,s&&(n=i.computeSelection(i.getHitSpan(a),i.getHitSpan(e)),n?i.renderSelection(n):n===!1&&o()))},hitOut:function(){t=null,n=null,i.unrenderSelection(),a()},listenStop:function(e){t&&r.triggerDayClick(i.getHitSpan(t),i.getHitEl(t),e),n&&r.reportSelection(n,e),a()}});l.mousedown(e)},renderEventLocationHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?W(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n=this.computeSelectionSpan(e,t);return n&&!this.view.calendar.isSelectionSpanAllowed(n)?!1:n},computeSelectionSpan:function(e,t){var n=[e.start,e.end,t.start,t.end];return n.sort(ee),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var i,r=this,s=this[t+"SegEl"],o="",a=[];if(n.length){for(i=0;i<n.length;i++)o+=this.fillSegHtml(t,n[i]);e(o).each(function(t,i){var o=n[t],l=e(i);s&&(l=s.call(r,o,l)),l&&(l=e(l),l.is(r.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],i=this[e+"SegCss"],r=n?n.call(this,t):[],s=Q(i?i.call(this,t):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow(),i=["fc-"+Ge[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&i.push("fc-other-month"),e.isSame(n,"day")?i.push("fc-today",t.highlightStateClass):n>e?i.push("fc-past"):i.push("fc-future"),i}});ct.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n=[],i=[];for(t=0;t<e.length;t++)(xe(e[t])?n:i).push(e[t]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(e){var t=this.eventsToSegs(e);return this.renderBgSegs(t)||t},renderFgEvents:function(e){var t=this.eventsToSegs(e);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var i,r=this.view,s="",o=[];if(t.length){for(i=0;i<t.length;i++)s+=this.fgSegHtml(t[i],n);e(s).each(function(n,i){var s=t[n],a=r.resolveEventEl(s.event,e(i));a&&(a.data("fc-seg",s),s.el=a,o.push(s))})}return o},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,n=this.view;e.each({mouseenter:function(e,n){t.triggerSegMouseover(e,n)},mouseleave:function(e,n){t.triggerSegMouseout(e,n)},click:function(e,t){return n.trigger("eventClick",this,e.event,t)},mousedown:function(i,r){e(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?t.segResizeMousedown(i,r,e(r.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&t.segDragMousedown(i,r)}},function(n,i){t.el.on(n,".fc-event-container > *",function(n){var r=e(this).data("fc-seg");return!r||t.isDraggingSeg||t.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(e,t){this.mousedOverSeg||(this.mousedOverSeg=e,this.view.trigger("eventMouseover",e.el[0],e.event,t))},triggerSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",e.el[0],e.event,t))},segDragMousedown:function(e,t){var n,i=this,r=this.view,s=r.calendar,l=e.el,u=e.event,c=new ut(e.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),d=new lt(r,{distance:5,scroll:r.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(e){c.hide(),c.start(e)},dragStart:function(t){i.triggerSegMouseout(e,t),i.segDragStart(e,t),r.hideEvent(u)},hitOver:function(t,a,l){e.hit&&(l=e.hit),n=i.computeEventDrop(l.component.getHitSpan(l),t.component.getHitSpan(t),u),n&&!s.isEventSpanAllowed(i.eventToSpan(n),u)&&(o(),n=null),n&&r.renderDrag(n,e)?c.hide():c.show(),a&&(n=null)},hitOut:function(){r.unrenderDrag(),c.show(),n=null},hitDone:function(){a()},dragStop:function(t){c.stop(!n,function(){r.unrenderDrag(),r.showEvent(u),i.segDragStop(e,t),n&&r.reportEventDrop(u,n,this.largeUnit,l,t)})},listenStop:function(){c.stop()}});d.mousedown(t)},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var i,r,s=this.view.calendar,o=e.start,a=t.start;return o.hasTime()===a.hasTime()?(i=this.diffDates(a,o),n.allDay&&A(i)?(r={start:n.start.clone(),end:s.getEventEnd(n),allDay:!1},s.normalizeEventTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,n){n.style.opacity=t})},externalDragStart:function(t,n){var i,r,s=this.view;s.opt("droppable")&&(i=e((n?n.item:null)||t.target),r=s.opt("dropAccept"),(e.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,t,n)))},listenToExternalDrag:function(e,t,n){var i,r=this,s=this.view.calendar,l=ke(e),u=new lt(this,{listenStart:function(){r.isDraggingExternal=!0},hitOver:function(e){i=r.computeExternalDrop(e.component.getHitSpan(e),l),i&&!s.isExternalSpanAllowed(r.eventToSpan(i),i,l.eventProps)&&(o(),i=null),i&&r.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){a(),r.unrenderDrag()},dragStop:function(){i&&r.view.reportExternalDrop(l,i,e,t,n)},listenStop:function(){r.isDraggingExternal=!1}});u.startDrag(t)},computeExternalDrop:function(e,t){var n=this.view.calendar,i={start:n.applyTimezone(e.start),end:null};return t.startTime&&!i.start.hasTime()&&i.start.time(t.startTime),t.duration&&(i.end=i.start.clone().add(t.duration)),i},renderDrag:function(e,t){},unrenderDrag:function(){},segResizeMousedown:function(e,t,n){var i,r=this,s=this.view,l=s.calendar,u=e.el,c=e.event,d=l.getEventEnd(c),h=new lt(this,{distance:5,scroll:s.opt("dragScroll"),subjectEl:u,dragStart:function(t){r.triggerSegMouseout(e,t),r.segResizeStart(e,t)},hitOver:function(t,a,u){var h=r.getHitSpan(u),p=r.getHitSpan(t);i=n?r.computeEventStartResize(h,p,c):r.computeEventEndResize(h,p,c),i&&(l.isEventSpanAllowed(r.eventToSpan(i),c)?i.start.isSame(c.start)&&i.end.isSame(d)&&(i=null):(o(),i=null)),i&&(s.hideEvent(c),r.renderEventResize(i,e))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),s.showEvent(c),a()},dragStop:function(t){r.segResizeStop(e,t),i&&s.reportEventResize(c,i,this.largeUnit,u,t)}});h.mousedown(t)},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,i){var r,s,o=this.view.calendar,a=this.diffDates(n[e],t[e]);return r={start:i.start.clone(),end:o.getEventEnd(i),allDay:i.allDay},r.allDay&&A(a)&&(r.allDay=!1,o.normalizeEventTimes(r)),r[e].add(a),r.start.isBefore(r.end)||(s=this.minResizeDuration||(i.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==e?r.start=r.end.clone().subtract(s):r.end=r.start.clone().add(s)),r},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var i=e.event,r=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return t&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getSegSkinCss:function(e){var t=e.event,n=this.view,i=t.source||{},r=t.color,s=i.color,o=n.opt("eventColor");return{"background-color":t.backgroundColor||r||i.backgroundColor||s||n.opt("eventBackgroundColor")||o,"border-color":t.borderColor||r||i.borderColor||s||n.opt("eventBorderColor")||o,color:t.textColor||i.textColor||n.opt("eventTextColor")}},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpan:function(e){return this.eventToSpans(e)[0]},eventToSpans:function(e){var t=this.eventToRange(e);return this.eventRangeToSpans(t,e)},eventsToSegs:function(t,n){var i=this,r=Te(t),s=[];return e.each(r,function(e,t){var r,o=[];for(r=0;r<t.length;r++)o.push(i.eventToRange(t[r]));if(_e(t[0]))for(o=i.invertRanges(o),r=0;r<o.length;r++)s.push.apply(s,i.eventRangeToSegs(o[r],t[0],n));else for(r=0;r<o.length;r++)s.push.apply(s,i.eventRangeToSegs(o[r],t[r],n))}),s},eventToRange:function(e){return{start:e.start.clone().stripZone(),end:(e.end?e.end.clone():this.view.calendar.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone()}},eventRangeToSegs:function(e,t,n){var i,r=this.eventRangeToSpans(e,t),s=[];for(i=0;i<r.length;i++)s.push.apply(s,this.eventSpanToSegs(r[i],t,n));return s},eventRangeToSpans:function(t,n){return[e.extend({},t)]},eventSpanToSegs:function(e,t,n){var i,r,s=n?n(e):this.spanToSegs(e);for(i=0;i<s.length;i++)r=s[i],r.event=t,r.eventStartMS=+e.start,r.eventDurationMS=e.end-e.start;return s},invertRanges:function(e){var t,n,i=this.view,r=i.start.clone(),s=i.end.clone(),o=[],a=r;for(e.sort(Ee),t=0;t<e.length;t++)n=e[t],n.start>a&&o.push({start:a,end:n.start}),a=n.end;return s>a&&o.push({start:a,end:s}),o},sortEventSegs:function(e){e.sort(ne(this,"compareEventSegs"))},compareEventSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||k(e.event,t.event,this.view.eventOrderSpecs)}}),qe.isBgEvent=xe,qe.dataAttrPrefix="";var dt=qe.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var e,t,n,i=this.view,r=this.start.clone(),s=-1,o=[],a=[];r.isBefore(this.end);)i.isHiddenDay(r)?o.push(s+.5):(s++,o.push(s),a.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(t=a[0].day(),e=1;e<a.length&&a[e].day()!=t;e++);n=Math.ceil(a.length/e)}else n=1,e=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=e,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(e,t){return this.dayDates[this.getCellDayIndex(e,t)].clone()},getCellRange:function(e,t){var n=this.getCellDate(e,t),i=n.clone().add(1,"days");return{start:n,end:i}},getCellDayIndex:function(e,t){return e*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(e){var t=this.dayIndices,n=e.diff(this.start,"days");return 0>n?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(e){var t,n,i,r,s,o=this.daysPerRow,a=this.view.computeDayRange(e),l=this.getDateDayIndex(a.start),u=this.getDateDayIndex(a.end.clone().subtract(1,"days")),c=[];for(t=0;t<this.rowCnt;t++)n=t*o,i=n+o-1,r=Math.max(l,n),s=Math.min(u,i),r=Math.ceil(r),s=Math.floor(s),s>=r&&c.push({row:t,firstRowDayIndex:r-n,lastRowDayIndex:s-n,isStart:r===l,isEnd:s===u});return c},sliceRangeByDay:function(e){var t,n,i,r,s,o,a=this.daysPerRow,l=this.view.computeDayRange(e),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)for(n=t*a,i=n+a-1,r=n;i>=r;r++)s=Math.max(u,r),o=Math.min(c,r),s=Math.ceil(s),o=Math.floor(o),o>=s&&d.push({row:t,firstRowDayIndex:s-n,lastRowDayIndex:o-n,isStart:s===u,isEnd:o===c});return d},renderHeadHtml:function(){var e=this.view;return'<div class="fc-row '+e.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,t,n=[];for(e=0;e<this.colCnt;e++)t=this.getCellDate(0,e),n.push(this.renderHeadDateCellHtml(t));return n.join("")},renderHeadDateCellHtml:function(e,t,n){var i=this.view;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Ge[e.day()]+'"'+(1==this.rowCnt?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(n?" "+n:"")+">"+Z(e.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(e){return this.renderIntroHtml()},renderBgCellsHtml:function(e){var t,n,i=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(e,t){var n=this.view,i=this.getDayClasses(e);return i.unshift("fc-day",n.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+e.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(e){var t=this.renderIntroHtml();t&&(this.isRTL?e.append(t):e.prepend(t))}},ht=qe.DayGrid=ct.extend(dt,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(e){var t,n,i=this.view,r=this.rowCnt,s=this.colCnt,o="";for(t=0;r>t;t++)o+=this.renderDayRowHtml(t,e);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new ot({els:this.rowEls,isVertical:!0}),this.colCoordCache=new ot({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;r>t;t++)for(n=0;s>n;n++)i.trigger("dayRender",null,this.getCellDate(t,n),this.getCellEl(t,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},renderDayRowHtml:function(e,t){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(e){return this.renderIntroHtml()},renderNumberCellsHtml:function(e){var t,n,i=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(e){var t;return this.view.dayNumbersVisible?(t=this.getDayClasses(e),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+e.format()+'">'+e.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(e){var t,n,i=this.sliceRangeByRow(e);for(t=0;t<i.length;t++)n=i[t],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(e,t){var n=this.colCoordCache.getHorizontalIndex(e),i=this.rowCoordCache.getVerticalIndex(t);return null!=i&&null!=n?this.getCellHit(i,n):void 0},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(e,t){return{row:e,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function(e,t){return this.cellEls.eq(e*this.colCnt+t)},renderDrag:function(e,t){return this.renderHighlight(this.eventToSpan(e)),t&&!t.el.closest(this.el).length?(this.renderEventLocationHelper(e,t),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var i,r=[],s=this.eventToSegs(t);s=this.renderFgSegEls(s),i=this.renderSegRows(s),this.rowEls.each(function(t,s){var o,a=e(s),l=e('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===t?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(i[t].tbodyEl),a.append(l),r.push(l[0])}),this.helperEls=e(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,i){var r,s,o,a=[];for(n=this.renderFillSegEls(t,n),r=0;r<n.length;r++)s=n[r],o=this.renderFillRow(t,s,i),this.rowEls.eq(s.row).append(o),a.push(o[0]);return this.elsByFill[t]=e(a),n},renderFillRow:function(t,n,i){var r,s,o=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||t.toLowerCase(),r=e('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),s=r.find("tr"),a>0&&s.append('<td colspan="'+a+'"/>'),s.append(n.el.attr("colspan",l-a)),o>l&&s.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(s),r}});ht.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ct.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ct.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return ct.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,i){e(i).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,i=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)i.push(this.renderSegRow(n,t[n]));return i},fgSegHtml:function(e,t){var n,i,r=this.view,s=e.event,o=r.isEventDraggable(s),a=!t&&s.allDay&&e.isStart&&r.isEventResizableFromStart(s),l=!t&&s.allDay&&e.isEnd&&r.isEventResizableFromEnd(s),u=this.getSegClasses(e,o,a||l),c=Q(this.getSegSkinCss(e)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(s),n&&(d='<span class="fc-time">'+Z(n)+"</span>")),i='<span class="fc-title">'+(Z(s.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(s.url?' href="'+Z(s.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){function i(t){for(;t>o;)c=(v[r-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=e("<td/>"),a.append(c)),m[r][o]=c,v[r][o]=c,o++}var r,s,o,a,l,u,c,d=this.colCnt,h=this.buildSegLevels(n),p=Math.max(1,h.length),f=e("<tbody/>"),g=[],m=[],v=[];for(r=0;p>r;r++){if(s=h[r],o=0,a=e("<tr/>"),g.push([]),m.push([]),v.push([]),s)for(l=0;l<s.length;l++){for(u=s[l],i(u.leftCol),c=e('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[r][o]=c;o<=u.rightCol;)m[r][o]=c,g[r][o]=u,o++;a.append(c);
}i(d),this.bookendCells(a),f.append(a)}return{row:t,tbodyEl:f,cellMatrix:m,segMatrix:g,segLevels:h,segs:n}},buildSegLevels:function(e){var t,n,i,r=[];for(this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&De(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(Re);return r},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),ht.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,i=this.rowStructs||[];for(t=0;t<i.length;t++)this.unlimitRow(t),n=e?"number"==typeof e?e:this.computeRowLevelLimit(t):!1,n!==!1&&this.limitRow(t,n)},computeRowLevelLimit:function(t){function n(t,n){s=Math.max(s,e(n).outerHeight())}var i,r,s,o=this.rowEls.eq(t),a=o.height(),l=this.rowStructs[t].tbodyEl.children();for(i=0;i<l.length;i++)if(r=l.eq(i).removeClass("fc-limited"),s=0,r.find("> td > :first-child").each(n),r.position().top+s>a)return i;return!1},limitRow:function(t,n){function i(i){for(;i>x;)u=b.getCellSegs(t,x,n),u.length&&(h=s[n-1][x],y=b.renderMoreLink(t,x,u),v=e("<div/>").append(y),h.append(v),S.push(v[0])),x++}var r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b=this,w=this.rowStructs[t],S=[],x=0;if(n&&n<w.segLevels.length){for(r=w.segLevels[n-1],s=w.cellMatrix,o=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<r.length;a++){for(l=r[a],i(l.leftCol),d=[],c=0;x<=l.rightCol;)u=this.getCellSegs(t,x,n),d.push(u),c+=u.length,x++;if(c){for(h=s[n-1][l.leftCol],p=h.attr("rowspan")||1,f=[],g=0;g<d.length;g++)m=e('<td class="fc-more-cell"/>').attr("rowspan",p),u=d[g],y=this.renderMoreLink(t,l.leftCol+g,[l].concat(u)),v=e("<div/>").append(y),m.append(v),f.push(m[0]),S.push(m[0]);h.addClass("fc-limited").after(e(f)),o.push(h[0])}}i(this.colCnt),w.moreEls=e(S),w.limitedEls=e(o)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n,i){var r=this,s=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(o){var a=s.opt("eventLimitClick"),l=r.getCellDate(t,n),u=e(this),c=r.getCellEl(t,n),d=r.getCellSegs(t,n),h=r.resliceDaySegs(d,l),p=r.resliceDaySegs(i,l);"function"==typeof a&&(a=s.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:u,segs:h,hiddenSegs:p},o)),"popover"===a?r.showSegPopover(t,n,u,h):"string"==typeof a&&s.calendar.zoomTo(l,a)})},showSegPopover:function(e,t,n,i){var r,s,o=this,a=this.view,l=n.parent();r=1==this.rowCnt?a.el:this.rowEls.eq(e),s={className:"fc-more-popover",content:this.renderSegPopoverContent(e,t,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?s.right=l.offset().left+l.outerWidth()+1:s.left=l.offset().left-1,this.segPopover=new st(s),this.segPopover.show()},renderSegPopoverContent:function(t,n,i){var r,s=this.view,o=s.opt("theme"),a=this.getCellDate(t,n).format(s.opt("dayPopoverFormat")),l=e('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+Z(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(t,n),this.releaseHits(),u.append(i[r].el);return l},resliceDaySegs:function(t,n){var i=e.map(t,function(e){return e.event}),r=n.clone(),s=r.clone().add(1,"days"),o={start:r,end:s};return t=this.eventsToSegs(i,function(e){var t=M(e,o);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t,n){for(var i,r=this.rowStructs[e].segMatrix,s=n||0,o=[];s<r.length;)i=r[s][t],i&&o.push(i),s++;return o}});var pt=qe.TimeGrid=ct.extend(dt,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ct.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new ot({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new ot({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,n,i,r=this.view,s=this.isRTL,o="",a=t.duration(+this.minTime);a<this.maxTime;)e=this.start.clone().time(a),n=te(N(a,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+Z(e.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(s?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(s?i:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var n,i=this.view,r=i.opt("slotDuration"),s=i.opt("snapDuration");r=t.duration(r),s=s?t.duration(s):r,this.slotDuration=r,this.snapDuration=s,this.snapsPerSlot=r/s,this.minResizeDuration=s,this.minTime=t.duration(i.opt("minTime")),this.maxTime=t.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("axisFormat")||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(e){var n,i,r;for(n=Rt.length-1;n>=0;n--)if(i=t.duration(Rt[n]),r=N(i,e),te(r)&&r>1)return i;return t.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(e,t){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache,s=i.getHorizontalIndex(e),o=r.getVerticalIndex(t);if(null!=s&&null!=o){var a=r.getTopOffset(o),l=r.getHeight(o),u=(t-a)/l,c=Math.floor(u*n),d=o*n+c,h=a+c/n*l,p=a+(c+1)/n*l;return{col:s,snap:d,component:this,left:i.getLeftOffset(s),right:i.getRightOffset(s),top:h,bottom:p}}},getHitSpan:function(e){var t,n=this.getCellDate(0,e.col),i=this.computeSnapTime(e.snap);return n.time(i),t=n.clone().add(this.snapDuration),{start:n,end:t}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},spanToSegs:function(e){var t,n=this.sliceRangeByTimes(e);for(t=0;t<n.length;t++)this.isRTL?n[t].col=this.daysPerRow-1-n[t].dayIndex:n[t].col=n[t].dayIndex;return n},sliceRangeByTimes:function(e){var t,n,i,r,s=[];for(n=0;n<this.daysPerRow;n++)i=this.dayDates[n].clone(),r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},t=M(e,r),t&&(t.dayIndex=n,s.push(t));return s},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,i=this.slatEls.length,r=(e-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),t=Math.floor(r),t=Math.min(t,i-1),n=r-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*n},renderDrag:function(e,t){if(t){this.renderEventLocationHelper(e,t);for(var n=0;n<this.helperSegs.length;n++)this.applyDragOpacity(this.helperSegs[n].el);return!0}this.renderHighlight(this.eventToSpan(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,t){this.renderHelperSegs(this.eventToSegs(e),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(),t=this.eventsToSegs(e);this.renderBusinessSegs(t)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var n,i=this.spanToSegs({start:t,end:t}),r=this.computeDateTop(t,t),s=[];for(n=0;n<i.length;n++)s.push(e('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&s.push(e('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=e(s)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});pt.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,n,i="";for(t=0;t<this.colCnt;t++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=e('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(e,t){var n,i,r;for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),n=0;n<e.length;n++)i=e[n],t&&t.col===i.col&&(r=t.el,i.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperSegs=e},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},attachSegsByCol:function(e,t){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=e[n],r=0;r<i.length;r++)t.eq(n).append(i[r].el)},unrenderNamedSegs:function(e){var t,n=this[e];if(n){for(t=0;t<n.length;t++)n[t].el.remove();this[e]=null}},renderFgSegsIntoContainers:function(e,t){var n,i;for(e=this.renderFgSegEls(e),n=this.groupSegsByCol(e),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,t),e},fgSegHtml:function(e,t){var n,i,r,s=this.view,o=e.event,a=s.isEventDraggable(o),l=!t&&e.isStart&&s.isEventResizableFromStart(o),u=!t&&e.isEnd&&s.isEventResizableFromEnd(o),c=this.getSegClasses(e,a,l||u),d=Q(this.getSegSkinCss(e));return c.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(o)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),i=this.getEventTimeText(e,"LT"),r=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(o),i=this.getEventTimeText(o,"LT"),r=this.getEventTimeText(o,null,!1)),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+Z(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+Z(r)+'" data-full="'+Z(i)+'"><span>'+Z(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+Z(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(e){var t,n,i;if(this.sortEventSegs(e),t=Me(e),He(t),n=t[0]){for(i=0;i<n.length;i++)je(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(e,t,n){var i,r=e.forwardSegs;if(void 0===e.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],t+1,n),e.forwardCoord=r[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,e.forwardCoord)},sortForwardSegs:function(e){e.sort(ne(this,"compareForwardSegs"))},compareForwardSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(e,t)},assignFgSegHorizontals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(e){var t,n,i=this.view.opt("slotEventOverlap"),r=e.backwardCoord,s=e.forwardCoord,o=this.generateSegVerticalCss(e);return i&&(s=Math.min(1,r+2*(s-r))),this.isRTL?(t=1-s,n=r):(t=r,n=1-s),o.zIndex=e.level+1,o.left=100*t+"%",o.right=100*n+"%",i&&e.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var ft=qe.View=ve.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,n,i,r){this.calendar=e,this.type=this.name=n,this.options=i,this.intervalDuration=r||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=E(this.opt("eventOrder")),this.documentMousedownProxy=ne(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,i=F(this.intervalDuration),r=e.clone().startOf(i),s=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),s.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),s.hasTime()||(s=this.calendar.time(0))),t=r.clone(),t=this.skipHiddenDays(t),n=s.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:s,start:t,end:n}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var i=e.end;return i.hasTime()||(i=i.clone().subtract(1)),he(e.start,i,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var n=this,i=null;return this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return n.displaying=e.when(n.displayView(t)).then(function(){n.forceScroll(n.computeInitialScroll(i)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var t=this,n=this.displaying;return n?n.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):e.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),e&&this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){e(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){e(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,n,i,r=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit(),e&&(n=ne(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,n(),i=+t.duration(1,e),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(n,i)},i)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.setScroll(t)},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},computeScrollerHeight:function(e){var t,n,i=this.scrollerEl;return t=this.el.add(i),t.css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),t.css({position:"",left:""}),e-n},computeInitialScroll:function(e){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(e){return this.scrollerEl?this.scrollerEl.scrollTop(e):void 0},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){var e;this.isEventsRendered&&(e=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(e),this.isEventsRendered=!1)},renderEvents:function(e){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var i=this.trigger("eventRender",t,t,n);return i===!1?n=null:i&&i!==!0&&(n=e(i)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)t&&i[n].event._id!==t._id||i[n].el&&e.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return X(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,i,r){var s=this.calendar,o=s.mutateEvent(e,t,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventDrop(e,o.dateDelta,a,i,r),s.reportEventChange()},triggerEventDrop:function(e,t,n,i,r){this.trigger("eventDrop",i[0],e,t,n,r,{})},reportExternalDrop:function(t,n,i,r,s){var o,a,l=t.eventProps;l&&(o=e.extend({},l,n),a=this.calendar.renderEvent(o,t.stick)[0]),this.triggerExternalDrop(a,n,i,r,s)},triggerExternalDrop:function(e,t,n,i,r){this.trigger("drop",n[0],t.start,i,r),e&&this.trigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return X(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,i,r){var s=this.calendar,o=s.mutateEvent(e,t,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventResize(e,o.durationDelta,a,i,r),s.reportEventChange()},triggerEventResize:function(e,t,n,i,r){this.trigger("eventResize",i[0],e,t,n,r,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},documentMousedown:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&S(t)&&(n=this.opt("unselectCancel"),n&&e(t.target).closest(n).length||this.unselect(t))},triggerDayClick:function(e,t,n){this.trigger("dayClick",t,this.calendar.applyTimezone(e.start),n)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],i=[],r=0;for(this.opt("weekends")===!1&&n.push(0,6),t=0;7>t;t++)(i[t]=-1!==e.inArray(t,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var i=e.clone();for(t=t||1;this.isHiddenDayHash[(i.day()+(n?t:0)+7)%7];)i.add(t,"days");return i},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),i=e.end,r=null;return i&&(r=i.clone().stripTime(),t=+i.time(),t&&t>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),gt=qe.Calendar=ve.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Ie,initialize:function(){},initOptions:function(e){var t,r,s,o;e=i(e),t=e.lang,r=mt[t],r||(t=gt.defaults.lang,r=mt[t]||{}),s=X(e.isRTL,r.isRTL,gt.defaults.isRTL),o=s?gt.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=r,this.overrides=e,this.options=n([gt.defaults,o,r,e]),Le(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var n,i,r;if(-1!=e.inArray(t,Ye))for(n=this.header.getViewsWithButtons(),e.each(qe.views,function(e){n.push(e)}),i=0;i<n.length;i++)if(r=this.getViewSpec(n[i]),r&&r.singleUnit==t)return r},buildViewSpec:function(e){for(var i,r,s,o,a=this.overrides.views||{},l=[],u=[],c=[],d=e;d;)i=Be[d],r=a[d],d=null,"function"==typeof i&&(i={"class":i}),i&&(l.unshift(i),u.unshift(i.defaults||{}),s=s||i.duration,d=d||i.type),r&&(c.unshift(r),s=s||r.duration,d=d||r.type);return i=B(l),i.type=e,i["class"]?(s&&(s=t.duration(s),s.valueOf()&&(i.duration=s,o=F(s),1===s.as(o)&&(i.singleUnit=o,c.unshift(a[o]||{})))),i.defaults=n(u),i.overrides=n(c),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,e),i):!1},buildViewSpecOptions:function(e){e.options=n([gt.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),Le(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var i=n.buttonText||{};return i[t]||(e.singleUnit?i[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(gt.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t["class"](this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(e,t){var n,i=this.moment(e).stripZone();return n=t?this.moment(t).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:n}}});gt.mixin(rt),gt.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},gt.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},gt.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var mt=qe.langs={};qe.datepickerLang=function(t,n,i){var r=mt[t]||(mt[t]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,e.each(vt,function(e,t){r[e]=t(i)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=i,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(i))},qe.lang=function(t,i){var r,s;r=mt[t]||(mt[t]={}),i&&(r=mt[t]=n([r,i])),s=Ne(t),e.each(yt,function(e,t){null==r[e]&&(r[e]=t(s,r))}),gt.defaults.lang=t};var vt={buttonText:function(e){return{prev:J(e.prevText),next:J(e.nextText),today:J(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},yt={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},bt={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};qe.lang("en",gt.englishDefaults),qe.sourceNormalizers=[],qe.sourceFetchers=[];var wt={dataType:"json",cache:!1},St=1;gt.prototype.getPeerEvents=function(e,t){var n,i,r=this.getEventCache(),s=[];for(n=0;n<r.length;n++)i=r[n],t&&t._id===i._id||s.push(i);return s};var xt=qe.BasicView=ft.extend({dayGridClass:ht,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){var e=this.dayGridClass.extend(_t);return new e(this)},setRange:function(e){ft.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=ft.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),
this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,i=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.removeSegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!t&&d(this.scrollerEl,n)&&(r(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(e),this.scrollerEl.height(n))},setGridHeight:function(e,t){t?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,e,!0)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(e,t){return this.dayGrid.queryHit(e,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),_t={renderHeadIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+Z(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(e){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"><span>"+this.getCellDate(e,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},Ct=qe.MonthView=xt.extend({computeRange:function(e){var t,n=xt.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){t=t||"variable"===this.opt("weekMode"),t&&(e*=this.rowCnt/6),l(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});Be.basic={"class":xt},Be.basicDay={type:"basic",duration:{days:1}},Be.basicWeek={type:"basic",duration:{weeks:1}},Be.month={"class":Ct,duration:{months:1},defaults:{fixedWeekCount:!0}};var Tt=qe.AgendaView=ft.extend({timeGridClass:pt,timeGrid:null,dayGridClass:ht,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function(){var e=this.timeGridClass.extend(Et);return new e(this)},instantiateDayGrid:function(){var e=this.dayGridClass.extend(kt);return new e(this)},setRange:function(e){ft.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),ft.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Dt),n&&this.dayGrid.limitRows(n)),t||(i=this.computeScrollerHeight(e),d(this.scrollerEl,i)?(r(this.noScrollRowEls,v(this.scrollerEl)),i=this.computeScrollerHeight(e),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return n=Math.ceil(n),n&&n++,n},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,t){var n=this.timeGrid.queryHit(e,t);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(e,t)),n},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(e){var t,n,i=[],r=[],s=[];for(n=0;n<e.length;n++)e[n].allDay?i.push(e[n]):r.push(e[n]);t=this.timeGrid.renderEvents(r),this.dayGrid&&(s=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Et={renderHeadIntroHtml:function(){var e,t=this.view;return t.opt("weekNumbers")?(e=this.start.format(t.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"><span>"+Z(e)+"</span></th>"):'<th class="fc-axis '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},kt={renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+(e.opt("allDayHtml")||Z(e.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Dt=5,Rt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Be.agenda={"class":Tt,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Be.agendaDay={type:"agenda",duration:{days:1}},Be.agendaWeek={type:"agenda",duration:{weeks:1}},qe}),/*!
 * FullCalendar v2.6.1 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(t,o,a,l,u){function c(n,i){var s=i||[{message:n}];(t.googleCalendarError||e.noop).apply(u,s),(u.options.googleCalendarError||e.noop).apply(u,s),r.warn.apply(null,[n].concat(i||[]))}var d,h,p=i+"/"+encodeURIComponent(t.googleCalendarId)+"/events?callback=?",f=t.googleCalendarApiKey||u.options.googleCalendarApiKey,g=t.success;return f?(o.hasZone()||(o=o.clone().utc().add(-1,"day")),a.hasZone()||(a=a.clone().utc().add(1,"day")),l&&"local"!=l&&(h=l.replace(" ","_")),d=e.extend({},t.data||{},{key:f,timeMin:o.format(),timeMax:a.format(),timeZone:h,singleEvents:!0,maxResults:9999}),e.extend({},t,{googleCalendarId:null,url:p,data:d,startParam:!1,endParam:!1,timezoneParam:!1,success:function(t){var i,r,o=[];if(t.error)c("Google Calendar API: "+t.error.message,t.error.errors);else if(t.items&&(e.each(t.items,function(e,t){var i=t.htmlLink;h&&(i=n(i,"ctz="+h)),o.push({id:t.id,title:t.summary,start:t.start.dateTime||t.start.date,end:t.end.dateTime||t.end.date,url:i,location:t.location,description:t.description})}),i=[o].concat(Array.prototype.slice.call(arguments,1)),r=s(g,this,i),e.isArray(r)))return r;return o}})):(c("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function n(e,t){return e.replace(/(\?.*?)?(#|$)/,function(e,n,i){return(n?n+"&":"?")+t+i})}var i="https://www.googleapis.com/calendar/v3/calendars",r=e.fullCalendar,s=r.applyAll;r.sourceNormalizers.push(function(e){var t,n=e.googleCalendarId,i=e.url;!n&&i&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(i)?n=i:((t=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(i))||(t=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(i)))&&(n=decodeURIComponent(t[1])),n&&(e.googleCalendarId=n)),n&&(null==e.editable&&(e.editable=!1),e.url=n)}),r.sourceFetchers.push(function(e,n,i,r){return e.googleCalendarId?t(e,n,i,r,this):void 0})}),!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){!function(){"use strict";var e=(t.defineLocale||t.lang).call(t,"ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,t,n){return 12>e?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return e}(),e.fullCalendar.datepickerLang("ja","ja",{closeText:"\u9589\u3058\u308b",prevText:"&#x3C;\u524d",nextText:"\u6b21&#x3E;",currentText:"\u4eca\u65e5",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],weekHeader:"\u9031",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"}),e.fullCalendar.lang("ja",{buttonText:{month:"\u6708",week:"\u9031",day:"\u65e5",list:"\u4e88\u5b9a\u30ea\u30b9\u30c8"},allDayText:"\u7d42\u65e5",eventLimitText:function(e){return"\u4ed6 "+e+" \u4ef6"}})}),/*!
FullCalendar Scheduler v1.2.1
Docs & License: http://fullcalendar.io/scheduler/
(c) 2015 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):e(jQuery,moment)}(function(e,t){var n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S,x,_,C,T,E,k,D,R,M,H,j,P,F,I,L,N,O,A,z,q,B,W,$,G,Y,V,U,X,Z,J,Q,K,ee,te,ne,ie,re,se,oe,ae,le,ue,ce,de,he,pe,fe,ge,me,ve,ye,be,we,Se,xe,_e,Ce,Te,Ee,ke,De,Re,Me,He,je,Pe,Fe,Ie,Le,Ne,Oe=[].slice,Ae=function(e,t){function n(){this.constructor=e}for(var i in t)ze.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},ze={}.hasOwnProperty;return d=e.fullCalendar,d.schedulerVersion="1.2.1",3!==d.internalApiVersion?void d.warn("v"+d.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+d.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(i=d.Calendar,s=d.Class,G=d.View,h=d.Grid,ge=d.intersectRanges,ee=d.debounce,ye=d.isInt,de=d.getScrollbarWidths,l=d.DragListener,fe=d.htmlEscape,X=d.computeIntervalUnit,Me=d.proxy,V=d.capitaliseFirstLetter,Y=d.applyAll,u=d.Emitter,se=d.durationHasTime,re=d.divideRangeByDuration,ie=d.divideDurationByDuration,Se=d.multiplyDuration,De=d.parseFieldSpecs,U=d.compareByFieldSpecs,oe=d.flexibleCompare,me=d.intersectRects,o=d.CoordCache,ae=function(e){return e.find("> td").filter(function(e,t){return t.rowSpan<=1})},je=null,xe=function(e,t){var n,i;if(n=e.css("direction"),i=e[0],null!=t){if("rtl"===n)switch(je){case"positive":t=t-i.clientWidth+i.scrollWidth;break;case"reverse":t=-t}return i.scrollLeft=t,e}if(t=i.scrollLeft,"rtl"===n)switch(je){case"positive":t=t+i.clientWidth-i.scrollWidth;break;case"reverse":t=-t}return t},ce=function(e){var t,n,i;if(t=e.css("direction"),n=e[0],i=n.scrollLeft,"rtl"===t)switch(je){case"negative":i=i-n.clientWidth+n.scrollWidth;break;case"reverse":i=-i-n.clientWidth+n.scrollWidth}return i},te=function(){var t,n,i;return t=e('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),n=t[0],i=n.scrollLeft>0?"positive":(n.scrollLeft=1,t.scrollLeft>0?"reverse":"negative"),t.remove(),i},e(function(){return je=te()}),A=function(){function t(t,n){this.overflowX=null!=t?t:"auto",this.overflowY=null!=n?n:"auto",this.el=e('<div class="fc-scrollpane"> <div> <div class="fc-scrollpane-inner"> <div class="fc-content"/> <div class="fc-bg"/> </div> </div> </div>'),this.scrollEl=this.el.children(),this.innerEl=this.scrollEl.children(),this.contentEl=this.innerEl.find(".fc-content"),this.bgEl=this.innerEl.find(".fc-bg"),this.scrollEl.on("scroll",Me(this,"handleScroll")).on("scroll",ee(Me(this,"handleScrollStop"),100)),this.handlers={},this.gutters={}}return t.prototype.el=null,t.prototype.innerEl=null,t.prototype.contentEl=null,t.prototype.bgEl=null,t.prototype.overflowX=null,t.prototype.overflowY=null,t.prototype.isScrolling=!1,t.prototype.handlers=null,t.prototype.height=null,t.prototype.contentWidth=null,t.prototype.contentMinWidth=null,t.prototype.gutters=null,t.prototype.update=function(){var e,t,n,i,r,s,o;return s=this.scrollEl,i=this.overflowX,r=this.overflowY,t="invisible-scroll"===i,n="invisible-scroll"===r,s.toggleClass("fc-no-scrollbars",(t||"hidden"===i)&&(n||"hidden"===r)&&!pe(s)),s.css({overflowX:t?"scroll":i,overflowY:n?"scroll":r}),e={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},(t||n)&&(o=de(s),t&&(e.marginTop=-o.top,e.marginBottom=-o.bottom),n&&(e.marginLeft=-o.left,e.marginRight=-o.right)),s.css(e)},t.prototype.getScrollbarWidths=function(){var e;return e=de(this.scrollEl),"invisible-scroll"===this.overflowX&&(e.top=0,e.bottom=0),"invisible-scroll"===this.overflowY&&(e.left=0,e.right=0),e},t.prototype.handleScroll=function(){return this.isScrolling||(this.isScrolling=!0,this.trigger("scrollStart")),this.trigger("scroll",this.scrollEl.scrollTop(),this.scrollEl.scrollLeft())},t.prototype.handleScrollStop=function(){return this.isScrolling=!1,this.trigger("scrollStop")},t.prototype.setHeight=function(e){return this.height=e,this.updateCss()},t.prototype.getHeight=function(){var e;return null!=(e=this.height)?e:this.scrollEl.height()},t.prototype.setContentWidth=function(e){return this.contentWidth=e,this.updateCss()},t.prototype.setContentMinWidth=function(e){return this.contentMinWidth=e,this.updateCss()},t.prototype.setGutters=function(t){return t?e.extend(this.gutters,t):this.gutters={},this.updateCss()},t.prototype.updateCss=function(){var e;return this.scrollEl.height(this.height),e=this.gutters,this.innerEl.css({width:this.contentWidth?this.contentWidth+(e.left||0)+(e.right||0):"",minWidth:this.contentMinWidth?this.contentMinWidth+(e.left||0)+(e.right||0):void 0,paddingLeft:e.left||"",paddingRight:e.right||"",paddingTop:e.top||"",paddingBottom:e.bottom||""}),this.bgEl.css({left:e.left||"",right:e.right||"",top:e.top||"",bottom:e.bottom||""})},t.prototype.append=function(e){return this.contentEl.append(e)},t.prototype.scrollTop=function(e){return this.scrollEl.scrollTop(e)},t.prototype.scrollLeft=function(e){return this.scrollEl.scrollLeft(e)},t.prototype.on=function(e,t){var n;return((n=this.handlers)[e]||(n[e]=[])).push(t),this},t.prototype.trigger=function(){var e,t,n,i,r,s;for(n=arguments[0],e=2<=arguments.length?Oe.call(arguments,1):[],s=this.handlers[n]||[],i=0,r=s.length;r>i;i++)t=s[i],t.apply(this,e)},t}(),pe=function(e){var t;return t=de(e),t.left||t.right||t.top||t.bottom},O=function(){function e(e,t){var n,i,r,s;for(this.axis=e,this.scrollers=t,r=this.scrollers,n=0,i=r.length;i>n;n++)s=r[n],this.initScroller(s)}return e.prototype.axis=null,e.prototype.scrollers=null,e.prototype.masterScroller=null,e.prototype.enabled=!0,e.prototype.enable=function(){return this.enabled=!0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.initScroller=function(e){return e.on("scrollStart",function(t){return function(){t.masterScroller||(t.masterScroller=e)}}(this)).on("scroll",function(t){return function(n,i){var r,s,o,a;if(e===t.masterScroller)for(a=t.scrollers,r=0,s=a.length;s>r;r++)if(o=a[r],o!==t.masterScroller)switch(t.axis){case"horizontal":o.scrollLeft(i);break;case"vertical":o.scrollTop(n)}}}(this)).on("scrollStop",function(t){return function(){e===t.masterScroller&&(t.masterScroller=null)}}(this))},e.prototype.update=function(){var e,t,n,i,r,s,o,a,l,u,c,d,h;for(e=function(){var e,t,n,i;for(n=this.scrollers,i=[],e=0,t=n.length;t>e;e++)d=n[e],i.push(d.getScrollbarWidths());return i}.call(this),a=l=u=o=0,n=0,r=e.length;r>n;n++)h=e[n],a=Math.max(a,h.left),l=Math.max(l,h.right),u=Math.max(u,h.top),o=Math.max(o,h.bottom);for(c=this.scrollers,t=i=0,s=c.length;s>i;t=++i)d=c[t],h=e[t],d.setGutters("horizontal"===this.axis?{left:a-h.left,right:l-h.right}:{top:u-h.top,bottom:o-h.bottom})},e}(),L=function(){function t(e){this.scroller=e,this.sprites=[],this.scroller.on("scrollStart",function(e){return function(){return e.shouldRequeryDimensions?e.cacheDimensions():void 0}}(this)),this.scroller.on("scroll",function(e){return function(t,n){var i,r,s;return r=e.scroller.scrollEl,i=ce(r),s=r.scrollTop(),e.viewportRect={left:i,right:i+r[0].clientWidth,top:s,bottom:s+r[0].clientHeight},e.updatePositions()}}(this))}return t.prototype.scroller=null,t.prototype.scrollbarWidths=null,t.prototype.sprites=null,t.prototype.viewportRect=null,t.prototype.contentOffset=null,t.prototype.isHFollowing=!0,t.prototype.isVFollowing=!1,t.prototype.containOnNaturalLeft=!1,t.prototype.containOnNaturalRight=!1,t.prototype.shouldRequeryDimensions=!1,t.prototype.minTravel=0,t.prototype.isForcedAbsolute=!1,t.prototype.isForcedRelative=!1,t.prototype.setSprites=function(t){var n,i,r;if(this.clearSprites(),t instanceof e)return this.sprites=function(){var n,i,s;for(s=[],n=0,i=t.length;i>n;n++)r=t[n],s.push(new N(e(r),this));return s}.call(this);for(n=0,i=t.length;i>n;n++)r=t[n],r.follower=this;return this.sprites=t},t.prototype.clearSprites=function(){var e,t,n,i;for(n=this.sprites,e=0,t=n.length;t>e;e++)i=n[e],i.clear();return this.sprites=[]},t.prototype.cacheDimensions=function(){var e,t,n,i,r,s,o;for(r=this.scroller.scrollEl,t=ce(r),o=r.scrollTop(),this.viewportRect={left:t,right:t+r[0].clientWidth,top:o,bottom:o+r[0].clientHeight},this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.innerEl.offset(),i=this.sprites,e=0,n=i.length;n>e;e++)s=i[e],s.cacheDimensions()},t.prototype.forceAbsolute=function(){var e,t,n,i,r;for(this.isForcedAbsolute=!0,n=this.sprites,i=[],e=0,t=n.length;t>e;e++)r=n[e],i.push(r.doAbsolute?void 0:r.assignPosition());return i},t.prototype.forceRelative=function(){var e,t,n,i,r;for(this.isForcedRelative=!0,n=this.sprites,i=[],e=0,t=n.length;t>e;e++)r=n[e],i.push(r.doAbsolute?r.assignPosition():void 0);return i},t.prototype.clearForce=function(){var e,t,n,i,r;for(this.isForcedRelative=!1,this.isForcedAbsolute=!1,n=this.sprites,i=[],e=0,t=n.length;t>e;e++)r=n[e],i.push(r.assignPosition());return i},t.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},t.prototype.updatePositions=function(){var e,t,n,i;for(n=this.sprites,e=0,t=n.length;t>e;e++)i=n[e],i.updatePosition()},t.prototype.getContentRect=function(e){var t,n,i;return n=e.offset(),t=n.left+parseFloat(e.css("border-left-width"))+parseFloat(e.css("padding-left"))-this.contentOffset.left,i=n.top+parseFloat(e.css("border-left-width"))+parseFloat(e.css("padding-left"))-this.contentOffset.top,{left:t,right:t+e.width(),top:i,bottom:i+e.height()}},t.prototype.getBoundingRect=function(e){var t,n,i;return n=e.offset(),t=n.left-this.contentOffset.left,i=n.top-this.contentOffset.top,{left:t,right:t+e.outerWidth(),top:i,bottom:i+e.outerHeight()}},t}(),N=function(){function e(e,t){this.el=e,this.follower=null!=t?t:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return e.prototype.follower=null,e.prototype.el=null,e.prototype.absoluteEl=null,e.prototype.naturalRect=null,e.prototype.parentRect=null,e.prototype.containerRect=null,e.prototype.isEnabled=!0,e.prototype.isHFollowing=!1,e.prototype.isVFollowing=!1,e.prototype.doAbsolute=!1,e.prototype.isAbsolute=!1,e.prototype.isCentered=!1,e.prototype.rect=null,e.prototype.isBlock=!1,e.prototype.naturalWidth=null,e.prototype.disable=function(){return this.isEnabled?(this.isEnabled=!1,this.resetPosition(),this.unabsolutize()):void 0},e.prototype.enable=function(){return this.isEnabled?void 0:(this.isEnabled=!0,this.assignPosition())},e.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},e.prototype.cacheDimensions=function(){var e,t,n,i,r,s,o,a;return i=!1,r=!1,n=!1,this.naturalWidth=this.el.width(),this.resetPosition(),t=this.follower,o=this.naturalRect=t.getBoundingRect(this.el),a=this.el.parent(),this.parentRect=t.getBoundingRect(a),e=this.containerRect=we(t.getContentRect(a),o),s=t.minTravel,t.containOnNaturalLeft&&(e.left=o.left),t.containOnNaturalRight&&(e.right=o.right),t.isHFollowing&&ue(e)-ue(o)>=s&&(n="center"===this.el.css("text-align"),i=!0),t.isVFollowing&&le(e)-le(o)>=s&&(r=!0),this.isHFollowing=i,this.isVFollowing=r,this.isCentered=n},e.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},e.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},e.prototype.computePosition=function(){var e,t,n,i,r,s,o,a;return o=this.follower.viewportRect,n=this.parentRect,e=this.containerRect,a=me(o,n),i=null,t=!1,a&&(i=Q(this.naturalRect),s=me(i,n),(this.isCentered&&!Pe(o,n)||s&&!Pe(o,s))&&(t=!0,this.isHFollowing&&(this.isCentered?(r=ue(i),i.left=(a.left+a.right)/2-r/2,i.right=i.left+r):he(i,o)||(t=!1),he(i,e)&&(t=!1)),this.isVFollowing&&(Ne(i,o)||(t=!1),Ne(i,e)&&(t=!1)),Pe(o,i)||(t=!1))),this.rect=i,this.doAbsolute=t},e.prototype.assignPosition=function(){var e,t;return this.isEnabled?this.rect?!this.doAbsolute&&!this.follower.isForcedAbsolute||this.follower.isForcedRelative?(t=this.rect.top-this.naturalRect.top,e=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(t||e)).css({top:t,left:e})):(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):this.unabsolutize():void 0},e.prototype.absolutize=function(){return this.isAbsolute?void 0:(this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0)},e.prototype.unabsolutize=function(){return this.isAbsolute?(this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1):void 0},e.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},e}(),Q=function(e){return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}},ue=function(e){return e.right-e.left},le=function(e){return e.bottom-e.top},Pe=function(e,t){return Fe(e,t)&&Ie(e,t)},Fe=function(e,t){return t.left>=e.left&&t.right<=e.right},Ie=function(e,t){return t.top>=e.top&&t.bottom<=e.bottom},he=function(e,t){return e.left<t.left?(e.right=t.left+ue(e),e.left=t.left,!0):e.right>t.right?(e.left=t.right-ue(e),e.right=t.right,!0):!1},Ne=function(e,t){return e.top<t.top?(e.bottom=t.top+le(e),e.top=t.top,!0):e.bottom>t.bottom?(e.top=t.bottom-le(e),e.bottom=t.bottom,!0):!1},we=function(e,t){return{left:Math.min(e.left,t.left),right:Math.max(e.right,t.right),top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom)}},r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.prototype.resourceManager=null,n.prototype.initialize=function(){return this.resourceManager=new E(this)},n.prototype.instantiateView=function(e){var t,n;return t=this.getViewSpec(e),n=t["class"],this.options.resources&&t.options.resources!==!1&&(t.queryResourceClass?n=t.queryResourceClass(t)||n:t.resourceClass&&(n=t.resourceClass)),new n(this,e,t.options,t.duration)},n.prototype.getResources=function(){return this.resourceManager.topLevelResources},n.prototype.addResource=function(e,t){var n;null==t&&(t=!1),n=this.resourceManager.addResource(e),t&&this.view.scrollToResource&&n.done(function(e){return function(t){return e.view.scrollToResource(t)}}(this))},n.prototype.removeResource=function(e){return this.resourceManager.removeResource(e)},n.prototype.refetchResources=function(){this.resourceManager.fetchResources()},n.prototype.rerenderResources=function(){this.resourceManager.resetResources()},n.prototype.getPeerEvents=function(e,t){var i,r,s,o,a,l,u,c,d,h,p,f,g,m;for(f=n.__super__.getPeerEvents.apply(this,arguments),h=e.resourceId?[e.resourceId]:t?this.getEventResourceIds(t):[],i=[],s=0,l=f.length;l>s;s++){if(p=f[s],r=!1,m=this.getEventResourceIds(p),m.length&&h.length){for(o=0,u=m.length;u>o;o++)for(g=m[o],a=0,c=h.length;c>a;a++)if(d=h[a],d===g){r=!0;break}}else r=!0;r&&i.push(p)}return i},n.prototype.buildSelectSpan=function(e,t,i){var r;return r=n.__super__.buildSelectSpan.apply(this,arguments),i&&(r.resourceId=i),r},n.prototype.getResourceById=function(e){return this.resourceManager.getResourceById(e)},n.prototype.getEventResourceId=function(e){return this.getEventResourceIds(e)[0]},n.prototype.getEventResourceIds=function(e){var t,n,i,r,s,o,a,l;if(l=String(null!=(s=null!=(o=e[this.getEventResourceField()])?o:e.resourceId)?s:""))return[l];if(e.resourceIds){for(r=[],a=e.resourceIds,t=0,n=a.length;n>t;t++)l=a[t],i=String(null!=l?l:""),i&&r.push(i);return r}return[]},n.prototype.setEventResourceId=function(e,t){return e[this.getEventResourceField()]=String(null!=t?t:"")},n.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},n.prototype.getResourceEvents=function(t){var n;return n="object"==typeof t?t:this.getResourceById(t),n?this.clientEvents(function(t){return function(i){return-1!==e.inArray(n.id,t.getEventResourceIds(i))}}(this)):[]},n.prototype.getEventResource=function(e){return this.getEventResources(e)[0]},n.prototype.getEventResources=function(e){var t,n,i,r,s,o,a;if(t="object"==typeof e?e:this.clientEvents(e)[0],a=[],t)for(r=this.getEventResourceIds(t),n=0,i=r.length;i>n;n++)o=r[n],s=this.getResourceById(o),s&&a.push(s);return a},n}(i),i.prototype=r.prototype,Ce=G.prototype.displayView,Ee=G.prototype.renderSkeleton,ke=G.prototype.unrenderSkeleton,_e=G.prototype.displayEvents,G.prototype.isResourcesBound=!1,G.prototype.settingResources=null,G.prototype.displayView=function(){return Ce.apply(this,arguments),Re(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},G.prototype.unrenderSkeleton=function(){return ke.apply(this,arguments),this.unbindResources()},G.prototype.displayEvents=function(e){return this.whenResources(function(t){return function(){return _e.call(t,e)}}(this))},G.prototype.bindResources=function(){var t;return this.isResourcesBound?void 0:(this.isResourcesBound=!0,this.settingResources=e.Deferred(),t=function(e){return function(t){return e.setResources(t),e.settingResources.resolve()}}(this),this.calendar.resourceManager.on("set",this._setResources=t).on("unset",this._unsetResources=Me(this,"unsetResources")).on("reset",this._resetResources=Me(this,"resetResources")).on("add",this._addResource=Me(this,"addResource")).on("remove",this._removeResource=Me(this,"removeResource")),this.calendar.resourceManager.hasFetched()?t(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources())},G.prototype.unbindResources=function(){return this.isResourcesBound?(this.calendar.resourceManager.off("set",this._setResources).off("unset",this._unsetResources).off("reset",this._resetResources).off("add",this._addResource).off("remove",this._removeResource),"resolved"===this.settingResources.state()&&this.unsetResources(),this.settingResources=null,this.isResourcesBound=!1):void 0},G.prototype.whenResources=function(t){return"resolved"===this.settingResources.state()?e.when(t?t():void 0):t?this.settingResources.then(t):this.settingResources.promise()},G.prototype.setResources=function(e){},G.prototype.unsetResources=function(){},G.prototype.resetResources=function(e){return this.calendar.rerenderEvents()},G.prototype.addResource=function(e){return this.resetResources(this.calendar.resourceManager.topLevelResources)},G.prototype.removeResource=function(e){return this.resetResources(this.calendar.resourceManager.topLevelResources)},Te=h.prototype.getSegClasses,h.prototype.getSegClasses=function(e){var t,n,i,r,s;for(t=Te.apply(this,arguments),r=this.getSegResources(e),n=0,i=r.length;i>n;n++)s=r[n],t=t.concat(s.eventClassName||[]);return t},h.prototype.getSegSkinCss=function(e){var t,n,i,r,s,o,a,l,u,c;return c=this.view,t=e.event,l=t.source||{},n=t.color,u=l.color,o=c.opt("eventColor"),a=this.getSegResources(e),i=function(){var e,t,n,i;for(i=null,t=0,n=a.length;n>t;t++)for(e=a[t];e&&!i;)i=e.eventBackgroundColor||e.eventColor,e=e._parent;return i},r=function(){var e,t,n,i;for(i=null,t=0,n=a.length;n>t;t++)for(e=a[t];e&&!i;)i=e.eventBorderColor||e.eventColor,e=e._parent;return i},s=function(){var e,t,n,i;for(i=null,t=0,n=a.length;n>t;t++)for(e=a[t];e&&!i;)i=e.eventTextColor,e=e._parent;return i},{"background-color":t.backgroundColor||n||i()||l.backgroundColor||u||c.opt("eventBackgroundColor")||o,"border-color":t.borderColor||n||r()||l.borderColor||u||c.opt("eventBorderColor")||o,color:t.textColor||s()||l.textColor||c.opt("eventTextColor")}},h.prototype.getSegResources=function(e){return e.resource?[e.resource]:this.view.calendar.getEventResources(e.event)},E=function(t){function n(e){this.calendar=e,this.initializeCache()}return Ae(n,t),n.mixin(u),n.resourceGuid=1,n.ajaxDefaults={dataType:"json",cache:!1},n.prototype.calendar=null,n.prototype.topLevelResources=null,n.prototype.resourcesById=null,n.prototype.fetching=null,n.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},n.prototype.getResources=function(){var t;return this.fetching?e.Deferred().resolve(this.topLevelResources).promise():(t=e.Deferred(),this.fetchResources().done(function(e){return t.resolve(e)}).fail(function(){return t.resolve([])}),t)},n.prototype.fetchResources=function(){var t;return t=this.fetching,e.when(t).then(function(e){return function(){return e.fetching=e.fetchResourceInputs().then(function(n){return e.setResources(n,Boolean(t)),e.topLevelResources})}}(this))},n.prototype.fetchResourceInputs=function(){var t,i,r;switch(t=e.Deferred(),r=this.calendar.options.resources,"string"===e.type(r)&&(r={url:r}),e.type(r)){case"function":r(function(e){return function(e){return t.resolve(e)}}(this));break;case"object":i=e.ajax(e.extend({},n.ajaxDefaults,r));break;case"array":t.resolve(r);break;default:t.resolve([])}return i||(i=t.promise()),"pending"===!i.state()&&(this.calendar.pushLoading(),i.always(function(){return this.calendar.popLoading()})),i},n.prototype.resetResources=function(){return this.getResources().then(function(e){return function(){return e.trigger("reset",e.topLevelResources)}}(this))},n.prototype.getResourceById=function(e){return this.resourcesById[e]},n.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},n.prototype.setResources=function(e,t){var n,i,r,s,o,a;for(this.initializeCache(),o=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)s=e[t],i.push(this.buildResource(s));return i}.call(this),a=function(){var e,t,n;for(n=[],e=0,t=o.length;t>e;e++)r=o[e],this.addResourceToIndex(r)&&n.push(r);return n}.call(this),n=0,i=a.length;i>n;n++)r=a[n],this.addResourceToTree(r);return t?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},n.prototype.addResource=function(t){return e.when(this.fetching).then(function(e){return function(){var n;return n=e.buildResource(t),e.addResourceToIndex(n)?(e.addResourceToTree(n),e.trigger("add",n),n):!1}}(this))},n.prototype.addResourceToIndex=function(e){var t,n,i,r;if(this.resourcesById[e.id])return!1;for(this.resourcesById[e.id]=e,r=e.children,n=0,i=r.length;i>n;n++)t=r[n],this.addResourceToIndex(t);return!0},n.prototype.addResourceToTree=function(e){var t,n,i,r;if(!e.parent){if(n=String(null!=(i=e.parentId)?i:"")){if(t=this.resourcesById[n],!t)return!1;e.parent=t,r=t.children}else r=this.topLevelResources;r.push(e)}return!0},n.prototype.removeResource=function(t){var n;return n="object"==typeof t?t.id:t,e.when(this.fetching).then(function(e){return function(){var t;return t=e.removeResourceFromIndex(n),t&&(e.removeResourceFromTree(t),e.trigger("remove",t)),t}}(this))},n.prototype.removeResourceFromIndex=function(e){var t,n,i,r,s;if(s=this.resourcesById[e]){for(delete this.resourcesById[e],r=s.children,n=0,i=r.length;i>n;n++)t=r[n],this.removeResourceFromIndex(t.id);return s}return!1},n.prototype.removeResourceFromTree=function(e,t){var n,i,r,s;for(null==t&&(t=this.topLevelResources),n=i=0,r=t.length;r>i;n=++i){if(s=t[n],s===e)return e.parent=null,t.splice(n,1),!0;if(this.removeResourceFromTree(e,s.children))return!0}return!1},n.prototype.buildResource=function(t){var i,r,s,o,a;return a=e.extend({},t),a.id=String(null!=(o=t.id)?o:"_fc"+n.resourceGuid++),s=t.eventClassName,a.eventClassName=function(){switch(e.type(s)){case"string":return s.split(/\s+/);case"array":return s;default:return[]}}(),a.children=function(){var e,n,s,o,l;for(o=null!=(s=t.children)?s:[],l=[],e=0,n=o.length;n>e;e++)r=o[e],i=this.buildResource(r),i.parent=a,l.push(i);return l}.call(this),a},n}(s),j=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.prototype.resourceTextFunc=null,n.prototype.unsetResources=function(){return this.clearEvents()},n.prototype.resetResources=function(e){var t;return t=this.queryScroll(),this.unsetResources(),this.setResources(e),this.setScroll(t),this.calendar.rerenderEvents()},n.prototype.getResourceText=function(e){return this.getResourceTextFunc()(e)},n.prototype.getResourceTextFunc=function(){var e;return this.resourceTextFunc?this.resourceTextFunc:(e=this.opt("resourceText"),"function"!=typeof e&&(e=function(e){return e.title||e.id}),this.resourceTextFunc=e)},n.prototype.triggerDayClick=function(e,t,n){var i;return i=this.calendar.resourceManager,this.trigger("dayClick",t,this.calendar.applyTimezone(e.start),n,this,i.getResourceById(e.resourceId))},n.prototype.triggerSelect=function(e,t){var n;return n=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t,this,n.getResourceById(e.resourceId))},n.prototype.triggerExternalDrop=function(e,t,n,i,r){return this.trigger("drop",n[0],t.start,i,r,t.resourceId),e?this.trigger("eventReceive",null,e):void 0},n.prototype.reportEventDrop=function(){var e,t,i;return t=arguments[0],e=arguments[1],i=3<=arguments.length?Oe.call(arguments,2):[],e=this.normalizeDropLocation(e),e.resourceId&&t.resourceIds&&(e.resourceIds=null),n.__super__.reportEventDrop.apply(this,[t,e].concat(Oe.call(i)))},n.prototype.reportExternalDrop=function(){var e,t,i;return t=arguments[0],e=arguments[1],i=3<=arguments.length?Oe.call(arguments,2):[],e=this.normalizeDropLocation(e),n.__super__.reportExternalDrop.apply(this,[t,e].concat(Oe.call(i)))},n.prototype.normalizeDropLocation=function(t){var n;return n=e.extend({},t),delete n.resourceId,this.calendar.setEventResourceId(n,t.resourceId),n},n}(G),T=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.prototype.allowCrossResource=!0,n.prototype.eventRangeToSpans=function(t,i){var r,s,o,a,l;if(a=this.view.calendar.getEventResourceIds(i),a.length){for(l=[],r=0,s=a.length;s>r;r++)o=a[r],l.push(e.extend({},t,{resourceId:o}));return l}return d.isBgEvent(i)?n.__super__.eventRangeToSpans.apply(this,arguments):[]},n.prototype.fabricateHelperEvent=function(e,t){var i;return i=n.__super__.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(i,e.resourceId),i},n.prototype.computeEventDrop=function(e,t,i){var r,s;return r=!0,r||e.resourceId===t.resourceId?(s=n.__super__.computeEventDrop.apply(this,arguments),s&&(s.resourceId=t.resourceId),s):null},n.prototype.computeExternalDrop=function(e,t){var i;return i=n.__super__.computeExternalDrop.apply(this,arguments),i&&(i.resourceId=e.resourceId),i},n.prototype.computeEventResize=function(e,t,i,r){var s;return this.allowCrossResource||t.resourceId===i.resourceId?(s=n.__super__.computeEventResize.apply(this,arguments),s&&(s.resourceId=t.resourceId),s):void 0},n.prototype.computeSelectionSpan=function(e,t){var i;return this.allowCrossResource||e.resourceId===t.resourceId?(i=n.__super__.computeSelectionSpan.apply(this,arguments),i&&(i.resourceId=e.resourceId),i):void 0},n}(h),C={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(e){return this.flattenedResources=this.flattenResources(e),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(e){var t,n,i,r;return n=this.view.opt("resourceOrder"),n?(t=De(n),r=function(e,n){return U(e,n,t)}):r=null,i=[],this.accumulateResources(e,r,i),i},accumulateResources:function(e,t,n){var i,r,s,o,a;for(t?(a=e.slice(0),a.sort(t)):a=e,o=[],i=0,r=a.length;r>i;i++)s=a[i],n.push(s),o.push(this.accumulateResources(s.children,t,n));return o},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),d.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(e){return this.isRTL&&(e=this.colCnt-1-e),this.datesAboveResources?Math.floor(e/(this.resourceCnt||1)):e%this.daysPerRow},getColResource:function(e){return this.flattenedResources[this.getColResourceIndex(e)]},getColResourceIndex:function(e){return this.isRTL&&(e=this.colCnt-1-e),this.datesAboveResources?e%(this.resourceCnt||1):Math.floor(e/this.daysPerRow)},indicesToCol:function(e,t){var n;return n=this.datesAboveResources?t*(this.resourceCnt||1)+e:e*this.daysPerRow+t,this.isRTL&&(n=this.colCnt-1-n),n},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():d.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var e,t,n,i,r;for(r=[],n=this.flattenedResources,e=0,t=n.length;t>e;e++)i=n[e],r.push(this.renderHeadResourceCellHtml(i));return this.wrapTr(r,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var e,t,n,i,r,s,o,a,l,u;for(u=[],t=[],o=this.flattenedResources,i=0,s=o.length;s>i;i++)for(l=o[i],u.push(this.renderHeadResourceCellHtml(l,null,this.daysPerRow)),n=r=0,a=this.daysPerRow;a>r;n=r+=1)e=this.dayDates[n].clone(),t.push(this.renderHeadResourceDateCellHtml(e,l));return this.wrapTr(u,"renderHeadIntroHtml")+this.wrapTr(t,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var e,t,n,i,r,s,o,a,l,u;for(t=[],u=[],n=i=0,o=this.daysPerRow;o>i;n=i+=1)for(e=this.dayDates[n].clone(),t.push(this.renderHeadDateCellHtml(e,this.resourceCnt)),a=this.flattenedResources,r=0,s=a.length;s>r;r++)l=a[r],u.push(this.renderHeadResourceCellHtml(l,e));return this.wrapTr(t,"renderHeadIntroHtml")+this.wrapTr(u,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(e,t,n){return'<th class="fc-resource-cell" data-resource-id="'+e.id+'"'+(t?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(n>1?' colspan="'+n+'"':"")+">"+fe(this.view.getResourceText(e))+"</th>"},renderHeadResourceDateCellHtml:function(e,t,n){return this.renderHeadDateCellHtml(e,n,'data-resource-id="'+t.id+'"')},processHeadResourceEls:function(t){return t.find(".fc-resource-cell").each(function(t){return function(n,i){var r;return r=t.datesAboveResources?t.getColResource(n):t.flattenedResources[t.isRTL?t.flattenedResources.length-1-n:n],t.view.trigger("resourceRender",r,r,e(i),e())}}(this))},renderBgCellsHtml:function(e){var t,n,i,r,s,o;if(this.resourceCnt){for(i=[],t=r=0,s=this.colCnt;s>r;t=r+=1)n=this.getCellDate(e,t),o=this.getColResource(t),i.push(this.renderResourceBgCellHtml(n,o));return i.join("")}return d.DayTableMixin.renderBgCellsHtml.call(this,e)},renderResourceBgCellHtml:function(e,t){return this.renderBgCellHtml(e,'data-resource-id="'+t.id+'"')},wrapTr:function(e,t){return this.isRTL?(e.reverse(),"<tr>"+e.join("")+this[t]()+"</tr>"):"<tr>"+this[t]()+e.join("")+"</tr>"}},_=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.mixin(T),n.mixin(C),n.prototype.getHitSpan=function(e){var t;return t=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(t.resourceId=this.getColResource(e.col).id),t},n.prototype.spanToSegs=function(t){var n,i,r,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,i=this.datesAboveResources?this.sliceRangeByDay(t):this.sliceRangeByRow(t),c){for(p=[],s=0,l=i.length;l>s;s++)for(f=i[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],t.resourceId&&t.resourceId!==h.id||(n=e.extend({},f),n.resource=h,this.isRTL?(n.leftCol=this.indicesToCol(d,f.lastRowDayIndex),n.rightCol=this.indicesToCol(d,f.firstRowDayIndex)):(n.leftCol=this.indicesToCol(d,f.firstRowDayIndex),n.rightCol=this.indicesToCol(d,f.lastRowDayIndex)),p.push(n));return p}for(r=0,a=i.length;a>r;r++)f=i[r],this.isRTL?(f.leftCol=f.lastRowDayIndex,f.rightCol=f.firstRowDayIndex):(f.leftCol=f.firstRowDayIndex,f.rightCol=f.lastRowDayIndex);return i},n}(d.DayGrid),R=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.mixin(T),n.mixin(C),n.prototype.getHitSpan=function(e){var t;return t=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(t.resourceId=this.getColResource(e.col).id),t},n.prototype.spanToSegs=function(t){var n,i,r,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,i=this.sliceRangeByTimes(t),c){for(p=[],s=0,l=i.length;l>s;s++)for(f=i[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],t.resourceId&&t.resourceId!==h.id||(n=e.extend({},f),n.resource=h,n.col=this.indicesToCol(d,f.dayIndex),p.push(n));return p}for(r=0,a=i.length;a>r;r++)f=i[r],f.col=f.dayIndex;return i},
n}(d.TimeGrid),B=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ae(t,e),t.prototype.timeGrid=null,t.prototype.isScrolled=!1,t.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},t.prototype.instantiateGrid=function(){return new q(this)},t.prototype.setRange=function(e){return t.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(e)},t.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},t.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},t.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",Me(this,"handleBodyScroll"))},t.prototype.handleBodyScroll=function(e,t){if(e){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},t.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),t.__super__.unrenderSkeleton.apply(this,arguments)},t.prototype.renderDates=function(){return this.timeGrid.renderDates()},t.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},t.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},t.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},t.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},t.prototype.renderNowIndicator=function(e){return this.timeGrid.renderNowIndicator(e)},t.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},t.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},t.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},t.prototype.queryHit=function(e,t){return this.timeGrid.queryHit(e,t)},t.prototype.getHitSpan=function(e){return this.timeGrid.getHitSpan(e)},t.prototype.getHitEl=function(e){return this.timeGrid.getHitEl(e)},t.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},t.prototype.setHeight=function(e,t){var n;return n=t?"auto":e-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n)},t.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},t.prototype.computeInitialScroll=function(e){return this.timeGrid.computeInitialScroll(e)},t.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},t.prototype.setScroll=function(e){return this.timeGrid.setScroll(e)},t.prototype.renderEvents=function(e){return this.timeGrid.renderEvents(e),this.updateWidth()},t.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},t.prototype.renderDrag=function(e,t){return this.timeGrid.renderDrag(e,t)},t.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},t.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},t.prototype.renderSelection=function(e){return this.timeGrid.renderSelection(e)},t.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},t}(G),K=d.cssToStr,q=function(n){function i(){var e;i.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=t.duration(this.opt("minTime")||"00:00"),this.maxTime=t.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(e=this.opt("snapDuration"))?t.duration(e):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=ie(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return Ae(i,n),i.prototype.slotDates=null,i.prototype.slotCnt=null,i.prototype.snapCnt=null,i.prototype.snapsPerSlot=null,i.prototype.snapDiffToIndex=null,i.prototype.snapIndexToDiff=null,i.prototype.headEl=null,i.prototype.slatContainerEl=null,i.prototype.slatEls=null,i.prototype.containerCoordCache=null,i.prototype.slatCoordCache=null,i.prototype.slatInnerCoordCache=null,i.prototype.headScroller=null,i.prototype.bodyScroller=null,i.prototype.joiner=null,i.prototype.follower=null,i.prototype.eventTitleFollower=null,i.prototype.minTime=null,i.prototype.maxTime=null,i.prototype.timeWindowMs=null,i.prototype.slotDuration=null,i.prototype.snapDuration=null,i.prototype.duration=null,i.prototype.labelInterval=null,i.prototype.headerFormats=null,i.prototype.isTimeScale=null,i.prototype.largeUnit=null,i.prototype.emphasizeWeeks=!1,i.prototype.titleFollower=null,i.prototype.segContainerEl=null,i.prototype.segContainerHeight=null,i.prototype.bgSegContainerEl=null,i.prototype.helperEls=null,i.prototype.innerEl=null,i.prototype.opt=function(e){return this.view.opt(e)},i.prototype.isValidDate=function(e){var t;return this.view.isHiddenDay(e)?!1:this.isTimeScale?(t=e.time()-this.minTime,t=(t%864e5+864e5)%864e5,t<this.timeWindowMs):!0},i.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},i.prototype.computeDisplayEventEnd=function(){return!1},i.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},i.prototype.normalizeGridDate=function(e){var t;return this.isTimeScale?(t=e.clone(),t.hasTime()||t.time(0)):(t=e.clone().stripTime(),this.largeUnit&&t.startOf(this.largeUnit)),t},i.prototype.normalizeGridRange=function(e){var t,n;return this.isTimeScale?n={start:this.normalizeGridDate(e.start),end:this.normalizeGridDate(e.end)}:(n=this.view.computeDayRange(e),this.largeUnit&&(n.start.startOf(this.largeUnit),t=n.end.clone().startOf(this.largeUnit),t.isSame(n.end)&&t.isAfter(n.start)||t.add(this.slotDuration),n.end=t)),n},i.prototype.rangeUpdated=function(){var e,t;for(this.start=this.normalizeGridDate(this.start).add(this.minTime),this.end=this.normalizeGridDate(this.end).subtract(1,"day").add(this.maxTime),t=[],e=this.start.clone();e<this.end;)this.isValidDate(e)&&t.push(e.clone()),e.add(this.slotDuration);return this.slotDates=t,this.updateGridDates()},i.prototype.updateGridDates=function(){var e,t,n,i,r;for(i=-1,t=0,n=[],r=[],e=this.start.clone();e<this.end;)this.isValidDate(e)?(i++,n.push(i),r.push(t)):n.push(i+.5),e.add(this.snapDuration),t++;return this.snapDiffToIndex=n,this.snapIndexToDiff=r,this.snapCnt=i+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},i.prototype.spanToSegs=function(e){var t,n;return t=this.normalizeGridRange(e),this.computeDateSnapCoverage(e.start)<this.computeDateSnapCoverage(e.end)&&(n=ge(t,this))?(n.isStart&&!this.isValidDate(n.start)&&(n.isStart=!1),n.isEnd&&n.end&&!this.isValidDate(n.end.clone().subtract(1))&&(n.isEnd=!1),[n]):[]},i.prototype.prepareHits=function(){return this.buildCoords()},i.prototype.queryHit=function(e,t){var n,i,r,s,o,a,l,u,c,d,h,p;return p=this.snapsPerSlot,s=this.slatCoordCache,n=this.containerCoordCache,null!=n.getVerticalIndex(t)&&(o=s.getHorizontalIndex(e),null!=o)?(u=s.getWidth(o),this.isRTL?(l=s.getRightOffset(o),r=(l-e)/u,i=Math.floor(r*p),c=o*p+i,h=l-i/p*u,d=h-(i+1)/p*u):(a=s.getLeftOffset(o),r=(e-a)/u,i=Math.floor(r*p),c=o*p+i,d=a+i/p*u,h=a+(i+1)/p*u),{snap:c,component:this,left:d,right:h,top:n.getTopOffset(0),bottom:n.getBottomOffset(0)}):void 0},i.prototype.getHitSpan=function(e){return this.getSnapRange(e.snap)},i.prototype.getHitEl=function(e){return this.getSnapEl(e.snap)},i.prototype.getSnapRange=function(e){var t,n;return n=this.start.clone(),n.add(Se(this.snapDuration,this.snapIndexToDiff[e])),t=n.clone().add(this.snapDuration),{start:n,end:t}},i.prototype.getSnapEl=function(e){return this.slatEls.eq(Math.floor(e/this.snapsPerSlot))},i.prototype.renderSkeleton=function(){return this.headScroller=new A("invisible-scroll","hidden"),this.headEl.append(this.headScroller.el),this.bodyScroller=new A,this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.contentEl,this.slatContainerEl=e('<div class="fc-slats"/>').appendTo(this.bodyScroller.bgEl),this.segContainerEl=e('<div class="fc-event-container"/>').appendTo(this.bodyScroller.contentEl),this.bgSegContainerEl=this.bodyScroller.bgEl,this.containerCoordCache=new o({els:this.bodyScroller.innerEl,isHorizontal:!0,isVertical:!0}),this.joiner=new O("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new L(this.headScroller),this.eventTitleFollower=new L(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,i.__super__.renderSkeleton.apply(this,arguments)},i.prototype.headColEls=null,i.prototype.slatColEls=null,i.prototype.renderDates=function(){var e,t,n,i,r;for(this.headScroller.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new o({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new o({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.innerEl}),r=this.slotDates,t=n=0,i=r.length;i>n;t=++n)e=r[t],this.view.trigger("dayRender",null,e,this.slatEls.eq(t));return this.follower?this.follower.setSprites(this.headEl.find("tr:not(:last-child) span")):void 0},i.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.contentEl.add(this.bodyScroller.contentEl).css({minWidth:"",width:""})},i.prototype.renderHeadHtml=function(){var e,t,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S,x,_,C,T,E,k,D,R,M,H,j,P,F,I,L;for(g=this.labelInterval,s=this.headerFormats,t=function(){var e,t,n;for(n=[],e=0,t=s.length;t>e;e++)r=s[e],n.push([]);return n}(),m=null,D=null,F=this.slotDates,P=[],h=0,v=F.length;v>h;h++){for(n=F[h],L=n.week(),d=this.emphasizeWeeks&&null!==D&&D!==L,M=p=0,y=s.length;y>p;M=++p)r=s[M],H=t[M],m=H[H.length-1],c=s.length>1&&M<s.length-1,E=null,c?(I=n.format(r),i=n.format(),m&&m.text===I?m.colspan+=1:E={text:I,dateData:i,colspan:1}):!m||ye(re(this.start,n,g))?(I=n.format(r),i=n.format(),E={text:I,dateData:i,colspan:1}):m.colspan+=1,E&&(E.weekStart=d,H.push(E));P.push({weekStart:d}),D=L}for(l=g>this.slotDuration,o="<table>",o+="<colgroup>",f=0,b=F.length;b>f;f++)n=F[f],o+="<col/>";for(o+="</colgroup>",o+="<tbody>",a=C=0,w=t.length;w>C;a=++C){for(H=t[a],u=a===t.length-1,o+="<tr"+(l&&u?' class="fc-chrono"':"")+">",T=0,S=H.length;S>T;T++)e=H[T],o+='<th class="'+this.view.widgetHeaderClass+" "+(e.weekStart?"fc-em-cell":"")+'" data-date="'+e.dateData+'"'+(e.colspan>1?' colspan="'+e.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+fe(e.text)+"</span></div></th>";o+="</tr>"}for(o+="</tbody></table>",j="<table>",j+="<colgroup>",k=0,x=P.length;x>k;k++)e=P[k],j+="<col/>";for(j+="</colgroup>",j+="<tbody><tr>",a=R=0,_=P.length;_>R;a=++R)e=P[a],n=F[a],j+=this.slatCellHtml(n,e.weekStart);return j+="</tr></tbody></table>",this._slatHtml=j,o},i.prototype.renderSlatHtml=function(){return this._slatHtml},i.prototype.slatCellHtml=function(e,t){var n;return this.isTimeScale?(n=[],n.push(ye(re(this.start,e,this.labelInterval))?"fc-major":"fc-minor")):(n=this.getDayClasses(e),n.push("fc-day")),n.unshift(this.view.widgetContentClass),t&&n.push("fc-em-cell"),'<td class="'+n.join(" ")+'" data-date="'+e.format()+'"><div /></td>'},i.prototype.businessHourSegs=null,i.prototype.renderBusinessHours=function(){var e,t;return this.largeUnit?void 0:(e=this.view.calendar.getBusinessHoursEvents(!this.isTimeScale),t=this.businessHourSegs=this.eventsToSegs(e),this.renderFill("businessHours",t,"bgevent"))},i.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},i.prototype.nowIndicatorEls=null,i.prototype.getNowIndicatorUnit=function(){return this.isTimeScale?X(this.slotDuration):void 0},i.prototype.renderNowIndicator=function(t){var n,i,r;return r=[],t=this.normalizeGridDate(t),t>=this.start&&t<this.end&&(n=this.dateToCoord(t),i=this.isRTL?{right:-n}:{left:n},r.push(e("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(i).appendTo(this.headScroller.innerEl)[0]),r.push(e("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(i).appendTo(this.bodyScroller.innerEl)[0])),this.nowIndicatorEls=e(r)},i.prototype.unrenderNowIndicator=function(){return this.nowIndicatorEls?(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null):void 0},i.prototype.explicitSlotWidth=null,i.prototype.defaultSlotWidth=null,i.prototype.updateWidth=function(){var e,t,n,i,r;return r=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),n=r*this.slotDates.length,t="",i=r,e=this.bodyScroller.scrollEl[0].clientWidth,e>n&&(t=e,n="",i=Math.floor(e/this.slotDates.length)),this.headScroller.setContentWidth(n),this.headScroller.setContentMinWidth(t),this.bodyScroller.setContentWidth(n),this.bodyScroller.setContentMinWidth(t),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(i),this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.follower&&this.follower.update(),this.eventTitleFollower?this.eventTitleFollower.update():void 0},i.prototype.computeSlotWidth=function(){var t,n,i,r,s,o;return i=0,n=this.headEl.find("tr:last-child th span"),n.each(function(t,n){var r;return r=e(n).outerWidth(),i=Math.max(i,r)}),t=i+1,o=ie(this.labelInterval,this.slotDuration),s=Math.ceil(t/o),r=this.headColEls.eq(0).css("min-width"),r&&(r=parseInt(r,10),r&&(s=Math.max(s,r))),s},i.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},i.prototype.computeDateSnapCoverage=function(e){var t,n,i;return n=re(this.start,e,this.snapDuration),0>n?0:n>=this.snapDiffToIndex.length?this.snapCnt:(i=Math.floor(n),t=this.snapDiffToIndex[i],ye(t)?t+=n-i:t=Math.ceil(t),t)},i.prototype.dateToCoord=function(e){var t,n,i,r,s;return s=this.computeDateSnapCoverage(e),i=s/this.snapsPerSlot,r=Math.floor(i),r=Math.min(r,this.slotCnt-1),n=i-r,t=this.slatInnerCoordCache,this.isRTL?t.getRightPosition(r)-t.getWidth(r)*n-this.containerCoordCache.getWidth(0):t.getLeftPosition(r)+t.getWidth(r)*n},i.prototype.rangeToCoords=function(e){return this.isRTL?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},i.prototype.headHeight=function(){var e;return e=this.headScroller.contentEl.find("table"),e.height.apply(e,arguments)},i.prototype.updateSegPositions=function(){var e,t,n,i,r;for(r=(this.segs||[]).concat(this.businessHourSegs||[]),t=0,n=r.length;n>t;t++)i=r[t],e=this.rangeToCoords(i),i.el.css({left:i.left=e.left,right:-(i.right=e.right)})},i.prototype.computeInitialScroll=function(e){var n,i;return n=0,this.isTimeScale&&(i=this.opt("scrollTime"),i&&(i=t.duration(i),n=this.dateToCoord(this.start.clone().time(i)))),{left:n,top:0}},i.prototype.queryScroll=function(){return{left:xe(this.bodyScroller.scrollEl),top:this.bodyScroller.scrollEl.scrollTop()}},i.prototype.setScroll=function(e){return xe(this.headScroller.scrollEl,e.left),xe(this.bodyScroller.scrollEl,e.left),this.bodyScroller.scrollEl.scrollTop(e.top)},i.prototype.renderFgSegs=function(e){return e=this.renderFgSegEls(e),this.renderFgSegsInContainers([[this,e]]),this.updateSegFollowers(e),e},i.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},i.prototype.renderFgSegsInContainers=function(e){var t,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S,x,_,C,T;for(i=0,o=e.length;o>i;i++)for(b=e[i],t=b[0],T=b[1],r=0,a=T.length;a>r;r++)C=T[r],n=this.rangeToCoords(C),C.el.css({left:C.left=n.left,right:-(C.right=n.right)});for(s=0,l=e.length;l>s;s++)for(w=e[s],t=w[0],T=w[1],f=0,u=T.length;u>f;f++)C=T[f],C.el.appendTo(t.segContainerEl);for(g=0,c=e.length;c>g;g++){for(S=e[g],t=S[0],T=S[1],m=0,d=T.length;d>m;m++)C=T[m],C.height=C.el.outerHeight(!0);this.buildSegLevels(T),t.segContainerHeight=J(T)}for(_=[],v=0,h=e.length;h>v;v++){for(x=e[v],t=x[0],T=x[1],y=0,p=T.length;p>y;y++)C=T[y],C.el.css("top",C.top);_.push(t.segContainerEl.height(t.segContainerHeight))}return _},i.prototype.buildSegLevels=function(e){var t,n,i,r,s,o,a,l,u,c,d,h,p,f;for(p=[],this.sortEventSegs(e),i=0,o=e.length;o>i;i++){for(f=e[i],f.above=[],u=0;u<p.length;){for(n=!1,d=p[u],r=0,a=d.length;a>r;r++)c=d[r],Le(f,c)&&(f.above.push(c),n=!0);if(!n)break;u+=1}for((p[u]||(p[u]=[])).push(f),u+=1;u<p.length;){for(h=p[u],s=0,l=h.length;l>s;s++)t=h[s],Le(f,t)&&t.above.push(f);u+=1}}return p},i.prototype.unrenderFgContainers=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],t.segContainerEl.empty(),t.segContainerEl.height(""),r.push(t.segContainerHeight=null);return r},i.prototype.fgSegHtml=function(e,t){var n,i,r,s,o,a;return i=e.event,r=this.view.isEventDraggable(i),o=e.isStart&&this.view.isEventResizableFromStart(i),s=e.isEnd&&this.view.isEventResizableFromEnd(i),n=this.getSegClasses(e,r,o||s),n.unshift("fc-timeline-event","fc-h-event"),a=this.getEventTimeText(i),'<a class="'+n.join(" ")+'" style="'+K(this.getSegSkinCss(e))+'"'+(i.url?' href="'+fe(i.url)+'"':"")+'><div class="fc-content">'+(a?'<span class="fc-time">'+fe(a)+"</span>":"")+'<span class="fc-title">'+(i.title?fe(i.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(o?'<div class="fc-resizer fc-start-resizer"></div>':"")+(s?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},i.prototype.updateSegFollowers=function(e){var t,n,i,r,s;if(this.eventTitleFollower){for(r=[],t=0,n=e.length;n>t;t++)i=e[t],s=i.el.find(".fc-title"),s.length&&r.push(new N(s));return this.eventTitleFollower.setSprites(r)}},i.prototype.clearSegFollowers=function(){return this.eventTitleFollower?this.eventTitleFollower.clearSprites():void 0},i.prototype.segDragStart=function(){return i.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segDragEnd=function(){return i.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.segResizeStart=function(){return i.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segResizeEnd=function(){return i.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.renderHelper=function(e,t){var n;return n=this.eventToSegs(e),n=this.renderFgSegEls(n),this.renderHelperSegsInContainers([[this,n]],t)},i.prototype.renderHelperSegsInContainers=function(t,n){var i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b;for(o=[],a=0,c=t.length;c>a;a++)for(g=t[a],i=g[0],b=g[1],l=0,d=b.length;d>l;l++)y=b[l],r=this.rangeToCoords(y),y.el.css({left:y.left=r.left,right:-(y.right=r.right)}),n&&n.resourceId===(null!=(m=i.resource)?m.id:void 0)?y.el.css("top",n.el.css("top")):y.el.css("top",0);for(u=0,h=t.length;h>u;u++)for(v=t[u],i=v[0],b=v[1],s=e('<div class="fc-event-container fc-helper-container"/>').appendTo(i.innerEl),o.push(s[0]),f=0,p=b.length;p>f;f++)y=b[f],s.append(y.el);return this.helperEls=this.helperEls?this.helperEls.add(e(o)):e(o)},i.prototype.unrenderHelper=function(){return this.helperEls?(this.helperEls.remove(),this.helperEls=null):void 0},i.prototype.renderEventResize=function(e,t){return this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},i.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},i.prototype.renderFill=function(e,t,n){return t=this.renderFillSegEls(e,t),this.renderFillInContainers(e,[[this,t]],n),t},i.prototype.renderFillInContainers=function(e,t,n){var i,r,s,o,a,l;for(a=[],r=0,s=t.length;s>r;r++)o=t[r],i=o[0],l=o[1],a.push(this.renderFillInContainer(e,i,l,n));return a},i.prototype.renderFillInContainer=function(t,n,i,r){var s,o,a,l,u;if(i.length){for(r||(r=t.toLowerCase()),s=e('<div class="fc-'+r+'-container" />').appendTo(n.bgSegContainerEl),a=0,l=i.length;l>a;a++)u=i[a],o=this.rangeToCoords(u),u.el.css({left:u.left=o.left,right:-(u.right=o.right)}),u.el.appendTo(s);return this.elsByFill[t]=this.elsByFill[t]?this.elsByFill[t].add(s):s}},i.prototype.renderDrag=function(e,t){return t?(this.renderEventLocationHelper(e,t),this.applyDragOpacity(this.helperEls),!0):(this.renderHighlight(this.eventToSpan(e)),!1)},i.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},i}(h),J=function(e){var t,n,i,r;for(i=0,t=0,n=e.length;n>t;t++)r=e[t],i=Math.max(i,Z(r));return i},Z=function(e){return null==e.top&&(e.top=J(e.above)),e.top+e.height},Le=function(e,t){return e.left<t.right&&e.right>t.left},y=18,m=6,g=200,v=1e3,a={months:1},I=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],q.prototype.initScaleProps=function(){var t,n,i;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),t=this.opt("slotLabelFormat"),i=e.type(t),this.headerFormats="array"===i?t:"string"===i?[t]:this.computeHeaderFormats(),this.isTimeScale=se(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(n=X(this.slotDuration),/year|month|week/.test(n)?n:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},q.prototype.queryDurationOption=function(e){var n,i;return i=this.opt(e),null!=i&&(n=t.duration(i),+n)?n:void 0},q.prototype.validateLabelAndSlot=function(){var e,t,n;return this.labelInterval&&(e=ie(this.duration,this.labelInterval),e>v&&(d.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(t=ie(this.duration,this.slotDuration),t>v&&(d.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(n=ie(this.labelInterval,this.slotDuration),!ye(n)||1>n)?(d.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null):void 0},q.prototype.ensureGridDuration=function(){var e,n,i,r,s;if(e=this.duration,!e){if(e=this.view.intervalDuration,!e)if(this.labelInterval||this.slotDuration)for(s=this.ensureLabelInterval(),i=I.length-1;i>=0&&(n=I[i],e=t.duration(n),r=ie(e,s),!(r>=y));i+=-1);else e=t.duration(a);this.duration=e}return e},q.prototype.ensureLabelInterval=function(){var e,n,i,r,s,o,a,l,u;if(s=this.labelInterval,!s){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(n=0,o=I.length;o>n;n++)if(e=I[n],u=t.duration(e),l=ie(u,this.slotDuration),ye(l)&&m>=l){s=u;break}s||(s=this.slotDuration)}else for(i=0,a=I.length;a>i&&(e=I[i],s=t.duration(e),r=ie(this.duration,s),!(r>=y));i++);this.labelInterval=s}return s},q.prototype.ensureSlotDuration=function(){var e,n,i,r,s,o,a,l;if(o=this.slotDuration,!o){for(i=this.ensureLabelInterval(),n=0,r=I.length;r>n;n++)if(e=I[n],l=t.duration(e),a=ie(i,l),ye(a)&&a>1&&m>=a){o=l;break}o&&this.duration&&(s=ie(this.duration,o),s>g&&(o=null)),o||(o=i),this.slotDuration=o}return o},q.prototype.computeHeaderFormats=function(){var e,t,n,i,r,s,o,a;switch(o=this.view,i=this.duration,r=this.labelInterval,s=X(r),a=this.opt("weekNumbers"),e=t=n=null,"week"!==s||a||(s="day"),s){case"year":e="YYYY";break;case"month":i.asYears()>1&&(e="YYYY"),t="MMM";break;case"week":i.asYears()>1&&(e="YYYY"),t=this.opt("shortWeekFormat");break;case"day":i.asYears()>1?e=this.opt("monthYearFormat"):i.asMonths()>1&&(e="MMMM"),a&&(t=this.opt("weekFormat")),n="dd D";break;case"hour":a&&(e=this.opt("weekFormat")),i.asDays()>1&&(t=this.opt("dayOfMonthFormat")),n=this.opt("smallTimeFormat");break;case"minute":r.asMinutes()/60>=m?(e=this.opt("hourFormat"),t="[:]mm"):e=this.opt("mediumTimeFormat");break;case"second":r.asSeconds()/60>=m?(e="LT",t="[:]ss"):e="LTS";break;case"millisecond":e="LTS",t="[.]SSS"}return[].concat(e||[],t||[],n||[])},d.views.timeline={"class":B,defaults:{eventResizableFromStart:!0}},d.views.timelineDay={type:"timeline",duration:{days:1}},d.views.timelineWeek={type:"timeline",duration:{weeks:1}},d.views.timelineMonth={type:"timeline",duration:{months:1}},d.views.timelineYear={type:"timeline",duration:{years:1}},H=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.mixin(j),n.prototype.resourceGrid=null,n.prototype.tbodyHash=null,n.prototype.joiner=null,n.prototype.dividerEls=null,n.prototype.superHeaderText=null,n.prototype.isVGrouping=null,n.prototype.isHGrouping=null,n.prototype.groupSpecs=null,n.prototype.colSpecs=null,n.prototype.orderSpecs=null,n.prototype.rowHierarchy=null,n.prototype.resourceRowHash=null,n.prototype.nestingCnt=0,n.prototype.isNesting=null,n.prototype.dividerWidth=null,n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new z(this),this.rowHierarchy=new F(this),this.resourceRowHash={}},n.prototype.instantiateGrid=function(){return new M(this)},n.prototype.processResourceOptions=function(){var e,t,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S;for(e=this.opt("resourceColumns")||[],f=this.opt("resourceLabelText"),i="Resources",S=null,e.length?S=f:e.push({labelText:f||i,text:this.getResourceTextFunc()}),b=[],r=[],o=[],c=!1,u=!1,d=0,g=e.length;g>d;d++)n=e[d],n.group?r.push(n):b.push(n);for(b[0].isMain=!0,r.length?(o=r,c=!0):(a=this.opt("resourceGroupField"),a&&(u=!0,o.push({field:a,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),t=De(this.opt("resourceOrder")),w=[],h=0,m=t.length;m>h;h++){for(y=t[h],l=!1,p=0,v=o.length;v>p;p++)if(s=o[p],s.field===y.field){s.order=y.order,l=!0;break}l||w.push(y)}return this.superHeaderText=S,this.isVGrouping=c,this.isHGrouping=u,this.groupSpecs=o,this.colSpecs=r.concat(b),this.orderSpecs=w},n.prototype.renderSkeleton=function(){return n.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new O("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},n.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},n.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},n.prototype.initDividerMoving=function(){var e;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(e=this.opt("resourceAreaWidth"))?e:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(e){return function(t){return e.dividerMousedown(t)}}(this))},n.prototype.dividerMousedown=function(e){var t,n,i,r,s;return n=this.opt("isRTL"),r=30,i=this.el.width()-30,s=this.getNaturalDividerWidth(),t=new l({dragStart:function(e){return function(){return e.dividerEls.addClass("fc-active")}}(this),drag:function(e){return function(t,o){var a;return a=n?s-t:s+t,a=Math.max(a,r),a=Math.min(a,i),e.dividerWidth=a,e.positionDivider(a),e.updateWidth()}}(this),dragStop:function(e){return function(){return e.dividerEls.removeClass("fc-active")}}(this)}),t.mousedown(e)},n.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},n.prototype.positionDivider=function(e){return this.el.find(".fc-resource-area").width(e)},n.prototype.renderEvents=function(e){return this.timeGrid.renderEvents(e),this.syncRowHeights(),this.updateWidth()},n.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},n.prototype.updateWidth=function(){return n.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower?this.cellFollower.update():void 0},n.prototype.updateHeight=function(e){return n.__super__.updateHeight.apply(this,arguments),e?this.syncRowHeights():void 0},n.prototype.setHeight=function(e,t){var n,i;return i=this.syncHeadHeights(),n=t?"auto":e-i-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n),this.resourceGrid.bodyScroller.setHeight(n)},n.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},n.prototype.syncHeadHeights=function(){var e;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),e=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(e),this.timeGrid.headHeight(e),e},n.prototype.scrollToResource=function(e){return this.timeGrid.scrollToResource(e)},n.prototype.setResources=function(e){var t,n,i;for(this.batchRows(),t=0,n=e.length;n>t;t++)i=e[t],this.insertResource(i);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.addResource=function(e){return this.insertResource(e),this.reinitializeCellFollowers()},n.prototype.removeResource=function(e){var t;return t=this.getResourceRow(e.id),t?(this.batchRows(),t.remove(),this.unbatchRows(),this.reinitializeCellFollowers()):void 0},n.prototype.cellFollower=null,n.prototype.reinitializeCellFollowers=function(){var t,n,i,r,s,o;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new L(this.resourceGrid.bodyScroller),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,r=[],s=this.rowHierarchy.getNodes(),n=0,i=s.length;i>n;n++)o=s[n],o instanceof $&&o.groupTd&&(t=o.groupTd.find(".fc-cell-content"),t.length&&r.push(t[0]));return this.cellFollower.setSprites(e(r))},n.prototype.insertResource=function(e,t){var n,i,r,s,o,a,l;for(l=new D(this,e),null==t&&(s=e.parentId,s&&(t=this.getResourceRow(s))),t?this.insertRowAsChild(l,t):this.insertRow(l),o=e.children,a=[],i=0,r=o.length;r>i;i++)n=o[i],a.push(this.insertResource(n,l));return a},n.prototype.insertRow=function(e,t,n){var i;return null==t&&(t=this.rowHierarchy),null==n&&(n=this.groupSpecs),n.length?(i=this.ensureResourceGroup(e,t,n[0]),i instanceof p?this.insertRowAsChild(e,i):this.insertRow(e,i,n.slice(1))):this.insertRowAsChild(e,t)},n.prototype.insertRowAsChild=function(e,t){return t.addChild(e,this.computeChildRowPosition(e,t))},n.prototype.computeChildRowPosition=function(e,t){var n,i,r,s,o,a;if(this.orderSpecs.length)for(o=t.children,i=r=0,s=o.length;s>r;i=++r)if(a=o[i],n=this.compareResources(a.resource||{},e.resource||{}),n>0)return i;return null},n.prototype.compareResources=function(e,t){return U(e,t,this.orderSpecs)},n.prototype.ensureResourceGroup=function(e,t,n){var i,r,s,o,a,l,u,c,d,h,f;if(s=(e.resource||{})[n.field],r=null,n.order)for(d=t.children,o=a=0,u=d.length;u>a;o=++a){if(f=d[o],i=oe(f.groupValue,s)*n.order,0===i){r=f;break}if(i>0)break}else for(h=t.children,o=l=0,c=h.length;c>l;o=++l)if(f=h[o],f.groupValue===s){r=f;break}return r||(r=this.isVGrouping?new $(this,n,s):new p(this,n,s),t.addChild(r,o)),r},n.prototype.pairSegsWithRows=function(e){var t,n,i,r,s,o,a,l;for(r=[],s={},t=0,n=e.length;n>t;t++)l=e[t],o=l.resourceId,o&&(a=this.getResourceRow(o),a&&(i=s[o],i||(i=[a,[]],r.push(i),s[o]=i),i[1].push(l)));return r;
},n.prototype.rowAdded=function(e){var t,n;return e instanceof D&&(this.resourceRowHash[e.resource.id]=e),n=this.isNesting,t=Boolean(this.nestingCnt+=e.depth?1:0),n!==t&&(this.el.toggleClass("fc-nested",t),this.el.toggleClass("fc-flat",!t)),this.isNesting=t},n.prototype.rowRemoved=function(e){var t,n;return e instanceof D&&delete this.resourceRowHash[e.resource.id],n=this.isNesting,t=Boolean(this.nestingCnt-=e.depth?1:0),n!==t&&(this.el.toggleClass("fc-nested",t),this.el.toggleClass("fc-flat",!t)),this.isNesting=t},n.prototype.batchRowDepth=0,n.prototype.shownRowBatch=null,n.prototype.hiddenRowBatch=null,n.prototype.batchRows=function(){return this.batchRowDepth++?void 0:(this.shownRowBatch=[],this.hiddenRowBatch=[])},n.prototype.unbatchRows=function(){return--this.batchRowDepth?void 0:(this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null)},n.prototype.rowShown=function(e){return this.shownRowBatch?this.shownRowBatch.push(e):this.rowsShown([e])},n.prototype.rowHidden=function(e){return this.hiddenRowBatch?this.hiddenRowBatch.push(e):this.rowsHidden([e])},n.prototype.rowsShown=function(e){return this.syncRowHeights(e),this.updateWidth()},n.prototype.rowsHidden=function(e){return this.updateWidth()},n.prototype.syncRowHeights=function(e,t){var n,i,r,s,o,a,l,u,c,d;for(null==t&&(t=!1),null==e&&(e=this.getVisibleRows()),a=0,u=e.length;u>a;a++)d=e[a],d.setTrInnerHeight("");for(o=function(){var i,r,s;for(s=[],i=0,r=e.length;r>i;i++)d=e[i],n=d.getMaxTrInnerHeight(),t&&(n+=n%2),s.push(n);return s}(),s=l=0,c=e.length;c>l;s=++l)d=e[s],d.setTrInnerHeight(o[s]);return!t&&(i=this.resourceGrid.tbodyEl.height(),r=this.timeGrid.tbodyEl.height(),Math.abs(i-r)>1)?this.syncRowHeights(e,!0):void 0},n.prototype.getVisibleRows=function(){var e,t,n,i,r;for(n=this.rowHierarchy.getRows(),i=[],e=0,t=n.length;t>e;e++)r=n[e],r.isShown&&i.push(r);return i},n.prototype.getEventRows=function(){var e,t,n,i,r;for(n=this.rowHierarchy.getRows(),i=[],e=0,t=n.length;t>e;e++)r=n[e],r instanceof c&&i.push(r);return i},n.prototype.getResourceRow=function(e){return this.resourceRowHash[e]},n.prototype.setScroll=function(e){return n.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.scrollTop(e.top)},n}(B),M=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.mixin(T),n.prototype.eventRows=null,n.prototype.shownEventRows=null,n.prototype.tbodyEl=null,n.prototype.rowCoordCache=null,n.prototype.spanToSegs=function(e){var t,i,r,s,o,a;if(a=n.__super__.spanToSegs.apply(this,arguments),t=this.view.calendar,s=e.resourceId)for(i=0,r=a.length;r>i;i++)o=a[i],o.resource=t.getResourceById(s),o.resourceId=s;return a},n.prototype.prepareHits=function(){var e,t;return n.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var t,n,i,r;for(i=this.eventRows,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.isShown&&r.push(e);return r}.call(this),t=function(){var t,n,i,r;for(i=this.shownEventRows,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.getTr("event")[0]);return r}.call(this),this.rowCoordCache=new o({els:t,isVertical:!0}),this.rowCoordCache.build()},n.prototype.releaseHits=function(){return n.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},n.prototype.queryHit=function(e,t){var i,r;return r=n.__super__.queryHit.apply(this,arguments),r&&(i=this.rowCoordCache.getVerticalIndex(t),null!=i)?{resourceId:this.shownEventRows[i].resource.id,snap:r.snap,component:this,left:r.left,right:r.right,top:this.rowCoordCache.getTopOffset(i),bottom:this.rowCoordCache.getBottomOffset(i)}:void 0},n.prototype.getHitSpan=function(e){var t;return t=this.getSnapRange(e.snap),t.resourceId=e.resourceId,t},n.prototype.getHitEl=function(e){return this.getSnapEl(e.snap)},n.prototype.renderSkeleton=function(){var t;return n.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,t=e('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.contentEl),this.tbodyEl=t.find("tbody")},n.prototype.renderFgSegs=function(e){var t,n,i,r,s,o,a;for(e=this.renderFgSegEls(e),o=this.view.pairSegsWithRows(e),a=[],i=0,r=o.length;r>i;i++)s=o[i],t=s[0],n=s[1],t.fgSegs=n,t.isShown&&(t.isSegsRendered=!0,a.push(s));return this.renderFgSegsInContainers(a),this.updateSegFollowers(e),e},n.prototype.unrenderFgSegs=function(){var e,t,n,i;for(this.clearSegFollowers(),t=this.view.getEventRows(),n=0,i=t.length;i>n;n++)e=t[n],e.fgSegs=null,e.isSegsRendered=!1;return this.unrenderFgContainers(t)},n.prototype.renderFill=function(e,t,n){var i,r,s,o,a,l,u,c,d,h,p,f;for(t=this.renderFillSegEls(e,t),c=[],a=[],i=0,s=t.length;s>i;i++)p=t[i],p.resourceId?c.push(p):a.push(p);for(u=this.view.pairSegsWithRows(c),f=[],r=0,o=u.length;o>r;r++)l=u[r],d=l[0],h=l[1],"bgEvent"===e&&(d.bgSegs=h),d.isShown&&f.push(l);return a.length&&f.unshift([this,a]),this.renderFillInContainers(e,f,n),t},n.prototype.renderHelper=function(e,t){var n,i;return i=this.eventToSegs(e),i=this.renderFgSegEls(i),n=this.view.pairSegsWithRows(i),this.renderHelperSegsInContainers(n,t)},n.prototype.computeInitialScroll=function(e){var t;return t=n.__super__.computeInitialScroll.apply(this,arguments),e&&(t.resourceId=e.resourceId,t.bottom=e.bottom),t},n.prototype.queryScroll=function(){var e,t,i,r,s,o,a,l;for(l=n.__super__.queryScroll.apply(this,arguments),a=this.bodyScroller.scrollEl.offset().top,s=this.view.getVisibleRows(),i=0,r=s.length;r>i;i++)if(o=s[i],o.resource&&(e=o.getTr("event"),t=e.offset().top+e.outerHeight(),t>a)){l.resourceId=o.resource.id,l.bottom=t-a;break}return l},n.prototype.setScroll=function(e){var t,i,r,s;return e.resourceId&&(s=this.view.getResourceRow(e.resourceId),s&&(t=s.getTr("event"),t&&(r=this.bodyScroller.innerEl.offset().top,i=t.offset().top+t.outerHeight(),e.top=i-e.bottom-r))),n.__super__.setScroll.call(this,e)},n.prototype.scrollToResource=function(e){var t,n,i,r;return i=this.view.getResourceRow(e.id),i&&(t=i.getTr("event"))?(n=this.bodyScroller.innerEl.offset().top,r=t.offset().top-n,this.bodyScroller.scrollEl.scrollTop(r)):void 0},n}(q),n=30,z=function(){function t(e){var t;this.view=e,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var e,n,i,r;for(i=this.view.colSpecs,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.width);return r}.call(this)}return t.prototype.view=null,t.prototype.headEl=null,t.prototype.el=null,t.prototype.tbodyEl=null,t.prototype.headScroller=null,t.prototype.bodyScroller=null,t.prototype.joiner=null,t.prototype.colGroupHtml="",t.prototype.headTable=null,t.prototype.headColEls=null,t.prototype.headCellEls=null,t.prototype.bodyColEls=null,t.prototype.bodyTable=null,t.prototype.renderSkeleton=function(){return this.headScroller=new A("invisible-scroll","hidden"),this.headScroller.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new A("auto","invisible-scroll"),this.bodyScroller.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new O("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},t.prototype.renderHeadHtml=function(){var e,t,n,i,r,s,o,a,l,u,c;for(t=this.view.colSpecs,n="<table>",e="<colgroup>",o=0,l=t.length;l>o;o++)c=t[o],e+=c.isMain?'<col class="fc-main-col"/>':"<col/>";for(e+="</colgroup>",this.colGroupHtml=e,n+=e,n+="<tbody>",this.view.superHeaderText&&(n+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+t.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+fe(this.view.superHeaderText)+"</span></div></th></tr>"),n+="<tr>",s=!0,i=a=0,u=t.length;u>a;i=++a)c=t[i],r=i===t.length-1,n+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(c.isMain?'<div class="fc-icon fc-expander-space" />':"")+'<span class="fc-cell-text">'+fe(c.labelText||"")+"</span></div>"+(r?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return n+="</tr>",n+="</tbody></table>"},t.prototype.givenColWidths=null,t.prototype.colWidths=null,t.prototype.colMinWidths=null,t.prototype.tableWidth=null,t.prototype.tableMinWidth=null,t.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(t){return function(n,i){return i=e(i),i.on("mousedown",function(e){return t.colResizeMousedown(n,e,i)})}}(this))},t.prototype.colResizeMousedown=function(e,t,i){var r,s,o,a;return r=this.colWidths=this.queryColWidths(),r.pop(),r.push(null),a=r[e],o=Math.min(this.colMinWidths[e],n),s=new l({dragStart:function(e){return function(){return i.addClass("fc-active")}}(this),drag:function(t){return function(n,i){var s;return s=a+(t.isRTL?-n:n),s=Math.max(s,o),r[e]=s,t.applyColWidths()}}(this),dragStop:function(e){return function(){return i.removeClass("fc-active")}}(this)}),s.mousedown(t)},t.prototype.applyColWidths=function(){var e,t,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m;for(n=this.colMinWidths,r=this.colWidths,e=!0,t=!1,m=0,u=0,h=r.length;h>u;u++)i=r[u],"number"==typeof i?m+=i:(e=!1,i&&(t=!0));for(a=t&&!this.view.isHGrouping?"auto":"",o=function(){var e,t,n;for(n=[],l=e=0,t=r.length;t>e;l=++e)i=r[l],n.push(null!=i?i:a);return n}(),g=0,l=c=0,p=o.length;p>c;l=++c)s=o[l],g+="number"==typeof s?s:n[l];for(l=d=0,f=o.length;f>d;l=++d)s=o[l],this.headColEls.eq(l).width(s),this.bodyColEls.eq(l).width(s);return this.headScroller.setContentMinWidth(g),this.bodyScroller.setContentMinWidth(g),this.tableMinWidth=g,this.tableWidth=e?m:void 0},t.prototype.computeColMinWidths=function(){var e,t,i,r,s,o;for(r=this.givenColWidths,s=[],e=t=0,i=r.length;i>t;e=++t)o=r[e],s.push("number"==typeof o?o:parseInt(this.headColEls.eq(e).css("min-width"))||n);return s},t.prototype.queryColWidths=function(){var t,n,i,r,s;for(r=this.headCellEls,s=[],t=0,n=r.length;n>t;t++)i=r[t],s.push(e(i).outerWidth());return s},t.prototype.updateWidth=function(){return this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.follower?this.follower.update():void 0},t.prototype.headHeight=function(){var e;return e=this.headScroller.contentEl.find("table"),e.height.apply(e,arguments)},t}(),F=function(){function t(t){this.view=t,this.children=[],this.trHash={},this.trs=e()}return t.prototype.view=null,t.prototype.parent=null,t.prototype.prevSibling=null,t.prototype.children=null,t.prototype.depth=0,t.prototype.hasOwnRow=!1,t.prototype.trHash=null,t.prototype.trs=null,t.prototype.isRendered=!1,t.prototype.isExpanded=!0,t.prototype.isShown=!1,t.prototype.addChild=function(e,t){var n,i,r,s,o;for(e.remove(),n=this.children,null!=t?n.splice(t,0,e):(t=n.length,n.push(e)),e.prevSibling=t>0?n[t-1]:null,t<n.length-1&&(n[t+1].prevSibling=e),e.parent=this,e.depth=this.depth+(this.hasOwnRow?1:0),o=e.getNodes(),i=0,r=o.length;r>i;i++)s=o[i],s.added();return this.isShown&&this.isExpanded?e.show():void 0},t.prototype.removeChild=function(e){var t,n,i,r,s,o,a,l,u,c;for(t=this.children,i=!1,n=r=0,o=t.length;o>r;n=++r)if(c=t[n],c===e){i=!0;break}if(i){for(n<t.length-1&&(t[n+1].prevSibling=e.prevSibling),t.splice(n,1),e.recursivelyUnrender(),l=e.getNodes(),s=0,a=l.length;a>s;s++)u=l[s],u.removed();return e.parent=null,e.prevSibling=null,e}return!1},t.prototype.removeChildren=function(){var e,t,n,i,r,s,o;for(s=this.children,t=0,i=s.length;i>t;t++)e=s[t],e.recursivelyUnrender();for(o=this.getDescendants(),n=0,r=o.length;r>n;n++)e=o[n],e.removed();return this.children=[]},t.prototype.remove=function(){return this.parent?this.parent.removeChild(this):void 0},t.prototype.getLastChild=function(){var e;return e=this.children,e[e.length-1]},t.prototype.getPrevRow=function(){var e,t;for(t=this;t;){if(t.prevSibling)for(t=t.prevSibling;e=t.getLastChild();)t=e;else t=t.parent;if(t&&t.hasOwnRow&&t.isShown)return t}return null},t.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},t.prototype.getRows=function(e){var t,n,i,r;for(null==e&&(e=[]),this.hasOwnRow&&e.push(this),r=this.children,n=0,i=r.length;i>n;n++)t=r[n],t.getRows(e);return e},t.prototype.getNodes=function(e){var t,n,i,r;for(null==e&&(e=[]),e.push(this),r=this.children,n=0,i=r.length;i>n;n++)t=r[n],t.getNodes(e);return e},t.prototype.getDescendants=function(){var e,t,n,i,r;for(e=[],r=this.children,n=0,i=r.length;i>n;n++)t=r[n],t.getNodes(e);return e},t.prototype.render=function(){var t,n,i,r,s,o,a;if(this.trHash={},o=[],this.hasOwnRow){t=this.getPrevRow(),n=this.view.tbodyHash;for(a in n)r=n[a],s=e("<tr/>"),this.trHash[a]=s,o.push(s[0]),i="render"+V(a)+"Content",this[i]&&this[i](s),t?t.trHash[a].after(s):r.prepend(s)}return this.trs=e(o).on("click",".fc-expander",Me(this,"toggleExpanded")),this.isRendered=!0},t.prototype.unrender=function(){var t,n,i,r;if(this.isRendered){t=this.trHash;for(i in t)n=t[i],r="unrender"+V(i)+"Content",this[r]&&this[r](n);return this.trHash={},this.trs.remove(),this.trs=e(),this.isRendered=!1,this.isShown=!1,this.hidden()}},t.prototype.recursivelyUnrender=function(){var e,t,n,i,r;for(this.unrender(),i=this.children,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.recursivelyUnrender());return r},t.prototype.getTr=function(e){return this.trHash[e]},t.prototype.show=function(){var e,t,n,i,r;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(i=this.children,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.show());return r}},t.prototype.hide=function(){var e,t,n,i,r;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(i=this.children,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.hide());return r}},t.prototype.expand=function(){var e,t,n,i;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),i=this.children,t=0,n=i.length;n>t;t++)e=i[t],e.show();return this.view.unbatchRows(),this.animateExpand()}},t.prototype.collapse=function(){var e,t,n,i;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),i=this.children,t=0,n=i.length;n>t;t++)e=i[t],e.hide();return this.view.unbatchRows()}},t.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},t.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},t.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},t.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},t.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},t.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},t.prototype.getCollapsedIcon=function(){var e;return e=this.view.isRTL?"left":"right","fc-icon-"+e+"-triangle"},t.prototype.animateExpand=function(){var e,t,n;return n=null!=(e=this.children[0])&&null!=(t=e.getLeadingRow())?t.trs:void 0,n?(n.addClass("fc-collapsed"),setTimeout(function(){return n.addClass("fc-transitioning"),n.removeClass("fc-collapsed")}),n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return n.removeClass("fc-transitioning")})):void 0},t.prototype.getMaxTrInnerHeight=function(){var t;return t=0,e.each(this.trHash,function(e){return function(e,n){var i;return i=ae(n).find("> div:not(.fc-cell-content):first"),t=Math.max(i.height(),t)}}(this)),t},t.prototype.setTrInnerHeight=function(t){return e.each(this.trHash,function(e){return function(e,n){return ae(n).find("> div:not(.fc-cell-content):first").height(t)}}(this))},t.prototype.shown=function(){return this.hasOwnRow?this.rowShown(this):void 0},t.prototype.hidden=function(){return this.hasOwnRow?this.rowHidden(this):void 0},t.prototype.rowShown=function(e){return(this.parent||this.view).rowShown(e)},t.prototype.rowHidden=function(e){return(this.parent||this.view).rowHidden(e)},t.prototype.added=function(){return this.hasOwnRow?this.rowAdded(this):void 0},t.prototype.removed=function(){return this.hasOwnRow?this.rowRemoved(this):void 0},t.prototype.rowAdded=function(e){return(this.parent||this.view).rowAdded(e)},t.prototype.rowRemoved=function(e){return(this.parent||this.view).rowRemoved(e)},t}(),P=function(t){function n(e,t,i){this.groupSpec=t,this.groupValue=i,n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.prototype.groupSpec=null,n.prototype.groupValue=null,n.prototype.rowRemoved=function(e){return n.__super__.rowRemoved.apply(this,arguments),e===this||this.children.length?void 0:this.remove()},n.prototype.renderGroupContentEl=function(){var t,n;return t=e('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),n=this.groupSpec.render,"function"==typeof n&&(t=n(t,this.groupValue)||t),t},n.prototype.renderGroupTextEl=function(){var t,n;return n=this.groupValue||"",t=this.groupSpec.text,"function"==typeof t&&(n=t(n)||n),e('<span class="fc-cell-text" />').text(n)},n}(F),p=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.prototype.hasOwnRow=!0,n.prototype.renderSpreadsheetContent=function(t){var n;return n=this.renderGroupContentEl(),n.prepend('<span class="fc-icon fc-expander" />'),e('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(e("<div/>").append(n)).appendTo(t)},n.prototype.renderEventContent=function(e){return e.append('<td class="fc-divider"> <div/> </td>')},n}(P),$=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.prototype.rowspan=0,n.prototype.leadingTr=null,n.prototype.groupTd=null,n.prototype.rowShown=function(e){return this.rowspan+=1,this.renderRowspan(),n.__super__.rowShown.apply(this,arguments)},n.prototype.rowHidden=function(e){return this.rowspan-=1,this.renderRowspan(),n.__super__.rowHidden.apply(this,arguments)},n.prototype.renderRowspan=function(){var t;return this.rowspan?(this.groupTd||(this.groupTd=e('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),t=this.getLeadingRow().getTr("spreadsheet"),t!==this.leadingTr?(t&&t.prepend(this.groupTd),this.leadingTr=t):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},n}(P),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ae(t,e),t.prototype.hasOwnRow=!0,t.prototype.segContainerEl=null,t.prototype.segContainerHeight=null,t.prototype.innerEl=null,t.prototype.bgSegContainerEl=null,t.prototype.isSegsRendered=!1,t.prototype.bgSegs=null,t.prototype.fgSegs=null,t.prototype.renderEventContent=function(e){return e.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=e.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=e.find("td > div"),this.ensureSegsRendered()},t.prototype.ensureSegsRendered=function(){return this.isSegsRendered?void 0:(this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0)},t.prototype.unrenderEventContent=function(){return this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},t}(F),D=function(t){function n(e,t){this.resource=t,n.__super__.constructor.apply(this,arguments)}return Ae(n,t),n.prototype.resource=null,n.prototype.rowAdded=function(e){return n.__super__.rowAdded.apply(this,arguments),e!==this&&this.isRendered&&1===this.children.length?(this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()):void 0},n.prototype.rowRemoved=function(e){return n.__super__.rowRemoved.apply(this,arguments),e!==this&&this.isRendered&&!this.children.length?this.disableExpanding():void 0},n.prototype.render=function(){return n.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},n.prototype.renderEventContent=function(e){return n.__super__.renderEventContent.apply(this,arguments),e.attr("data-resource-id",this.resource.id)},n.prototype.renderSpreadsheetContent=function(t){var n,i,r,s,o,a,l,u,c;for(l=this.resource,a=this.view.colSpecs,s=0,o=a.length;o>s;s++)n=a[s],n.group||(r=n.field?l[n.field]||null:l,c="function"==typeof n.text?n.text(l,r):r,i=e('<div class="fc-cell-content">'+(n.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(c?fe(c):"&nbsp;")+"</span></div>"),"function"==typeof n.render&&(i=n.render(l,i,r)||i),u=e('<td class="'+this.view.widgetContentClass+'"/>').append(i),n.isMain&&u.wrapInner("<div/>"),t.append(u));return t.attr("data-resource-id",l.id)},n.prototype.renderGutterHtml=function(){var e,t,n,i;for(e="",t=n=0,i=this.depth;i>n;t=n+=1)e+='<span class="fc-icon"/>';return e+='<span class="fc-icon fc-expander-space"/>'},n}(c),d.views.timeline.resourceClass=H,S=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ae(t,e),t.mixin(j),t.prototype.timeGridClass=R,t.prototype.dayGridClass=_,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResources=function(e){return this.timeGrid.setResources(e),this.dayGrid&&this.dayGrid.setResources(e),this.clearView(),this.displayView()},t.prototype.unsetResources=function(){return this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),this.clearView(),this.displayView()},t}(d.AgendaView),d.views.agenda.queryResourceClass=function(e){var t;return(null!=(t=e.options.groupByResource||e.options.groupByDateAndResource)?t:1===e.duration.as("days"))?S:void 0},x=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ae(t,e),t.mixin(j),t.prototype.dayGridClass=_,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResources=function(e){return this.dayGrid.setResources(e),this.clearView(),this.displayView()},t.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},t}(d.BasicView),k=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ae(t,e),t.mixin(j),t.prototype.dayGridClass=_,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResources=function(e){return this.dayGrid.setResources(e),this.clearView(),this.displayView()},t.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},t}(d.MonthView),d.views.basic.queryResourceClass=function(e){var t;return(null!=(t=e.options.groupByResource||e.options.groupByDateAndResource)?t:1===e.duration.as("days"))?x:void 0},d.views.month.queryResourceClass=function(e){return e.options.groupByResource||e.options.groupByDateAndResource?k:void 0},w="2016-02-18",W={years:1,weeks:1},f="http://fullcalendar.io/scheduler/license/",b=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Re=function(e,t){return ve(window.location.href)||be(e)||ne(t)?void 0:He('Please use a valid license key. <a href="'+f+'">More Info</a>',t)},be=function(n){var i,r,s,o;return-1!==e.inArray(n,b)?!0:(r=(n||"").match(/^(\d+)\-fcs\-(\d+)$/),r&&10===r[1].length&&(s=t.utc(1e3*parseInt(r[2])),o=t.utc(d.mockSchedulerReleaseDate||w),o.isValid()&&(i=o.clone().subtract(W),s.isAfter(i)))?!0:!1)},ve=function(e){return Boolean(e.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},He=function(t,n){return n.append(e('<div class="fc-license-message" />').html(t))},void(ne=function(e){return e.find(".fc-license-message").length>=1}))}),/*! tinyColorPicker - v1.0.0 2015-08-02 */
!function(e,t){"use strict";function n(e,n,i,s,o){if("string"==typeof n){var n=b.txt2color(n);i=n.type,p[i]=n[i],o=o!==t?o:n.alpha}else if(n)for(var a in n)e[i][a]=c(n[a]/d[i][a][1],0,1);return o!==t&&(e.alpha=+o),r(i,s?e:t)}function i(e,t,n){var i=h.options.grey,r={};return r.RGB={r:e.r,g:e.g,b:e.b},r.rgb={r:t.r,g:t.g,b:t.b},r.alpha=n,r.equivalentGrey=Math.round(i.r*e.r+i.g*e.g+i.b*e.b),r.rgbaMixBlack=l(t,{r:0,g:0,b:0},n,1),r.rgbaMixWhite=l(t,{r:1,g:1,b:1},n,1),r.rgbaMixBlack.luminance=a(r.rgbaMixBlack,!0),r.rgbaMixWhite.luminance=a(r.rgbaMixWhite,!0),h.options.customBG&&(r.rgbaMixCustom=l(t,h.options.customBG,n,1),r.rgbaMixCustom.luminance=a(r.rgbaMixCustom,!0),h.options.customBG.luminance=a(h.options.customBG,!0)),r}function r(e,t){var n,r,c,f=t||p,g=b,m=h.options,v=d,y=f.RND,w="",S="",x={hsl:"hsv",rgb:e},_=y.rgb;if("alpha"!==e){for(var C in v)if(!v[C][C]){e!==C&&(S=x[C]||"rgb",f[C]=g[S+"2"+C](f[S])),y[C]||(y[C]={}),n=f[C];for(w in n)y[C][w]=Math.round(n[w]*v[C][w][1])}_=y.rgb,f.HEX=g.RGB2HEX(_),f.equivalentGrey=m.grey.r*f.rgb.r+m.grey.g*f.rgb.g+m.grey.b*f.rgb.b,f.webSave=r=s(_,51),f.webSmart=c=s(_,17),f.saveColor=_.r===r.r&&_.g===r.g&&_.b===r.b?"web save":_.r===c.r&&_.g===c.g&&_.b===c.b?"web smart":"",f.hueRGB=b.hue2RGB(f.hsv.h),t&&(f.background=i(_,f.rgb,f.alpha))}var T,E,k,D=f.rgb,R=f.alpha,M="luminance",H=f.background;return T=l(D,{r:0,g:0,b:0},R,1),T[M]=a(T,!0),f.rgbaMixBlack=T,E=l(D,{r:1,g:1,b:1},R,1),E[M]=a(E,!0),f.rgbaMixWhite=E,m.customBG&&(k=l(D,H.rgbaMixCustom,R,1),k[M]=a(k,!0),k.WCAG2Ratio=u(k[M],H.rgbaMixCustom[M]),f.rgbaMixBGMixCustom=k,k.luminanceDelta=Math.abs(k[M]-H.rgbaMixCustom[M]),k.hueDelta=o(H.rgbaMixCustom,k,!0)),f.RGBLuminance=a(_),f.HUELuminance=a(f.hueRGB),m.convertCallback&&m.convertCallback(f,e),f}function s(e,t){var n={},i=0,r=t/2;for(var s in e)i=e[s]%t,n[s]=e[s]+(i>r?t-i:-i);return n}function o(e,t,n){return(Math.max(e.r-t.r,t.r-e.r)+Math.max(e.g-t.g,t.g-e.g)+Math.max(e.b-t.b,t.b-e.b))*(n?255:1)/765}function a(e,t){for(var n=t?1:255,i=[e.r/n,e.g/n,e.b/n],r=h.options.luminance,s=i.length;s--;)i[s]=i[s]<=.03928?i[s]/12.92:Math.pow((i[s]+.055)/1.055,2.4);return r.r*i[0]+r.g*i[1]+r.b*i[2]}function l(e,n,i,r){var s={},o=i!==t?i:1,a=r!==t?r:1,l=o+a*(1-o);for(var u in e)s[u]=(e[u]*o+n[u]*a*(1-o))/l;return s.a=l,s}function u(e,t){var n=1;return n=e>=t?(e+.05)/(t+.05):(t+.05)/(e+.05),Math.round(100*n)/100}function c(e,t,n){return e>n?n:t>e?t:e}var d={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},h={},p={},f={r:.298954,g:.586434,b:.114612},g={r:.2126,g:.7152,b:.0722},m=e.Colors=function(e){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:f,luminance:g,valueRanges:d},v(this,e||{})},v=function(e,i){var r,s=e.options;y(e);for(var o in i)i[o]!==t&&(s[o]=i[o]);r=s.customBG,s.customBG="string"==typeof r?b.txt2color(r).rgb:r,p=n(e.colors,s.color,t,!0)},y=function(e){h!==e&&(h=e,p=e.colors)};m.prototype.setColor=function(e,i,s){return y(this),e?n(this.colors,e,i,t,s):(s!==t&&(this.colors.alpha=s),r(i))},m.prototype.setCustomBackground=function(e){return y(this),this.options.customBG="string"==typeof e?b.txt2color(e).rgb:e,n(this.colors,t,"rgb")},m.prototype.saveAsBackground=function(){return y(this),n(this.colors,t,"rgb",!0)};var b={txt2color:function(e){var t={},n=e.replace(/(?:#|\)|%)/g,"").split("("),i=(n[1]||"").split(/,\s*/),r=n[1]?n[0].substr(0,3):"rgb",s="";if(t.type=r,t[r]={},n[1])for(var o=3;o--;)s=r[o]||r.charAt(o),t[r][s]=+i[o]/d[r][s][1];else t.rgb=b.HEX2rgb(n[0]);return t.alpha=i[3]?+i[3]:1,t},RGB2HEX:function(e){return((e.r<16?"0":"")+e.r.toString(16)+(e.g<16?"0":"")+e.g.toString(16)+(e.b<16?"0":"")+e.b.toString(16)).toUpperCase()},HEX2rgb:function(e){return e=e.split(""),{r:parseInt(e[0]+e[e[3]?1:0],16)/255,g:parseInt(e[e[3]?2:1]+(e[3]||e[1]),16)/255,b:parseInt((e[4]||e[2])+(e[5]||e[2]),16)/255}},hue2RGB:function(e){var t=6*e,n=~~t%6,i=6===t?0:t-n;return{r:Math.round(255*[1,1-i,0,0,i,1][n]),g:Math.round(255*[i,1,1,1-i,0,0][n]),b:Math.round(255*[0,0,i,1,1,1-i][n])}},rgb2hsv:function(e){var t,n,i,r=e.r,s=e.g,o=e.b,a=0;return o>s&&(s=o+(o=s,0),a=-1),n=o,s>r&&(r=s+(s=r,0),a=-2/6-a,n=Math.min(s,o)),t=r-n,i=r?t/r:0,{h:1e-15>i?p&&p.hsl&&p.hsl.h||0:t?Math.abs(a+(s-o)/(6*t)):0,s:r?t/r:p&&p.hsv&&p.hsv.s||0,v:r}},hsv2rgb:function(e){var t=6*e.h,n=e.s,i=e.v,r=~~t,s=t-r,o=i*(1-n),a=i*(1-s*n),l=i*(1-(1-s)*n),u=r%6;return{r:[i,a,o,o,l,i][u],g:[l,i,i,a,o,o][u],b:[o,o,l,i,i,a][u]}},hsv2hsl:function(e){var t=(2-e.s)*e.v,n=e.s*e.v;return n=e.s?1>t?t?n/t:0:n/(2-t):0,{h:e.h,s:e.v||n?n:p&&p.hsl&&p.hsl.s||0,l:t/2}},rgb2hsl:function(e,t){var n=b.rgb2hsv(e);return b.hsv2hsl(t?n:p.hsv=n)},hsl2rgb:function(e){var t=6*e.h,n=e.s,i=e.l,r=.5>i?i*(1+n):i+n-n*i,s=i+i-r,o=r?(r-s)/r:0,a=~~t,l=t-a,u=r*o*l,c=s+u,d=r-u,h=a%6;return{r:[r,d,s,s,c,r][h],g:[c,r,r,d,s,s][h],b:[s,s,c,r,r,d][h]}}}}(window),function(e,t,n){"use strict";function i(t){return t.value||t.getAttribute("value")||e(t).css("background-color")||"#fff"}function r(e){return e=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e,e.originalEvent?e.originalEvent:e}function s(t){return e(t.find(y.doRender)[0]||t[0])}function o(t){var n=e(this),r=n.offset(),o=e(window),l=y.gap;t?(b=s(n),m.$trigger=n,(w||a()).css({left:(w[0]._left=r.left)-((w[0]._left=w[0]._left+w[0]._width-(o.scrollLeft()+o.width()))+l>0?w[0]._left+l:0),top:(w[0]._top=r.top+n.outerHeight())-((w[0]._top=w[0]._top+w[0]._height-(o.scrollTop()+o.height()))+l>0?w[0]._top+l:0)}).show(y.animationSpeed,function(){t!==!0&&(C._width=C.width(),S._width=S.width(),S._height=S.height(),v.setColor(i(b[0])),p(!0))})):e(w).hide(y.animationSpeed,function(){b.blur(),m.$trigger=null,p(!1)})}function a(){return e("head").append('<style type="text/css">'+(y.css||F)+(y.cssAddon||"")+"</style>"),m.$UI=w=e(P).css({margin:y.margin}).appendTo("body").show(0,function(){var t=e(this);H=y.GPU&&t.css("perspective")!==n,S=e(".cp-xy-slider",this),x=e(".cp-xy-cursor",this),_=e(".cp-z-cursor",this),C=e(".cp-alpha",this).toggle(!!y.opacity),T=e(".cp-alpha-cursor",this),y.buildCallback.call(m,t),t.prepend("<div>").children().eq(0).css("width",t.children().eq(0).width()),this._width=this.offsetWidth,this._height=this.offsetHeight}).hide().on(R,".cp-xy-slider,.cp-z-slider,.cp-alpha",l)}function l(t){var n=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");t.preventDefault&&t.preventDefault(),t.returnValue=!1,b._offset=e(this).offset(),(n="xy_slider"===n?c:"z_slider"===n?d:h)(t),E.on(M,u).on(D,n)}function u(){E.off(".a")}function c(e){var t=r(e),n=t.pageX-b._offset.left,i=t.pageY-b._offset.top;v.setColor({s:n/S._width*100,v:100-i/S._height*100},"hsv"),p()}function d(e){var t=r(e).pageY-b._offset.top;v.colors.hsv,v.setColor({h:360-t/S._height*360},"hsv"),p()}function h(e){var t=r(e).pageX-b._offset.left,n=t/C._width;v.setColor({},"rgb",n>1?1:0>n?0:n),p()}function p(e){var t=v.colors,i=t.hueRGB,r=t.RND.rgb,s=t.RND.hsl,o="#222",a="#ddd",l=b.data("colorMode"),u=1!==t.alpha,c=Math.round(100*t.alpha)/100,d=r.r+", "+r.g+", "+r.b,h="HEX"!==l||u?"rgb"===l||"HEX"===l&&u?u?"rgba("+d+", "+c+")":"rgb("+d+")":"hsl"+(u?"a(":"(")+s.h+", "+s.s+"%, "+s.l+"%"+(u?", "+c:"")+")":"#"+t.HEX,p=t.HUELuminance>.22?o:a,g=t.rgbaMixBlack.luminance>.22?o:a,m=(1-t.hsv.h)*S._height,y=t.hsv.s*S._width,w=(1-t.hsv.v)*S._height,E=c*C._width,k=H?"translate3d":"",D=b.val(),R=b[0].hasAttribute("value")&&""===D&&e!==n;S._css={backgroundColor:"rgb("+i.r+","+i.g+","+i.b+")"},x._css={transform:k+"("+y+"px, "+w+"px, 0)",left:H?"":y,top:H?"":w,borderColor:t.RGBLuminance>.22?o:a},_._css={transform:k+"(0, "+m+"px, 0)",top:H?"":m,borderColor:"transparent "+p},C._css={backgroundColor:"rgb("+d+")"},T._css={transform:k+"("+E+"px, 0, 0)",left:H?"":E,borderColor:g+" transparent"},b._css={backgroundColor:R?"":h,color:R?"":t.rgbaMixBGMixCustom.luminance>.22?o:a},b.text=R?"":D!==h?h:"",e!==n?f(e):j(f)}function f(e){S.css(S._css),x.css(x._css),_.css(_._css),C.css(C._css),T.css(T._css),y.doRender&&b.css(b._css),b.text&&b.val(b.text),y.renderCallback.call(m,b,"boolean"==typeof e?e:n)}var g,m,v,y,b,w,S,x,_,C,T,E=e(document),k="",D="touchmove.a mousemove.a pointermove.a",R="touchstart.a mousedown.a pointerdown.a",M="touchend.a mouseup.a pointerup.a",H=!1,j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){e()},P='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',F=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",I=function(e){v=this.color=new t(e),y=v.options};I.prototype={render:p,toggle:o},e.fn.colorPicker=function(t){var n=function(){};return t=e.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:n,buildCallback:n,body:document.body,scrollResize:!0,gap:4},t),!m&&t.scrollResize&&e(window).on("resize.a scroll.a",function(){m.$trigger&&m.toggle.call(m.$trigger[0],!0)}),g=g?g.add(this):this,g.colorPicker=m||(m=new I(t)),k+=(k?", ":"")+this.selector,e(t.body).off(".a").on(R,function(t){var n=e(t.target);-1!==e.inArray(n.closest(k)[0],g)||n.closest(w).length||o()}).on("focus.a click.a",k,o).on("change.a",k,function(){v.setColor(this.value||"#FFF"),g.colorPicker.render(!0)}),this.each(function(){var n=i(this),r=n.split("("),o=s(e(this));o.data("colorMode",r[1]?r[0].substr(0,3):"HEX").attr("readonly",y.preventFocus),t.doRender&&o.css({"background-color":n,color:function(){return v.setColor(n).rgbaMixBGMixCustom.luminance>.22?"#222":"#ddd"}})})},e.fn.colorPicker.destroy=function(){e(m.color.options.body).off(".a"),m.toggle(!1),g=null,k=""}}(jQuery,Colors),function(){this.Gws_Popup=function(){function e(){}return e.init=null,e.render=function(e,t){var n;return this.init||(this.init=!0,$(window).resize(function(){return $(".gws-popup").remove()}),$(document).click(function(e){return $(e.target).closest(".gws-popup, .gws-popup-event").length?void 0:$(".gws-popup").remove()})),$(".gws-popup").remove(),n=$("<div class='gws-popup'></div>").html($(t)),$("body").append(n),e.addClass("gws-popup-event"),this.renderPopup(e)},e.renderPopup=function(e){var t,n,i;return t=$(".gws-popup"),$(window).width()<1.5*t.outerWidth()&&t.css("max-width",$(window).width()/2),n=e.offset().left+e.outerWidth()/2-t.outerWidth()/2,i=e.offset().top-t.outerHeight()-20,0>n?(n=e.offset().left+e.outerWidth()/2-20,t.addClass("left")):t.removeClass("left"),n+t.outerWidth()>$(window).width()?(n=e.offset().left-t.outerWidth()+e.outerWidth()/2+20,t.addClass("right")):t.removeClass("right"),0>i?(i=e.offset().top+e.outerHeight(),t.addClass("top")):t.removeClass("top"),t.css({left:n,top:i}).animate({top:"+=10",opacity:1},50)},e}()}.call(this),function(){this.Gws_Member=function(){function e(){}return e.groups=null,e.users=null,e.render=function(){return $(".js-copy-groups").length<2&&($(".js-copy-groups").remove(),$(".js-paste-groups").remove()),$(".js-copy-groups").click(function(){return e.copyGroups($(this))}),$(".js-paste-groups").click(function(){return e.pasteGroups($(this))}),$(".js-copy-users").length<2&&($(".js-copy-users").remove(),$(".js-paste-users").remove()),$(".js-copy-users").click(function(){return e.copyUsers($(this))}),$(".js-paste-users").click(function(){return e.pasteUsers($(this))})},e.confirmReadableSetting=function(){return $(".save").on("click",function(){return 0===$(".gws-addon-readable-setting tbody tr").length?confirm("\u95b2\u89a7\u8005\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u5168\u54e1\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"):void 0})},e.copyGroups=function(e){return this.groups=e.closest("dl").find("tbody tr").clone(!0),this.showLog(e,this.groups.length+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},e.pasteGroups=function(e){var t;return t=this.pasteItems(e,this.groups),this.showLog(e,t+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},e.copyUsers=function(e){return this.users=e.closest("dl").find("tbody tr").clone(!0),this.showLog(e,this.users.length+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},e.pasteUsers=function(e){var t;return t=this.pasteItems(e,this.users),this.showLog(e,t+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},e.pasteItems=function(e,t){var n,i,r,s;return t&&0!==t.length?(n=e.closest("dl"),n.find("table").show(),s=n.find("tbody"),i=n.find(".hidden-ids").attr("name"),r=0,t.each(function(){var e;return 0===s.find("tr[data-id="+$(this).data("id")+"]").length?(e=$(this).clone(!0),e.find("input").attr("name",i),s.append(e),r+=1):void 0}),r):0},e.showLog=function(e,t){return $(".gws-member-log").remove(),$("<span class='gws-member-log'>"+t+"</span>").appendTo(e.parent()).hide().fadeIn(200)},e}()}.call(this),function(){this.Gws_Reminder=function(){function e(){}return e.renderAddon=function(e){var t,n;return null==e&&(e={}),t=$(".gws-addon-reminder"),n={data:{item:{item_id:t.find("#item_id").val(),model:t.find("#item_model").val(),name:t.find("#item_name").val()}},beforeSend:function(e){return $(".gws-addon-reminder-label").html("")},success:function(e){return $(".gws-addon-reminder-label").html(e)},error:function(e){return alert("Error")}},$.extend(!0,n,e),$("#gws-addon-reminder-set").click(function(){var e;return e={method:"post"},$.extend(!0,e,n),e.data.item.date=t.find("#item_date").val(),$.ajax(e)}),$("#gws-addon-reminder-unset").click(function(){var e;return e={method:"post"},$.extend(!0,e,n),e.data._method="delete",$.ajax(e)})},e.renderList=function(e){return null==e&&(e={}),$(".list-item").each(function(){return $(this).find(".links").append('<a class="restore" href="#" style="display: none;">\u5143\u306b\u623b\u3059</a>')}),$(".list-item .delete").click(function(){var t;return t=$(this).closest(".list-item"),$.ajax({url:e.url,method:"post",data:{_method:"delete",item:{item_id:t.data("id"),model:t.data("model"),name:t.data("name"),date:t.data("date")}},success:function(e){return t.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").hide(),t.find(".restore").show(),!1},error:function(e){return alert("Error")}})}),$(".list-item .restore").click(function(){var t;return t=$(this).closest(".list-item"),$.ajax({url:e.url,method:"post",data:{item:{item_id:t.data("id"),model:t.data("model"),name:t.data("name"),date:t.data("date")}},success:function(e){return t.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").show(),t.find(".restore").hide(),!1},error:function(e){return alert("Error")}})})},e}()}.call(this),function(){this.Gws_Schedule_Calendar=function(){function e(){}return e.messages={noPlan:"\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093"},e.render=function(e,t,n){var i;return null==t&&(t={}),null==n&&(n={}),i=this.defaultParams(t),t.restUrl&&$.extend(!0,i,this.editableParams(t)),t.restUrl&&$.extend(!0,i,this.tapMenuParams(t)),$.extend(!0,i,t),$(e).fullCalendar(i),this.renderInitialize(e,n)},e.renderInitialize=function(e,t){return null==t&&(t={}),t.view&&$(e).fullCalendar("changeView",t.view),t.date&&$(e).fullCalendar("gotoDate",t.date),$(e).find(".fc-toolbar h2").datetimepicker({lang:"ja",timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,onSelectDate:function(e,t){return $(".calendar").fullCalendar("gotoDate",e.dateFormat("Y-m-d"))}})},e.defaultParams=function(e){return{buttonText:{listMonth:"\u30ea\u30b9\u30c8"},columnFormat:{month:"ddd",week:"M/D [(]ddd[)]",day:"M/D [(]ddd[)]"},contentHeight:"auto",displayEventEnd:{basicWeek:!0},endParam:"s[end]",fixedWeekCount:!1,header:{left:"today prev next title",right:"month basicWeek agendaDay listMonth"},lang:"ja",nextDayThreshold:"00:00:00",schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",slotLabelFormat:"HH:mm",startParam:"s[start]",timeFormat:"HH:mm",titleFormat:{month:"YYYY\u5e74 M\u6708",week:"(YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09)",day:"YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09"},loading:function(e,t){return e?$(this).find(".fc-widget-content").eq(0).prepend('<span class="fc-loading">\u8aad\u307f\u8fbc\u307f\u4e2d</span>'):$(this).find(".fc-loading").remove()}}},e.tapMenuParams=function(e){var t;return t=e.restUrl,{dayClick:function(n,i,r){var s,o,a;return e.tapMenu?(o=new Date,a=n.format()+"T"+o.getHours()+":00:00",s="<a href='"+t+"/new?start="+a+"' class='add-plan'>\u4e88\u5b9a\u3092\u4f5c\u6210</a>",$("body").append('<div class="tap-menu">'+s+"</div>"),$(".tap-menu").show().css("left",i.pageX-5).css("top",i.pageY-5).show(),$(".tap-menu a").click(function(){var e;return $(this).data("view")?(e=r.calendar.getCalendar(),e.changeView($(this).data("view")),e.gotoDate(n),$(".tap-menu").remove(),!1):void 0}),$(".tap-menu").mouseleave(function(){return $(".tap-menu").remove()})):void 0}}},e.editableParams=function(e){var t;return t=e.restUrl,{editable:!0,eventClick:function(e,n,i){var r;if(!$(this).hasClass("fc-holiday"))return r=$(this),Gws_Popup.render(r,"<div class='fc-popup'><span class='fc-loading'>\u8aad\u307f\u8fbc\u307f\u4e2d</span></div>"),$.ajax({url:t+"/"+e.id+"/popup",success:function(e){return $(".fc-popup").html(e),Gws_Popup.renderPopup(r)}})},eventDrop:function(e,n,i,r,s,o){var a;return a=null,e.end&&(a=e.end.format()),$.ajax({type:"PUT",url:t+"/"+e.id+".json",data:{item:{api:"drop",api_start:e.start.format(),api_end:a}},success:function(e,t){var n;return n=o.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(e,t,n){return alert(e.responseJSON.join("\n")),i()}})},eventResize:function(e,n,i){return $.ajax({type:"PUT",url:t+"/"+e.id+".json",data:{item:{api:"resize",api_start:e.start.format(),api_end:e.end.format()}},success:function(e,t){var n;return n=view.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(e,t,n){return alert(e.responseJSON.join("\n")),i()}})}}},e}()}.call(this);var FC=$.fullCalendar,View=FC.View;BasicHourView=FC.views.basicHour=FC.BasicView.extend({renderEvents:function(e){this.dayGrid.renderEvents(e),head='<tr><td class="fc-head-container fc-widget-header">',head+='<div class="fc-row fc-widget-header">',head+="<table><thead><tr>";for(i in[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])head+='<th class="fc-day-header fc-widget-header fc-hour-'+i+'">'+i+"</th>";head+="</tr></thead></table>",head+="</div>",head+="</td></tr>",this.el.find(".fc-head").html(head)}}),BasicHourView.eventRender=function(e,t,n){var i=BasicHourView.eventLeftPosition(e,n),r=BasicHourView.eventRightPosition(e,n),s=r-i;1>s&&(s=1),t.find(".fc-time").remove(),t.css({position:"absolute",top:"2px",width:s.toString()+"%","margin-left":i+"%"})},BasicHourView.eventLeftPosition=function(e,t){if(nums=BasicHourView.datesToNum(e.start,t.start),nums[0]<nums[1])return 0;var n=new Date(e.start._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.eventRightPosition=function(e,t){if(!e.end)return 1;if(nums=BasicHourView.datesToNum(e.end,t.end),nums[0]==nums[1])return 99.5;var n=new Date(e.end._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.datesToNum=function(e,t){return num1=1e4*e.year()+100*(e.month()+1)+e.date(),num2=1e4*t.year()+100*(t.month()+1)+t.date(),[num1,num2]};var FC=$.fullCalendar,View=FC.View,ListMonthView=FC.ListMonthView=FC.BasicView.extend({renderEvents:function(e){var t=this.calendar,n=$('<div class="fc-listMonth-view-container"></div>').appendTo(".fc-listMonth-view"),i=$('<div class="fc-listMonth-view-table"></div>');for(var r in e){var s=e[r];if(-1==s.className.indexOf("fc-holiday")){var o=$('<a class="fc-event fc-event-point"></a>').text(s.title);o.css({color:s.textColor,"background-color":s.backgroundColor}),o.bind("click",function(n){var i=$(this).data("eventNo");return t.view.trigger("eventClick",$(this),e[i],n)}).data("eventNo",r);var a=$('<div class="td info"></div>').append(o),l=$('<div class="td date"></div>').text(s.startDateLabel),u=$('<div class="td time"></div>').text(s.startTimeLabel);s.allDay&&u.text(s.allDayLabel),$('<div class="tr"></div>').appendTo(i).append(l).append(u).append(a),i.appendTo(n)}}if(0==$(".fc-event").length){var c=$('<div class="td">'+Gws_Schedule_Calendar.messages.noPlan+"</div>");$('<div class="tr"></div>').appendTo(i).append(c),i.appendTo(n)}}});FC.views.listMonth={"class":ListMonthView,duration:{months:1},defaults:{fixedWeekCount:!1}},function(){this.Gws_Schedule_Multiple_Calendar=function(){function e(){}return e.render=function(e,t,n){var i;return null==t&&(t={}),null==n&&(n={}),i=Gws_Schedule_Calendar.defaultParams(t),t.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.editableParams(t)),t.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.tapMenuParams(t)),$.extend(!0,i,this.defaultParams(t)),$.extend(!0,i,this.contentParams(t)),$.extend(!0,i,t),$(e).fullCalendar(i),Gws_Schedule_Calendar.renderInitialize(e,n),$(document).click(function(e){return $(".fc-event").not($(e.target).closest(".fc-event")).find(".fc-popup").remove()})},e.defaultParams=function(e){return{defaultView:"basicWeek",header:{left:"today prev next title",right:"basicWeek timelineDay"},slotDuration:"01:00",slotLabelFormat:"H",views:{basicHour:{type:"day",buttonText:"\u65e5",contentHeight:25},timelineDay:{contentHeight:25,minTime:"08:00",maxTime:"22:00"}}}},e.controllerParams=function(e){return{header:{left:"today prev next title",right:"basicWeek timelineDay"},eventSources:[],eventAfterAllRender:function(e){return"basicWeek"===e.name?e.el.find(".fc-body").hide():void 0}}},e.contentParams=function(e){return{eventRender:function(e,t,n){return"basicHour"===n.name?BasicHourView.eventRender(e,t,n):void 0},eventAfterAllRender:function(e){}}},e.renderController=function(e,t,n){var i,r;return null==t&&(t={}),null==n&&(n={}),r=Gws_Schedule_Calendar.defaultParams(t),$.extend(!0,r,this.defaultParams(t)),$.extend(!0,r,this.controllerParams(t)),$.extend(!0,r,t),$(e).fullCalendar(r),Gws_Schedule_Calendar.renderInitialize(e,n),i=$(e),i.find(".fc-today-button").click(function(){return $(".calendar.multiple .fc-today-button").click()}),i.find(".fc-prev-button").click(function(){return $(".calendar.multiple .fc-prev-button").click()}),i.find(".fc-next-button").click(function(){return $(".calendar.multiple .fc-next-button").click()}),i.find(".fc-basicWeek-button").click(function(){return $(".calendar.multiple .fc-basicWeek-button").click()}),i.find(".fc-timelineDay-button").click(function(){return $(".calendar.multiple .fc-timelineDay-button").click()}),i.find(".fc-basicHour-button").click(function(){return $(".calendar.multiple .fc-basicHour-button").click()})},e}()}.call(this),function(){this.Gws_Schedule_Plan=function(){function e(){}return e.diffOn=36e5,e.renderForm=function(e){return null==e&&(e={}),$(".date").datetimepicker({lang:"ja",timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,maxDate:e.maxDate}),$(".datetime").datetimepicker({lang:"ja",roundTime:"ceil",step:30,maxDate:e.maxDate}),this.relateDateForm(),this.relateDateTimeForm()},e.renderAlldayForm=function(){return this.changeDateForm(),$("#item_allday").change(function(){return e.changeDateValue(),e.changeDateForm()})},e.changeDateValue=function(){var e,t;return $("#item_allday").prop("checked")?($("#item_start_on").val($("#item_start_at").val().replace(/ .*/,"")),$("#item_end_on").val($("#item_end_at").val().replace(/ .*/,""))):(t=$("#item_start_at").val().replace(/.* /,""),e=$("#item_end_at").val().replace(/.* /,""),""===t&&""!==$("#item_start_on").val()&&(t="00:00"),""===e&&""!==$("#item_end_on").val()&&(e="00:00"),$("#item_start_at").val($("#item_start_on").val()+(" "+t)),$("#item_end_at").val($("#item_end_on").val()+(" "+e)))},e.changeDateForm=function(){return $("#item_allday").prop("checked")?($(".dates-field").show(),$(".datetimes-field").hide()):($(".dates-field").hide(),$(".datetimes-field").show())},e.relateDateForm=function(t,n){return null==t&&(t=".date.start"),null==n&&(n=".date.end"),$(t+", "+n).click(function(){return e.diffOn=e.diffDates($(t).val(),$(n).val())}),$(t).change(function(){var i,r,s;return s=$(t).val(),s&&(s=new Date(s).getTime(),!isNaN(s))?(i=new Date,i.setTime(s+e.diffOn),r="%d/%02d/%02d",$(t).hasClass("datetime")&&(r="%d/%02d/%02d %02d:%02d"),$(n).val(sprintf(r,i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()))):void 0}),""===$(n).val()?$(t).change():void 0},e.relateDateTimeForm=function(){return this.relateDateForm(".datetime.start",".datetime.end")},e.diffDates=function(e,t){var n;return e&&t?(n=new Date(t).getTime()-new Date(e).getTime(),0>n?0:n):36e5},e}()}.call(this),function(){this.Gws_Schedule_Repeat_Plan=function(){function e(){}return e.renderForm=function(){return this.changeRepeatForm(),this.relateDateForm(),$("#item_repeat_type").change(function(){return e.changeRepeatForm()})},e.changeRepeatForm=function(){var e;return e=$("#item_repeat_type").val(),""===e?$(".gws-schedule-repeat").hide():($(".gws-schedule-repeat").show(),$(".repeat-daily, .repeat-weekly, .repeat-monthly").hide(),$(".repeat-"+e).show())},e.relateDateForm=function(){return Gws_Schedule_Plan.relateDateForm(".date.repeat_start",".date.repeat_end")},e}()}.call(this),function(){$(function(){var e;return $("a[href^=http]").not('[href*="'+location.hostname+'"]').attr({target:"_blank"}),e=location.pathname+"/",$(".gws-schedule-tabs a").each(function(){var t;return t=$(this),e.match(new RegExp("^"+t.attr("href")+"(/|$)"))?t.addClass("current"):void 0}),Gws_Member.render()})}.call(this);