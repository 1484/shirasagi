//! moment.js
//! version : 2.11.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
//  Copyright (c) 2002 M.Inamori,All rights reserved.
function sprintf(){var t=sprintf.arguments,e=t.length;if(0==e)return"";var n,i,r,s="",o=t[0],a=o.length;n=0;for(var l,u,c=1,d=0,h=0;a>h;h++){var p=o.charAt(h);switch(d){case 0:"%"==p?(l=p,d=1,u=""):s+=p;break;case 1:if("%"==p){s+=p,d=0;break}switch(c>=e&&(t[e++]=""),i=0,r=-1,p){case"-":n|=1,d=1;break;case"+":n|=2,d=1;break;case"0":n|=4,d=2;break;case" ":n|=8,d=1;break;case"#":n|=16,d=1;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=parseInt(p),d=2;break;case"-":n=1,d=2;break;case".":i="",r=0,d=3;break;case"d":s+=toInteger(t[c],n,i,r),c++,d=0;break;case"f":s+=toFloatingPoint(t[c],n,i,6),c++,d=0;break;case"e":s+=toExponential(t[c],n,i,6,"e"),c++,d=0;break;case"E":s+=toExponential(t[c],n,i,6,"E"),c++,d=0;break;case"s":s+=t[c],c++,d=0;break;default:s+=u+p,d=0}break;case 2:switch(p){case".":r=0,d=3;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=10*i+parseInt(p),d=2;break;case"d":s+=toInteger(t[c],n,i,r),c++,d=0;break;case"f":s+=toFloatingPoint(t[c],n,i,6),c++,d=0;break;case"e":s+=toExponential(t[c],n,i,6,"e"),c++,d=0;break;case"E":s+=toExponential(t[c],n,i,6,"E"),c++,d=0;break;case"s":s+=toFormatString(t[c],i,r),c++,d=0;break;default:s+=u+p,d=0}break;case 3:switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=10*r+parseInt(p);break;case"d":s+=toInteger(t[c],n,i,r),c++,d=0;break;case"f":s+=toFloatingPoint(t[c],n,i,r),c++,d=0;break;case"e":s+=toExponential(t[c],n,i,r,"e"),c++,d=0;break;case"E":s+=toExponential(t[c],n,i,r,"E"),c++,d=0;break;case"s":s+=toFormatString(t[c],i,r),c++,d=0;break;default:s+=u+p,d=0}break;default:return"error"}d&&(u+=p)}return s}function toInteger(t,e,n,i){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var r=t.toString();if(t>-1&&1>t)r="0";else{0>t&&(r=r.substring(1));var s=r.indexOf("e");if(-1!=s){var o=parseInt(r.substring(s+2)),a=r.indexOf(".");for(-1==a?(r=r.substring(0,s)+"000000000000000000000",o-=21):(r=r.substring(0,a)+r.substring(a+1,s)+"00000",o-=r.length-a);o;o--)r+="0"}else{var a=r.indexOf(".");-1!=a&&(r=r.substring(0,a))}}var l=r.length;if(i>l){for(var u="0",c=i-l;c;c--)r=u+r;l=i}return ProcFlag(r,e,n-l,t>=0)}function toFloatingPoint(t,e,n,i){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var r=t>=0;return r||(t=-t),str=toFloatingPoint2(t,e,i),ProcFlag(str,e,n-str.length,r)}function toFloatingPoint2(t,e,n){var i=t.toString(),r=i.indexOf("e");if(-1!=r){var s=parseInt(i.substring(r+1));if(s>0){var o=i.indexOf(".");for(-1==o?(i=i.substring(0,r)+"000000000000000000000",s-=21):(i=i.charAt(0)+i.substring(2,r)+"00000",s-=i.length-1);s;s--)i+="0"}else{var a=s+n;if(-1>a)i="0";else if(a>=0){i=i.substring(0,r);var o=i.indexOf(".");for(-1!=o&&(i=i.charAt(0)+i.substring(2,r)),i="000000"+i,s+=7;s;s++)i="0"+i;i="0."+i}else{var l=parseFloat(i.substring(0,r));if(l>5){i="0.00000";for(var u=s+7;u;u++)i+="0";i+="1"}else i="0"}}}var c=i.length,o=i.indexOf(".");if(-1!=o){var d=c-o-1;if(d>n){var l=parseFloat(i.charAt(o+n+1)+"."+i.substring(o+n+2));if(l>5){var u;if(1>t){for(u=2;"0"==i.charAt(u);)u++;l=(parseInt(i.substring(u,n+2))+1).toString(),i=l.length>n+2-u?2==u?"1."+l.substring(1):i.substring(0,u-1)+l:i.substring(0,u)+l}else l=(parseInt(i.substring(0,o)+i.substring(o+1,o+n+1))+1).toString(),i=l.length>o+n?l.substring(0,o+1)+"."+l.substring(o+1):l.substring(0,o)+"."+l.substring(o)}else i=i.substring(0,n?o+n+1:o)}else if(n>d)for(var u=n-d;u;u--)i+="0"}else if(n){i+=".0";for(var u=n-1;u;u--)i+="0"}return i}function toExponential(t,e,n,i,r){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var s=t>=0;s||(t=-t);var o,a=t.toString(),l=a.indexOf("."),u=a.indexOf("e"),c=((-1!=u)<<1)+(-1!=l);if(0==c)(o=a.length-1)&&(a=a.charAt(0)+"."+a.substring(l=1));else if(1==c)if(t>10)o=l-1,a=a.substring(0,1)+"."+a.substring(1,l)+a.substring(l+1),l=1;else if(t>1)o=0;else{for(var d=2;;d++)if("0"!=a.charAt(d)){o=1-d,a=a.charAt(d)+"."+a.substring(d+1);break}l=1}else o=parseInt(a.substring(u+1)),a=a.substring(0,u);return a=toFloatingPoint2(parseFloat(a),e,i),a+=o>=0?r+(10>o?"+0":"+")+o:r+(o>-10?"-0"+-o:o),a=ProcFlag(a,e,n-a.length,s)}function toFormatString(t,e,n){"string"!=typeof t&&(t=t.toString());var i=t.length;if(n>=0&&i>n&&(t=t.substring(0,n),i=n),e>i)for(var r=" ",s=e-i;s;s--)t=r+t;return t}function ProcFlag(t,e,n,i){var r=1&e,s=2&e,o=8&e;if(o&&n--,n-=!i+s>0,(4&e)>0&&!r){if(n>0)for(var a="0",l=n;l;l--)t=a+t;i?s&&(t="+"+t):t="-"+t}else{i?s&&(t="+"+t):t="-"+t;var a=" ";if(n>0){var a=" ";if(r)for(var l=n;l;l--)t+=a;else for(var l=n;l;l--)t=a+t}}return o&&(t=" "+t),t}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return zn.apply(null,arguments)}function e(t){zn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return Et(t,e,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=a(NaN);return null!=t?o(u(e),t):u(e).userInvalidated=!0,e}function h(t){return void 0===t}function p(t,e){var n,i,r;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=u(e)),h(e._locale)||(t._locale=e._locale),Wn.length>0)for(n in Wn)i=Wn[n],r=e[i],h(r)||(t[i]=r);return t}function f(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Vn===!1&&(Vn=!0,t.updateOffset(this),Vn=!1)}function g(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function y(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&v(t[i])!==v(e[i]))&&o++;return o+s}function b(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function S(t){for(var e,n,i,r,s=0;s<t.length;){for(r=w(t[s]).split("-"),e=r.length,n=w(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=_(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&y(r,n,!0)>=e-1)break;e--}s++}return null}function _(t){var e=null;if(!Yn[t]&&!h(module)&&module&&module.exports)try{e=Gn._abbr,require("./locale/"+t),x(e)}catch(n){}return Yn[t]}function x(t,e){var n;return t&&(n=h(e)?E(t):C(t,e),n&&(Gn=n)),Gn._abbr}function C(t,e){return null!==e?(e.abbr=t,Yn[t]=Yn[t]||new b,Yn[t].set(e),x(t),Yn[t]):(delete Yn[t],null)}function E(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Gn;if(!n(t)){if(e=_(t))return e;t=[t]}return S(t)}function k(t,e){var n=t.toLowerCase();Un[n]=Un[n+"s"]=Un[e]=t}function T(t){return"string"==typeof t?Un[t]||Un[t.toLowerCase()]:void 0}function D(t){var e,n,i={};for(n in t)s(t,n)&&(e=T(n),e&&(i[e]=t[n]));return i}function R(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function H(e,n){return function(i){return null!=i?(j(this,e,i),t.updateOffset(this,n),this):M(this,e)}}function M(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function j(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function P(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=T(t),R(this[t]))return this[t](e);return this}function F(t,e,n){var i=""+Math.abs(t),r=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function I(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Jn[t]=r),e&&(Jn[e[0]]=function(){return F(r.apply(this,arguments),e[1],e[2])}),n&&(Jn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function N(t){var e,n,i=t.match(Xn);for(e=0,n=i.length;n>e;e++)Jn[i[e]]?i[e]=Jn[i[e]]:i[e]=L(i[e]);return function(r){var s="";for(e=0;n>e;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function A(t,e){return t.isValid()?(e=O(e,t.localeData()),Qn[e]=Qn[e]||N(e),Qn[e](t)):t.localeData().invalidDate()}function O(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Zn.lastIndex=0;i>=0&&Zn.test(t);)t=t.replace(Zn,n),Zn.lastIndex=0,i-=1;return t}function $(t,e,n){mi[t]=R(e)?e:function(t){return t&&n?n:e}}function B(t,e){return s(mi,t)?mi[t](e._strict,e._locale):new RegExp(q(t))}function q(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)vi[t[n]]=i}function G(t,e){z(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function W(t,e,n){null!=e&&s(vi,t)&&vi[t](e,n._a,n,t)}function V(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t,e){return n(this._months)?this._months[t.month()]:this._months[Ti.test(e)?"format":"standalone"][t.month()]}function U(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ti.test(e)?"format":"standalone"][t.month()]}function X(t,e,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function Z(t,e){var n;return t.isValid()?"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t):t}function Q(e){return null!=e?(Z(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function J(){return V(this.year(),this.month())}function K(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[bi]<0||n[bi]>11?bi:n[wi]<1||n[wi]>V(n[yi],n[bi])?wi:n[Si]<0||n[Si]>24||24===n[Si]&&(0!==n[_i]||0!==n[xi]||0!==n[Ci])?Si:n[_i]<0||n[_i]>59?_i:n[xi]<0||n[xi]>59?xi:n[Ci]<0||n[Ci]>999?Ci:-1,u(t)._overflowDayOfYear&&(yi>e||e>wi)&&(e=wi),u(t)._overflowWeeks&&-1===e&&(e=Ei),u(t)._overflowWeekday&&-1===e&&(e=ki),u(t).overflow=e),t}function tt(e){t.suppressDeprecationWarnings===!1&&!h(console)&&console.warn&&console.warn("Deprecation warning: "+e)}function et(t,e){var n=!0;return o(function(){return n&&(tt(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function nt(t,e){Hi[t]||(tt(e),Hi[t]=!0)}function it(t){var e,n,i,r,s,o,a=t._i,l=Mi.exec(a)||ji.exec(a);if(l){for(u(t).iso=!0,e=0,n=Fi.length;n>e;e++)if(Fi[e][1].exec(l[1])){r=Fi[e][0],i=Fi[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ii.length;n>e;e++)if(Ii[e][1].exec(l[3])){s=(l[2]||" ")+Ii[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Pi.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),yt(t)}else t._isValid=!1}function rt(e){var n=Li.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(it(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function st(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function at(t){return lt(t)?366:365}function lt(t){return t%4===0&&t%100!==0||t%400===0}function ut(){return lt(this.year())}function ct(t,e,n){var i=7+e-n,r=(7+ot(t,0,i).getUTCDay()-e)%7;return-r+i-1}function dt(t,e,n,i,r){var s,o,a=(7+n-i)%7,l=ct(t,i,r),u=1+7*(e-1)+a+l;return 0>=u?(s=t-1,o=at(s)+u):u>at(t)?(s=t+1,o=u-at(t)):(s=t,o=u),{year:s,dayOfYear:o}}function ht(t,e,n){var i,r,s=ct(t.year(),e,n),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return 1>o?(r=t.year()-1,i=o+pt(r,e,n)):o>pt(t.year(),e,n)?(i=o-pt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function pt(t,e,n){var i=ct(t,e,n),r=ct(t+1,e,n);return(at(t)-i+r)/7}function ft(t,e,n){return null!=t?t:null!=e?e:n}function gt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function mt(t){var e,n,i,r,s=[];if(!t._d){for(i=gt(t),t._w&&null==t._a[wi]&&null==t._a[bi]&&vt(t),t._dayOfYear&&(r=ft(t._a[yi],i[yi]),t._dayOfYear>at(r)&&(u(t)._overflowDayOfYear=!0),n=ot(r,0,t._dayOfYear),t._a[bi]=n.getUTCMonth(),t._a[wi]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Si]&&0===t._a[_i]&&0===t._a[xi]&&0===t._a[Ci]&&(t._nextDay=!0,t._a[Si]=0),t._d=(t._useUTC?ot:st).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Si]=24)}}function vt(t){var e,n,i,r,s,o,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,n=ft(e.GG,t._a[yi],ht(kt(),1,4).year),i=ft(e.W,1),r=ft(e.E,1),(1>r||r>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,n=ft(e.gg,t._a[yi],ht(kt(),s,o).year),i=ft(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(l=!0)):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),1>i||i>pt(n,s,o)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(a=dt(n,i,r,s,o),t._a[yi]=a.year,t._dayOfYear=a.dayOfYear)}function yt(e){if(e._f===t.ISO_8601)return void it(e);e._a=[],u(e).empty=!0;var n,i,r,s,o,a=""+e._i,l=a.length,c=0;for(r=O(e._f,e._locale).match(Xn)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(B(s,e))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&u(e).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),c+=i.length),Jn[s]?(i?u(e).empty=!1:u(e).unusedTokens.push(s),W(s,i,e)):e._strict&&!i&&u(e).unusedTokens.push(s);u(e).charsLeftOver=l-c,a.length>0&&u(e).unusedInput.push(a),u(e).bigHour===!0&&e._a[Si]<=12&&e._a[Si]>0&&(u(e).bigHour=void 0),e._a[Si]=bt(e._locale,e._a[Si],e._meridiem),mt(e),K(e)}function bt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function wt(t){var e,n,i,r,s;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],yt(e),c(e)&&(s+=u(e).charsLeftOver,s+=10*u(e).unusedTokens.length,u(e).score=s,(null==i||i>s)&&(i=s,n=e));o(t,n||e)}function St(t){if(!t._d){var e=D(t._i);t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),mt(t)}}function _t(t){var e=new f(K(xt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function xt(t){var e=t._i,r=t._f;return t._locale=t._locale||E(t._l),null===e||void 0===r&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new f(K(e)):(n(r)?wt(t):r?yt(t):i(e)?t._d=e:Ct(t),c(t)||(t._d=null),t))}function Ct(e){var s=e._i;void 0===s?e._d=new Date(t.now()):i(s)?e._d=new Date(+s):"string"==typeof s?rt(e):n(s)?(e._a=r(s.slice(0),function(t){return parseInt(t,10)}),mt(e)):"object"==typeof s?St(e):"number"==typeof s?e._d=new Date(s):t.createFromInputFallback(e)}function Et(t,e,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,_t(s)}function kt(t,e,n,i){return Et(t,e,n,i,!1)}function Tt(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return kt();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function Dt(){var t=[].slice.call(arguments,0);return Tt("isBefore",t)}function Rt(){var t=[].slice.call(arguments,0);return Tt("isAfter",t)}function Ht(t){var e=D(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=E(),this._bubble()}function Mt(t){return t instanceof Ht}function jt(t,e){I(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+F(~~(t/60),2)+e+F(~~t%60,2)})}function Pt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(Bi)||["-",0,0],s=+(60*r[1])+v(r[2]);return"+"===r[0]?s:-s}function Ft(e,n){var r,s;return n._isUTC?(r=n.clone(),s=(g(e)||i(e)?+e:+kt(e))-+r,r._d.setTime(+r._d+s),t.updateOffset(r,!1),r):kt(e).local()}function It(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(e,n){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Pt(pi,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=It(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Jt(this,Yt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:It(this):null!=e?this:NaN}function Nt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function At(t){return this.utcOffset(0,t)}function Ot(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(It(this),"m")),this}function $t(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pt(hi,this._i)),this}function Bt(t){return this.isValid()?(t=t?kt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=xt(t),t._a){var e=t._isUTC?a(t._a):kt(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Gt(){return this.isValid()?!this._isUTC:!1}function Wt(){return this.isValid()?this._isUTC:!1}function Vt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Yt(t,e){var n,i,r,o=t,a=null;return Mt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=qi.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:v(a[wi])*n,h:v(a[Si])*n,m:v(a[_i])*n,s:v(a[xi])*n,ms:v(a[Ci])*n}):(a=zi.exec(t))?(n="-"===a[1]?-1:1,o={y:Ut(a[2],n),M:Ut(a[3],n),d:Ut(a[4],n),h:Ut(a[5],n),m:Ut(a[6],n),s:Ut(a[7],n),w:Ut(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Zt(kt(o.from),kt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Ht(o),Mt(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function Ut(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Zt(t,e){var n;return t.isValid()&&e.isValid()?(e=Ft(e,t),t.isBefore(e)?n=Xt(t,e):(n=Xt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Qt(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(nt(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Yt(n,i),Jt(this,r,t),this}}function Jt(e,n,i,r){var s=n._milliseconds,o=n._days,a=n._months;e.isValid()&&(r=null==r?!0:r,s&&e._d.setTime(+e._d+s*i),o&&j(e,"Date",M(e,"Date")+o*i),a&&Z(e,M(e,"Month")+a*i),r&&t.updateOffset(e,o||a))}function Kt(t,e){var n=t||kt(),i=Ft(n,this).startOf("day"),r=this.diff(i,"days",!0),s=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",o=e&&(R(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,kt(n)))}function te(){return new f(this)}function ee(t,e){var n=g(t)?t:kt(t);return this.isValid()&&n.isValid()?(e=T(h(e)?"millisecond":e),"millisecond"===e?+this>+n:+n<+this.clone().startOf(e)):!1}function ne(t,e){var n=g(t)?t:kt(t);return this.isValid()&&n.isValid()?(e=T(h(e)?"millisecond":e),"millisecond"===e?+n>+this:+this.clone().endOf(e)<+n):!1}function ie(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function re(t,e){var n,i=g(t)?t:kt(t);return this.isValid()&&i.isValid()?(e=T(e||"millisecond"),"millisecond"===e?+this===+i:(n=+i,+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))):!1}function se(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function oe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ae(t,e,n){var i,r,s,o;return this.isValid()?(i=Ft(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=T(e),"year"===e||"month"===e||"quarter"===e?(o=le(this,i),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-i,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),n?o:m(o)):NaN):NaN}function le(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return 0>e-s?(n=t.clone().add(r-1,"months"),i=(e-s)/(s-n)):(n=t.clone().add(r+1,"months"),i=(e-s)/(n-s)),-(r+i)}function ue(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ce(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?R(Date.prototype.toISOString)?this.toDate().toISOString():A(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var n=A(this,e||t.defaultFormat);return this.localeData().postformat(n)}function he(t,e){return this.isValid()&&(g(t)&&t.isValid()||kt(t).isValid())?Yt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(kt(),t)}function fe(t,e){return this.isValid()&&(g(t)&&t.isValid()||kt(t).isValid())?Yt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to(kt(),t)}function me(t){var e;return void 0===t?this._locale._abbr:(e=E(t),null!=e&&(this._locale=e),this)}function ve(){return this._locale}function ye(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function be(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function we(){return+this._d-6e4*(this._offset||0)}function Se(){return Math.floor(+this/1e3)}function _e(){return this._offset?new Date(+this):this._d}function xe(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ce(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ee(){return this.isValid()?this.toISOString():"null"}function ke(){return c(this)}function Te(){return o({},u(this))}function De(){return u(this).overflow}function Re(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function He(t,e){I(0,[t,t.length],0,e)}function Me(t){return Ie.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function je(t){return Ie.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Pe(){return pt(this.year(),1,4)}function Fe(){var t=this.localeData()._week;return pt(this.year(),t.dow,t.doy)}function Ie(t,e,n,i,r){var s;return null==t?ht(this,i,r).year:(s=pt(t,i,r),e>s&&(e=s),Le.call(this,t,e,n,i,r))}function Le(t,e,n,i,r){var s=dt(t,e,n,i,r),o=ot(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ne(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ae(t){return ht(t,this._week.dow,this._week.doy).week}function Oe(){return this._week.dow}function $e(){return this._week.doy}function Be(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function qe(t){var e=ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ze(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ge(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function We(t){return this._weekdaysShort[t.day()]}function Ve(t){return this._weekdaysMin[t.day()]}function Ye(t,e,n){var i,r,s;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=kt([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ue(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ze(t,this.localeData()),this.add(t-e,"d")):e}function Xe(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ze(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function Qe(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Je(){return this.hours()%12||12}function Ke(t,e){I(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}function nn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function rn(t,e){e[Ci]=v(1e3*("0."+t))}function sn(){return this._isUTC?"UTC":""}function on(){return this._isUTC?"Coordinated Universal Time":""}function an(t){return kt(1e3*t)}function ln(){return kt.apply(null,arguments).parseZone()}function un(t,e,n){var i=this._calendar[t];return R(i)?i.call(e,n):i}function cn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function dn(){return this._invalidDate}function hn(t){return this._ordinal.replace("%d",t)}function pn(t){return t}function fn(t,e,n,i){var r=this._relativeTime[n];return R(r)?r(t,e,n,i):r.replace(/%d/i,t)}function gn(t,e){var n=this._relativeTime[t>0?"future":"past"];return R(n)?n(e):n.replace(/%s/i,e)}function mn(t){var e,n;for(n in t)e=t[n],R(e)?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function vn(t,e,n,i){var r=E(),s=a().set(i,e);return r[n](s,t)}function yn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return vn(t,e,n,r);var s,o=[];for(s=0;i>s;s++)o[s]=vn(t,s,n,r);return o}function bn(t,e){return yn(t,e,"months",12,"month")}function wn(t,e){return yn(t,e,"monthsShort",12,"month")}function Sn(t,e){return yn(t,e,"weekdays",7,"day")}function _n(t,e){return yn(t,e,"weekdaysShort",7,"day")}function xn(t,e){return yn(t,e,"weekdaysMin",7,"day")}function Cn(){var t=this._data;return this._milliseconds=pr(this._milliseconds),this._days=pr(this._days),this._months=pr(this._months),t.milliseconds=pr(t.milliseconds),t.seconds=pr(t.seconds),t.minutes=pr(t.minutes),t.hours=pr(t.hours),t.months=pr(t.months),t.years=pr(t.years),this}function En(t,e,n,i){var r=Yt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function kn(t,e){return En(this,t,e,1)}function Tn(t,e){return En(this,t,e,-1)}function Dn(t){return 0>t?Math.floor(t):Math.ceil(t)}function Rn(){var t,e,n,i,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*Dn(Mn(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=m(s/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,o+=m(n/24),r=m(Hn(o)),a+=r,o-=Dn(Mn(r)),i=m(a/12),a%=12,l.days=o,l.months=a,l.years=i,this}function Hn(t){return 4800*t/146097}function Mn(t){return 146097*t/4800}function jn(t){var e,n,i=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Hn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Mn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Pn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Fn(t){return function(){return this.as(t)}}function In(t){return t=T(t),this[t+"s"]()}function Ln(t){return function(){return this._data[t]}}function Nn(){return m(this.days()/7)}function An(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function On(t,e,n){var i=Yt(t).abs(),r=Rr(i.as("s")),s=Rr(i.as("m")),o=Rr(i.as("h")),a=Rr(i.as("d")),l=Rr(i.as("M")),u=Rr(i.as("y")),c=r<Hr.s&&["s",r]||1>=s&&["m"]||s<Hr.m&&["mm",s]||1>=o&&["h"]||o<Hr.h&&["hh",o]||1>=a&&["d"]||a<Hr.d&&["dd",a]||1>=l&&["M"]||l<Hr.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,An.apply(null,c)}function $n(t,e){return void 0===Hr[t]?!1:void 0===e?Hr[t]:(Hr[t]=e,!0)}function Bn(t){var e=this.localeData(),n=On(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function qn(){var t,e,n,i=Mr(this._milliseconds)/1e3,r=Mr(this._days),s=Mr(this._months);t=m(i/60),e=m(t/60),i%=60,t%=60,n=m(s/12),s%=12;var o=n,a=s,l=r,u=e,c=t,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var zn,Gn,Wn=t.momentProperties=[],Vn=!1,Yn={},Un={},Xn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Qn={},Jn={},Kn=/\d/,ti=/\d\d/,ei=/\d{3}/,ni=/\d{4}/,ii=/[+-]?\d{6}/,ri=/\d\d?/,si=/\d\d\d\d?/,oi=/\d\d\d\d\d\d?/,ai=/\d{1,3}/,li=/\d{1,4}/,ui=/[+-]?\d{1,6}/,ci=/\d+/,di=/[+-]?\d+/,hi=/Z|[+-]\d\d:?\d\d/gi,pi=/Z|[+-]\d\d(?::?\d\d)?/gi,fi=/[+-]?\d+(\.\d{1,3})?/,gi=/[0-9]*(a[mn]\s?)?['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,mi={},vi={},yi=0,bi=1,wi=2,Si=3,_i=4,xi=5,Ci=6,Ei=7,ki=8;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),I("MMMM",0,0,function(t){return this.localeData().months(this,t)}),k("month","M"),$("M",ri),$("MM",ri,ti),$("MMM",gi),$("MMMM",gi),z(["M","MM"],function(t,e){e[bi]=v(t)-1}),z(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[bi]=r:u(n).invalidMonth=t});var Ti=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Di="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ri="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),Hi={};
t.suppressDeprecationWarnings=!1;var Mi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ji=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Pi=/Z|[+-]\d\d(?::?\d\d)?/,Fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ii=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Li=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=et("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),k("year","y"),$("Y",di),$("YY",ri,ti),$("YYYY",li,ni),$("YYYYY",ui,ii),$("YYYYYY",ui,ii),z(["YYYYY","YYYYYY"],yi),z("YYYY",function(e,n){n[yi]=2===e.length?t.parseTwoDigitYear(e):v(e)}),z("YY",function(e,n){n[yi]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Ni=H("FullYear",!1);t.ISO_8601=function(){};var Ai=et("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=kt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:d()}),Oi=et("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=kt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),$i=Date.now||function(){return+new Date};jt("Z",":"),jt("ZZ",""),$("Z",pi),$("ZZ",pi),z(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Pt(pi,t)});var Bi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var qi=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Yt.fn=Ht.prototype;var Gi=Qt(1,"add"),Wi=Qt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Vi=et("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),He("gggg","weekYear"),He("ggggg","weekYear"),He("GGGG","isoWeekYear"),He("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),$("G",di),$("g",di),$("GG",ri,ti),$("gg",ri,ti),$("GGGG",li,ni),$("gggg",li,ni),$("GGGGG",ui,ii),$("ggggg",ui,ii),G(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=v(t)}),G(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),k("quarter","Q"),$("Q",Kn),z("Q",function(t,e){e[bi]=3*(v(t)-1)}),I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),$("w",ri),$("ww",ri,ti),$("W",ri),$("WW",ri,ti),G(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=v(t)});var Yi={dow:0,doy:6};I("D",["DD",2],"Do","date"),k("date","D"),$("D",ri),$("DD",ri,ti),$("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),z(["D","DD"],wi),z("Do",function(t,e){e[wi]=v(t.match(ri)[0],10)});var Ui=H("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),I("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),I("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),$("d",ri),$("e",ri),$("E",ri),$("dd",gi),$("ddd",gi),$("dddd",gi),G(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:u(n).invalidWeekday=t}),G(["d","e","E"],function(t,e,n,i){e[i]=v(t)});var Xi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Zi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),$("DDD",ai),$("DDDD",ei),z(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Je),I("hmm",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),k("hour","h"),$("a",tn),$("A",tn),$("H",ri),$("h",ri),$("HH",ri,ti),$("hh",ri,ti),$("hmm",si),$("hmmss",oi),$("Hmm",si),$("Hmmss",oi),z(["H","HH"],Si),z(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),z(["h","hh"],function(t,e,n){e[Si]=v(t),u(n).bigHour=!0}),z("hmm",function(t,e,n){var i=t.length-2;e[Si]=v(t.substr(0,i)),e[_i]=v(t.substr(i)),u(n).bigHour=!0}),z("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Si]=v(t.substr(0,i)),e[_i]=v(t.substr(i,2)),e[xi]=v(t.substr(r)),u(n).bigHour=!0}),z("Hmm",function(t,e,n){var i=t.length-2;e[Si]=v(t.substr(0,i)),e[_i]=v(t.substr(i))}),z("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Si]=v(t.substr(0,i)),e[_i]=v(t.substr(i,2)),e[xi]=v(t.substr(r))});var Ji=/[ap]\.?m?\.?/i,Ki=H("Hours",!0);I("m",["mm",2],0,"minute"),k("minute","m"),$("m",ri),$("mm",ri,ti),z(["m","mm"],_i);var tr=H("Minutes",!1);I("s",["ss",2],0,"second"),k("second","s"),$("s",ri),$("ss",ri,ti),z(["s","ss"],xi);var er=H("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),$("S",ai,Kn),$("SS",ai,ti),$("SSS",ai,ei);var nr;for(nr="SSSS";nr.length<=9;nr+="S")$(nr,ci);for(nr="S";nr.length<=9;nr+="S")z(nr,rn);var ir=H("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var rr=f.prototype;rr.add=Gi,rr.calendar=Kt,rr.clone=te,rr.diff=ae,rr.endOf=be,rr.format=de,rr.from=he,rr.fromNow=pe,rr.to=fe,rr.toNow=ge,rr.get=P,rr.invalidAt=De,rr.isAfter=ee,rr.isBefore=ne,rr.isBetween=ie,rr.isSame=re,rr.isSameOrAfter=se,rr.isSameOrBefore=oe,rr.isValid=ke,rr.lang=Vi,rr.locale=me,rr.localeData=ve,rr.max=Oi,rr.min=Ai,rr.parsingFlags=Te,rr.set=P,rr.startOf=ye,rr.subtract=Wi,rr.toArray=xe,rr.toObject=Ce,rr.toDate=_e,rr.toISOString=ce,rr.toJSON=Ee,rr.toString=ue,rr.unix=Se,rr.valueOf=we,rr.creationData=Re,rr.year=Ni,rr.isLeapYear=ut,rr.weekYear=Me,rr.isoWeekYear=je,rr.quarter=rr.quarters=Ne,rr.month=Q,rr.daysInMonth=J,rr.week=rr.weeks=Be,rr.isoWeek=rr.isoWeeks=qe,rr.weeksInYear=Fe,rr.isoWeeksInYear=Pe,rr.date=Ui,rr.day=rr.days=Ue,rr.weekday=Xe,rr.isoWeekday=Ze,rr.dayOfYear=Qe,rr.hour=rr.hours=Ki,rr.minute=rr.minutes=tr,rr.second=rr.seconds=er,rr.millisecond=rr.milliseconds=ir,rr.utcOffset=Lt,rr.utc=At,rr.local=Ot,rr.parseZone=$t,rr.hasAlignedHourOffset=Bt,rr.isDST=qt,rr.isDSTShifted=zt,rr.isLocal=Gt,rr.isUtcOffset=Wt,rr.isUtc=Vt,rr.isUTC=Vt,rr.zoneAbbr=sn,rr.zoneName=on,rr.dates=et("dates accessor is deprecated. Use date instead.",Ui),rr.months=et("months accessor is deprecated. Use month instead",Q),rr.years=et("years accessor is deprecated. Use year instead",Ni),rr.zone=et("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Nt);var sr=rr,or={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ar={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},lr="Invalid date",ur="%d",cr=/\d{1,2}/,dr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},hr=b.prototype;hr._calendar=or,hr.calendar=un,hr._longDateFormat=ar,hr.longDateFormat=cn,hr._invalidDate=lr,hr.invalidDate=dn,hr._ordinal=ur,hr.ordinal=hn,hr._ordinalParse=cr,hr.preparse=pn,hr.postformat=pn,hr._relativeTime=dr,hr.relativeTime=fn,hr.pastFuture=gn,hr.set=mn,hr.months=Y,hr._months=Di,hr.monthsShort=U,hr._monthsShort=Ri,hr.monthsParse=X,hr.week=Ae,hr._week=Yi,hr.firstDayOfYear=$e,hr.firstDayOfWeek=Oe,hr.weekdays=Ge,hr._weekdays=Xi,hr.weekdaysMin=Ve,hr._weekdaysMin=Qi,hr.weekdaysShort=We,hr._weekdaysShort=Zi,hr.weekdaysParse=Ye,hr.isPM=en,hr._meridiemParse=Ji,hr.meridiem=nn,x("en",{monthsParse:[/^jan/i,/^feb/i,/^mar/i,/^apr/i,/^may/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^oct/i,/^nov/i,/^dec/i],longMonthsParse:[/^january$/i,/^february$/i,/^march$/i,/^april$/i,/^may$/i,/^june$/i,/^july$/i,/^august$/i,/^september$/i,/^october$/i,/^november$/i,/^december$/i],shortMonthsParse:[/^jan$/i,/^feb$/i,/^mar$/i,/^apr$/i,/^may$/i,/^jun$/i,/^jul$/i,/^aug/i,/^sept?$/i,/^oct$/i,/^nov$/i,/^dec$/i],ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=et("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=et("moment.langData is deprecated. Use moment.localeData instead.",E);var pr=Math.abs,fr=Fn("ms"),gr=Fn("s"),mr=Fn("m"),vr=Fn("h"),yr=Fn("d"),br=Fn("w"),wr=Fn("M"),Sr=Fn("y"),_r=Ln("milliseconds"),xr=Ln("seconds"),Cr=Ln("minutes"),Er=Ln("hours"),kr=Ln("days"),Tr=Ln("months"),Dr=Ln("years"),Rr=Math.round,Hr={s:45,m:45,h:22,d:26,M:11},Mr=Math.abs,jr=Ht.prototype;jr.abs=Cn,jr.add=kn,jr.subtract=Tn,jr.as=jn,jr.asMilliseconds=fr,jr.asSeconds=gr,jr.asMinutes=mr,jr.asHours=vr,jr.asDays=yr,jr.asWeeks=br,jr.asMonths=wr,jr.asYears=Sr,jr.valueOf=Pn,jr._bubble=Rn,jr.get=In,jr.milliseconds=_r,jr.seconds=xr,jr.minutes=Cr,jr.hours=Er,jr.days=kr,jr.weeks=Nn,jr.months=Tr,jr.years=Dr,jr.humanize=Bn,jr.toISOString=qn,jr.toString=qn,jr.toJSON=qn,jr.locale=me,jr.localeData=ve,jr.toIsoString=et("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qn),jr.lang=Vi,I("X",0,0,"unix"),I("x",0,0,"valueOf"),$("x",di),$("X",fi),z("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),z("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.11.0",e(kt),t.fn=sr,t.min=Dt,t.max=Rt,t.now=$i,t.utc=a,t.unix=an,t.months=bn,t.isDate=i,t.locale=x,t.invalid=d,t.duration=Yt,t.isMoment=g,t.weekdays=Sn,t.parseZone=ln,t.localeData=E,t.isDuration=Mt,t.monthsShort=wn,t.weekdaysMin=xn,t.defineLocale=C,t.weekdaysShort=_n,t.normalizeUnits=T,t.relativeTimeThreshold=$n,t.prototype=sr;var Pr=t;return Pr}),/*!
 * FullCalendar v2.6.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(t){return q(t,zt)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,zt)?(n=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(n||(n={}),n[t]=r)}),n&&(i[e]=n)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,n,i){var r=Math.floor(n/e.length),s=Math.floor(n-r*(e.length-1)),o=[],a=[],l=[],c=0;u(e),e.each(function(n,i){var u=n===e.length-1?s:r,d=t(i).outerHeight(!0);u>d?(o.push(i),a.push(d),l.push(t(i).height())):c+=d}),i&&(n-=c,r=Math.floor(n/o.length),s=Math.floor(n-r*(o.length-1))),t(o).each(function(e,n){var i=e===o.length-1?s:r,u=a[e],c=l[e],d=i-(u-c);i>u&&t(n).height(d)})}function u(t){t.height("")}function c(e){var n=0;return e.find("> span").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function d(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(h(t),!1)}function h(t){t.height("").removeClass("fc-scroller")}function p(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function f(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function g(t){var e=t.offset(),n=v(t),i=e.left+w(t,"border-left-width")+n.left,r=e.top+w(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function m(t){var e=t.offset(),n=e.left+w(t,"border-left-width")+w(t,"padding-left"),i=e.top+w(t,"border-top-width")+w(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return y()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function y(){return null===Gt&&(Gt=b()),Gt}function b(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function w(t,e){return parseFloat(t.css(e))||0}function S(t){return 1==t.which&&!t.ctrlKey}function _(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function x(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function C(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function E(t,e){return{left:t.left-e.left,top:t.top-e.top}}function k(e){var n,i,r=[],s=[];for("string"==typeof e?s=e.split(/\s*,\s*/):"function"==typeof e?s=[e]:t.isArray(e)&&(s=e),n=0;n<s.length;n++)i=s[n],"string"==typeof i?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function T(t,e,n){var i,r;for(i=0;i<n.length;i++)if(r=D(t,e,n[i]))return r;return 0}function D(t,e,n){return n.func?n.func(t,e):R(t[n.field],e[n.field])*(n.order||1)}function R(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function H(t,e){var n,i,r,s,o=t.start,a=t.end,l=e.start,u=e.end;return a>l&&u>o?(o>=l?(n=o.clone(),r=!0):(n=l.clone(),r=!1),u>=a?(i=a.clone(),s=!0):(i=u.clone(),s=!1),{start:n,end:i,isStart:r,isEnd:s}):void 0}function M(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function j(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function P(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function F(t,e){var n,i,r;for(n=0;n<Vt.length&&(i=Vt[n],r=I(i,t,e),!(r>=1&&et(r)));n++);return i}function I(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function L(t,e,n){var i;return O(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&et(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function N(t,e){var n,i;return O(t)||O(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&et(n)&&Math.abs(i)>=1&&et(i)?n/i:t.asDays()/e.asDays())}function A(t,n){var i;return O(t)?e.duration(t*n):(i=t.asMonths(),Math.abs(i)>=1&&et(i)?e.duration({months:i*n}):e.duration({days:t.asDays()*n}))}function O(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function $(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function B(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function q(t,e){var n,i,r,s,o,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],s=t.length-1;s>=0;s--)if(o=t[s][i],"object"==typeof o)r.unshift(o);else if(void 0!==o){l[i]=o;break}r.length&&(l[i]=q(r))}for(n=t.length-1;n>=0;n--){a=t[n];for(i in a)i in l||(l[i]=a[i])}return l}function z(t){var e=function(){};return e.prototype=t,new e}function G(t,e){for(var n in t)V(t,n)&&(e[n]=t[n])}function W(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)i=r[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function V(t,e){return Zt.call(t,e)}function Y(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function U(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,s;for(r=0;r<e.length;r++)s=e[r].apply(n,i)||s;return s}}function X(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function Z(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Q(t){return t.replace(/&.*?;/g,"")}function J(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function K(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t,e){return t-e}function et(t){return t%1===0}function nt(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function it(t,e){var n,i,r,s,o=function(){var a=+new Date-s;e>a&&a>0?n=setTimeout(o,e-a):(n=null,t.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,s=+new Date,n||(n=setTimeout(o,e))}}function rt(n,i,r){var s,o,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,n),ot(u,l)):$(u)||void 0===u?l=e.apply(null,n):(s=!1,o=!1,c?Qt.test(u)?(u+="-01",n=[u],s=!0,o=!0):(a=Jt.exec(u))&&(s=!a[5],o=!0):t.isArray(u)&&(o=!0),l=i||s?e.utc.apply(e,n):e.apply(null,n),s?(l._ambigTime=!0,l._ambigZone=!0):r&&(o?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function st(t,n){var i,r,s=!1,o=!1,a=t.length,l=[];for(i=0;a>i;i++)r=t[i],e.isMoment(r)||(r=Bt.moment.parseZone(r)),s=s||r._ambigTime,o=o||r._ambigZone,l.push(r);for(i=0;a>i;i++)r=l[i],n||!s||r._ambigTime?o&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime();return l}function ot(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function at(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function lt(t,e){return te.format.call(t,e)}function ut(t,e){return ct(t,gt(e))}function ct(t,e){var n,i="";for(n=0;n<e.length;n++)i+=dt(t,e[n]);return i}function dt(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?ee[n]?ee[n](t):lt(t,n):e.maybe&&(i=ct(t,e.maybe),i.match(/[1-9]/))?i:""}function ht(t,e,n,i,r){var s;return t=Bt.moment.parseZone(t),e=Bt.moment.parseZone(e),s=(t.localeData||t.lang).call(t),n=s.longDateFormat(n)||n,i=i||" - ",pt(t,e,gt(n),i,r)}function pt(t,e,n,i,r){var s,o,a,l,u=t.clone().stripZone(),c=e.clone().stripZone(),d="",h="",p="",f="",g="";for(o=0;o<n.length&&(s=ft(t,e,u,c,n[o]),s!==!1);o++)d+=s;for(a=n.length-1;a>o&&(s=ft(t,e,u,c,n[a]),s!==!1);a--)h=s+h;for(l=o;a>=l;l++)p+=dt(t,n[l]),f+=dt(e,n[l]);return(p||f)&&(g=r?f+i+p:p+i+f),d+g+h}function ft(t,e,n,i,r){var s,o;return"string"==typeof r?r:(s=r.token)&&(o=ne[s.charAt(0)],o&&n.isSame(i,o))?lt(t,s):!1}function gt(t){return t in ie?ie[t]:ie[t]=mt(t)}function mt(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:mt(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function vt(){}function yt(t,e){var n;return V(e,"constructor")&&(n=e.constructor),"function"!=typeof n&&(n=e.constructor=function(){t.apply(this,arguments)}),n.prototype=z(t.prototype),G(e,n.prototype),W(e,n.prototype),G(t,n),n}function bt(t,e){G(e.prototype||e,t.prototype)}function wt(t,e){return t||e?t&&e?t.component===e.component&&St(t,e)&&St(e,t):!1:!0}function St(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}function _t(t){var e=Ct(t);return"background"===e||"inverse-background"===e}function xt(t){return"inverse-background"===Ct(t)}function Ct(t){return X((t.source||{}).rendering,t.rendering)}function Et(t){var e,n,i={};for(e=0;e<t.length;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function kt(t,e){return t.start-e.start}function Tt(n){var i,r,s,o,a=Bt.dataAttrPrefix;return a&&(a+="-"),i=n.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),s=i.duration,o=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(a+"start")),null==r&&(r=n.data(a+"time")),null==s&&(s=n.data(a+"duration")),null==o&&(o=n.data(a+"stick")),r=null!=r?e.duration(r):null,s=null!=s?e.duration(s):null,o=Boolean(o),{eventProps:i,startTime:r,duration:s,stick:o}}function Dt(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Rt(t,e){return t.leftCol-e.leftCol}function Ht(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Pt(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function Mt(t){var e,n,i,r,s;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for(r=n[i],r.forwardSegs=[],s=e+1;s<t.length;s++)Pt(r,t[s],r.forwardSegs)}function jt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)n=i[e],jt(n),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function Pt(t,e,n){n=n||[];for(var i=0;i<e.length;i++)Ft(t,e[i])&&n.push(e[i]);return n}function Ft(t,e){return t.bottom>e.top&&t.top<e.bottom}function It(n,i){function r(){V?a()&&(c(),l()):s()}function s(){Y=$.theme?"ui":"fc",n.addClass("fc"),$.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),$.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),V=t("<div class='fc-view-container'/>").prependTo(n),G=O.header=new At(O,$),W=G.render(),W&&n.prepend(W),l($.defaultView),$.handleWindowResize&&(Z=it(h,$.windowResizeDelay),t(window).resize(Z))}function o(){U&&U.removeElement(),G.removeElement(),V.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),Z&&t(window).unbind("resize",Z)}function a(){return n.is(":visible")}function l(e){nt++,U&&e&&U.type!==e&&(G.deactivateButton(U.type),P(),U.removeElement(),U=O.view=null),!U&&e&&(U=O.view=et[e]||(et[e]=O.instantiateView(e)),U.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(V)),G.activateButton(e)),U&&(Q=U.massageCurrentDate(Q),U.displaying&&Q.isWithin(U.intervalStart,U.intervalEnd)||a()&&(U.display(Q),F(),w(),S(),m())),F(),nt--}function u(t){return a()?(t&&d(),nt++,U.updateSize(!0),nt--,!0):void 0}function c(){a()&&d()}function d(){X="number"==typeof $.contentHeight?$.contentHeight:"number"==typeof $.height?$.height-(W?W.outerHeight(!0):0):Math.round(V.width()/Math.max($.aspectRatio,.5))}function h(t){!nt&&t.target===window&&U.start&&u(!0)&&U.trigger("windowResize",tt)}function p(){g(),v()}function f(){a()&&(P(),U.displayEvents(rt),F())}function g(){P(),U.clearEvents(),F()}function m(){!$.lazyFetching||J(U.start,U.end)?v():f()}function v(){K(U.start,U.end)}function y(t){rt=t,f()}function b(){f()}function w(){G.updateTitle(U.title)}function S(){var t=O.getNow();t.isWithin(U.intervalStart,U.intervalEnd)?G.disableButton("today"):G.enableButton("today")}function _(t,e){U.select(O.buildSelectSpan.apply(O,arguments))}function x(){U&&U.unselect()}function C(){Q=U.computePrevDate(Q),l()}function E(){Q=U.computeNextDate(Q),l()}function k(){Q.add(-1,"years"),l()}function T(){Q.add(1,"years"),l()}function D(){Q=O.getNow(),l()}function R(t){Q=O.moment(t).stripZone(),l()}function H(t){Q.add(e.duration(t)),l()}function M(t,e){var n;e=e||"day",n=O.getViewSpec(e)||O.getUnitViewSpec(e),Q=t.clone(),l(n?n.type:null)}function j(){return O.applyTimezone(Q)}function P(){V.css({width:"100%",height:V.height(),overflow:"hidden"})}function F(){V.css({width:"",height:"",overflow:""})}function I(){return O}function L(){return U}function N(t,e){return void 0===e?$[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&($[t]=e,u(!0)))}function A(t,e){var n=Array.prototype.slice.call(arguments,2);return e=e||tt,this.triggerWith(t,e,n),$[t]?$[t].apply(e,n):void 0}var O=this;O.initOptions(i||{});var $=this.options;O.render=r,O.destroy=o,O.refetchEvents=p,O.reportEvents=y,O.reportEventChange=b,O.rerenderEvents=f,O.changeView=l,O.select=_,O.unselect=x,O.prev=C,O.next=E,O.prevYear=k,O.nextYear=T,O.today=D,O.gotoDate=R,O.incrementDate=H,O.zoomTo=M,O.getDate=j,O.getCalendar=I,O.getView=L,O.option=N,O.trigger=A;var B=z(Nt($.lang));if($.monthNames&&(B._months=$.monthNames),$.monthNamesShort&&(B._monthsShort=$.monthNamesShort),$.dayNames&&(B._weekdays=$.dayNames),$.dayNamesShort&&(B._weekdaysShort=$.dayNamesShort),null!=$.firstDay){var q=z(B._week);q.dow=$.firstDay,B._week=q}B._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}($.weekNumberCalculation),O.defaultAllDayEventDuration=e.duration($.defaultAllDayEventDuration),O.defaultTimedEventDuration=e.duration($.defaultTimedEventDuration),O.moment=function(){var t;return"local"===$.timezone?(t=Bt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===$.timezone?Bt.moment.utc.apply(null,arguments):Bt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=B:t._lang=B,t},O.getIsAmbigTimezone=function(){return"local"!==$.timezone&&"UTC"!==$.timezone},O.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=O.moment(t.toArray()),i=t.time()-n.time();return i&&(e=n.clone().add(i),t.time()-e.time()===0&&(n=e)),n},O.getNow=function(){var t=$.now;return"function"==typeof t&&(t=t()),O.moment(t).stripZone()},O.getEventEnd=function(t){return t.end?t.end.clone():O.getDefaultEventEnd(t.allDay,t.start)},O.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(O.defaultAllDayEventDuration):n.add(O.defaultTimedEventDuration),O.getIsAmbigTimezone()&&n.stripZone(),n},O.humanizeDuration=function(t){return(t.locale||t.lang).call(t,$.lang).humanize()},Ot.call(O,$);var G,W,V,Y,U,X,Z,Q,J=O.isFetchNeeded,K=O.fetchEvents,tt=n[0],et={},nt=0,rt=[];Q=null!=$.defaultDate?O.moment($.defaultDate).stripZone():O.getNow(),O.getSuggestedViewHeight=function(){return void 0===X&&c(),X},O.isHeightAuto=function(){return"auto"===$.contentHeight||"auto"===$.height},O.freezeContentHeight=P,O.unfreezeContentHeight=F,O.initialize()}function Lt(e){t.each(be,function(t,n){null==e[t]&&(e[t]=n(e))})}function Nt(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function At(e,n){function i(){var e=n.header;return p=n.theme?"ui":"fc",e?f=t("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function r(){f.remove(),f=t()}function s(i){var r=t('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&t.each(s.split(" "),function(i){var s,o=t(),a=!0;t.each(this.split(","),function(i,r){var s,l,u,c,d,h,f,m,v,y;"title"==r?(o=o.add(t("<h2>&nbsp;</h2>")),a=!1):((s=(e.options.customButtons||{})[r])?(u=function(t){s.click&&s.click.call(y[0],t)},c="",d=s.text):(l=e.getViewSpec(r))?(u=function(){e.changeView(r)},g.push(r),c=l.buttonTextOverride,d=l.buttonTextDefault):e[r]&&(u=function(){e[r]()},c=(e.overrides.buttonText||{})[r],d=n.buttonText[r]),u&&(h=s?s.themeIcon:n.themeButtonIcons[r],f=s?s.icon:n.buttonIcons[r],m=c?Z(c):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":f&&!n.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":Z(d),v=["fc-"+r+"-button",p+"-button",p+"-state-default"],y=t('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(t){y.hasClass(p+"-state-disabled")||(u(t),(y.hasClass(p+"-state-active")||y.hasClass(p+"-state-disabled"))&&y.removeClass(p+"-state-hover"))}).mousedown(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){y.removeClass(p+"-state-down")}).hover(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){y.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),o=o.add(y)))}),a&&o.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),o.length>1?(s=t("<div/>"),a&&s.addClass("fc-button-group"),s.append(o),r.append(s)):r.append(o)}),r}function o(t){f.find("h2").text(t)}function a(t){f.find(".fc-"+t+"-button").addClass(p+"-state-active")}function l(t){f.find(".fc-"+t+"-button").removeClass(p+"-state-active")}function u(t){f.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")}function c(t){f.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")}function d(){return g}var h=this;h.render=i,h.removeElement=r,h.updateTitle=o,h.activateButton=a,h.deactivateButton=l,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var p,f=t(),g=[]}function Ot(n){function i(t,e){return!N||N>t||e>A}function r(t,e){N=t,A=e,W=[];var n=++z,i=q.length;G=i;for(var r=0;i>r;r++)s(q[r],n)}function s(e,n){o(e,function(i){var r,s,o,a=t.isArray(e.events);if(n==z){if(i)for(r=0;r<i.length;r++)s=i[r],o=a?s:y(s,e),o&&W.push.apply(W,_(o));G--,G||O(W)}})}function o(e,i){var r,s,a=Bt.sourceFetchers;for(r=0;r<a.length;r++){if(s=a[r].call(L,e,N.clone(),A.clone(),n.timezone,i),s===!0)return;if("object"==typeof s)return void o(s,i)}var l=e.events;if(l)t.isFunction(l)?(L.pushLoading(),l.call(L,N.clone(),A.clone(),n.timezone,function(t){i(t),L.popLoading()})):t.isArray(l)?i(l):i();else{var u=e.url;if(u){var c,d=e.success,h=e.error,p=e.complete;c=t.isFunction(e.data)?e.data():e.data;var f=t.extend({},c||{}),g=X(e.startParam,n.startParam),m=X(e.endParam,n.endParam),v=X(e.timezoneParam,n.timezoneParam);g&&(f[g]=N.format()),m&&(f[m]=A.format()),n.timezone&&"local"!=n.timezone&&(f[v]=n.timezone),L.pushLoading(),t.ajax(t.extend({},we,e,{data:f,success:function(e){e=e||[];var n=U(d,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){U(h,this,arguments),i()},complete:function(){U(p,this,arguments),L.popLoading()}}))}else i()}}function a(t){var e=l(t);e&&(q.push(e),G++,s(e,z))}function l(e){var n,i,r=Bt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return y(t,n)})),i=0;i<r.length;i++)r[i].call(L,n);return n}}function u(e){q=t.grep(q,function(t){return!c(t,e)}),W=t.grep(W,function(t){return!c(t.source,e)}),O(W)}function c(t,e){return t&&e&&d(t)==d(e)}function d(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=L.moment(t.start),t.end?t.end=L.moment(t.end):t.end=null,x(t,p(t)),O(W)}function p(e){var n={};return t.each(e,function(t,e){f(t)&&void 0!==e&&Y(e)&&(n[t]=e)}),n}function f(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function g(t,e){var n,i,r,s=y(t);if(s){for(n=_(s),i=0;i<n.length;i++)r=n[i],r.source||(e&&($.events.push(r),r.source=$),W.push(r));return O(W),n}return[]}function m(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),W=t.grep(W,e,!0),i=0;i<q.length;i++)t.isArray(q[i].events)&&(q[i].events=t.grep(q[i].events,e,!0));O(W)}function v(e){return t.isFunction(e)?t.grep(W,e):null!=e?(e+="",t.grep(W,function(t){return t._id==e})):W}function y(i,r){var s,o,a,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(l,i),r&&(l.source=r),l._id=i._id||(void 0===i.id?"_fc"+Se++:i.id+""),i.className?"string"==typeof i.className?l.className=i.className.split(/\s+/):l.className=i.className:l.className=[],s=i.start||i.date,o=i.end,B(s)&&(s=e.duration(s)),B(o)&&(o=e.duration(o)),i.dow||e.isDuration(s)||e.isDuration(o))l.start=s?e.duration(s):null,l.end=o?e.duration(o):null,l._recurring=!0;else{if(s&&(s=L.moment(s),!s.isValid()))return!1;o&&(o=L.moment(o),o.isValid()||(o=null)),a=i.allDay,void 0===a&&(a=X(r?r.allDayDefault:void 0,n.allDayDefault)),b(s,o,a,l)}return l}function b(t,e,n,i){i.start=t,i.end=e,i.allDay=n,w(i),$t(i)}function w(t){S(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(n.forceEventDuration?t.end=L.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function S(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=L.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=L.applyTimezone(t.end.time(0))))}function _(e,n,i){var r,s,o,a,l,u,c,d,h,p=[];if(n=n||N,i=i||A,e)if(e._recurring){if(s=e.dow)for(r={},o=0;o<s.length;o++)r[s[o]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)(!r||r[a.day()])&&(l=e.start,u=e.end,c=a.clone(),d=null,l&&(c=c.time(l)),u&&(d=a.clone().time(u)),h=t.extend({},e),b(c,d,!l&&!u,h),p.push(h)),a.add(1,"days")}else p.push(e);return p}function x(e,n,i){function r(t,e){return i?P(t,e,i):n.allDay?j(t,e):M(t,e)}var s,o,a,l,u,c,d={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),w(n),s={start:e._start.clone(),end:e._end?e._end.clone():L.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},w(s),o=null!==e._end&&null===n.end,a=r(n.start,s.start),n.end?(l=r(n.end,s.end),u=l.subtract(a)):u=null,t.each(n,function(t,e){f(t)&&void 0!==e&&(d[t]=e)}),c=C(v(e._id),o,n.allDay,a,u,d),{dateDelta:a,durationDelta:u,undo:c}}function C(e,n,i,r,s,o){var a=L.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),s&&!s.valueOf()&&(s=null),t.each(e,function(e,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(o,function(t){c[t]=u[t]}),d={start:u._start,end:u._end,allDay:i},w(d),n?d.end=null:s&&!d.end&&(d.end=L.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),s&&d.end.add(s),a&&!d.allDay&&(r||s)&&(d.start.stripZone(),d.end&&d.end.stripZone()),t.extend(u,o,d),$t(u),l.push(function(){t.extend(u,c),$t(u)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}function E(e){var i,r=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=L.getView();return r&&(i=t.extend({},s,"object"==typeof r?r:{})),i?(e&&(i.start=null,i.end=null),_(y(i),o.start,o.end)):[]}function k(t,e){var i=e.source||{},r=X(e.constraint,i.constraint,n.eventConstraint),s=X(e.overlap,i.overlap,n.eventOverlap);return R(t,r,s,e)}function T(e,n,i){var r,s;return i&&(r=t.extend({},i,n),s=_(y(r))[0]),s?k(e,s):D(e)}function D(t){return R(t,n.selectConstraint,n.selectOverlap)}function R(t,e,n,i){var r,s,o,a,l,u;if(null!=e){for(r=H(e),s=!1,a=0;a<r.length;a++)if(F(r[a],t)){s=!0;break}if(!s)return!1}for(o=L.getPeerEvents(t,i),a=0;a<o.length;a++)if(l=o[a],I(l,t)){if(n===!1)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(u=X(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(i,l))return!1}}return!0}function H(t){return"businessHours"===t?E():"object"==typeof t?_(y(t)):v(t)}function F(t,e){var n=t.start.clone().stripZone(),i=L.getEventEnd(t).stripZone();return e.start>=n&&e.end<=i}function I(t,e){var n=t.start.clone().stripZone(),i=L.getEventEnd(t).stripZone();return e.start<i&&e.end>n}var L=this;L.isFetchNeeded=i,L.fetchEvents=r,L.addEventSource=a,L.removeEventSource=u,L.updateEvent=h,L.renderEvent=g,L.removeEvents=m,L.clientEvents=v,L.mutateEvent=x,L.normalizeEventDates=w,L.normalizeEventTimes=S;var N,A,O=L.reportEvents,$={events:[]},q=[$],z=0,G=0,W=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&q.push(n)}),L.getBusinessHoursEvents=E,L.isEventSpanAllowed=k,L.isExternalSpanAllowed=T,L.isSelectionSpanAllowed=D,L.getEventCache=function(){return W}}function $t(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Bt=t.fullCalendar={version:"2.6.1",internalApiVersion:3},qt=Bt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,s){var o,a=t(s),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(o=l[e].apply(l,n),r||(i=o),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new ge(a,e),a.data("fullCalendar",l),l.render())}),i};var zt=["header","buttonText","buttonIcons","themeButtonIcons"];Bt.intersectRanges=H,Bt.applyAll=U,Bt.debounce=it,Bt.isInt=et,Bt.htmlEscape=Z,Bt.cssToStr=J,Bt.proxy=nt,Bt.capitaliseFirstLetter=K,Bt.getOuterRect=f,Bt.getClientRect=g,Bt.getContentRect=m,Bt.getScrollbarWidths=v;var Gt=null;Bt.intersectRects=_,Bt.parseFieldSpecs=k,Bt.compareByFieldSpecs=T,Bt.compareByFieldSpec=D,Bt.flexibleCompare=R,Bt.computeIntervalUnit=F,Bt.divideRangeByDuration=L,Bt.divideDurationByDuration=N,Bt.multiplyDuration=A,Bt.durationHasTime=O;var Wt=["sun","mon","tue","wed","thu","fri","sat"],Vt=["year","month","week","day","hour","minute","second","millisecond"];Bt.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},Bt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Bt.log.apply(Bt,arguments)};var Yt,Ut,Xt,Zt={}.hasOwnProperty,Qt=/^\s*\d{4}-\d\d$/,Jt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Kt=e.fn,te=t.extend({},Kt);Bt.moment=function(){return rt(arguments)},Bt.moment.utc=function(){var t=rt(arguments,!0);return t.hasTime()&&t.utc(),t},Bt.moment.parseZone=function(){return rt(arguments,!0,!0)},Kt.clone=function(){var t=te.clone.apply(this,arguments);return ot(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Kt.week=Kt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?te.isoWeek.apply(this,arguments):te.week.apply(this,arguments)},Kt.time=function(t){if(!this._fullCalendar)return te.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Kt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),Ut(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Kt.hasTime=function(){return!this._ambigTime},Kt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),Ut(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Kt.hasZone=function(){return!this._ambigZone},Kt.local=function(){var t=this.toArray(),e=this._ambigZone;return te.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Xt(this,t),this},Kt.utc=function(){return te.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){te[e]&&(Kt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),te[e].apply(this,arguments)})}),Kt.format=function(){return this._fullCalendar&&arguments[0]?ut(this,arguments[0]):this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.format.apply(this,arguments)},Kt.toISOString=function(){return this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.toISOString.apply(this,arguments)},Kt.isWithin=function(t,e){var n=st([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},Kt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=st([this,t],!0),te.isSame.call(n[0],n[1],e)):(t=Bt.moment.parseZone(t),te.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):te.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Kt[e]=function(t,n){var i;return this._fullCalendar?(i=st([this,t]),te[e].call(i[0],i[1],n)):te[e].apply(this,arguments)}}),Yt="_d"in e()&&"updateOffset"in e,Ut=Yt?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:at,Xt=Yt?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:at;var ee={t:function(t){return lt(t,"a").charAt(0)},T:function(t){return lt(t,"A").charAt(0)}};Bt.formatRange=ht;var ne={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ie={};Bt.Class=vt,vt.extend=function(){var t,e,n=arguments.length;for(t=0;n>t;t++)e=arguments[t],n-1>t&&bt(this,e);return yt(this,e||{})},vt.mixin=function(t){bt(this,t)};var re=Bt.Emitter=vt.extend({callbackHash:null,on:function(t,e){return this.getCallbacks(t).add(e),this},off:function(t,e){return this.getCallbacks(t).remove(e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.triggerWith(t,this,e),this},triggerWith:function(t,e,n){var i=this.getCallbacks(t);return i.fireWith(e,n),this},getCallbacks:function(e){var n;return this.callbackHash||(this.callbackHash={}),n=this.callbackHash[e],n||(n=this.callbackHash[e]=t.Callbacks()),n}}),se=vt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=nt(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,r,s,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),d=p(this.el);r=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,d.is(window)||d.is(document)?(d=c,e=0,n=0):(i=d.offset(),e=i.top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),o.viewportConstrain!==!1&&(r=Math.min(r,e+d.outerHeight()-u-this.margin),r=Math.max(r,e+this.margin),s=Math.min(s,n+d.outerWidth()-l-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:r-a.top,left:s-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),oe=Bt.CoordCache=vt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals();
},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var t=p(this.els.eq(0));return t.is(document)?void 0:g(t)},buildElHorizontals:function(){var e=[],n=[];this.els.each(function(i,r){var s=t(r),o=s.offset().left,a=s.outerWidth();e.push(o),n.push(o+a)}),this.lefts=e,this.rights=n},buildElVerticals:function(){var e=[],n=[];this.els.each(function(i,r){var s=t(r),o=s.offset().top,a=s.outerHeight();e.push(o),n.push(o+a)}),this.tops=e,this.bottoms=n},getHorizontalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,i=this.lefts,r=this.rights,s=i.length;if(!n||t>=n.left&&t<n.right)for(e=0;s>e;e++)if(t>=i[e]&&t<r[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,i=this.tops,r=this.bottoms,s=i.length;if(!n||t>=n.top&&t<n.bottom)for(e=0;s>e;e++)if(t>=i[e]&&t<r[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]}}),ae=Bt.DragListener=vt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){S(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n;this.isListening||(e&&this.options.scroll&&(n=p(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=it(nt(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")).on("mouseup",this.mouseupProxy=nt(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n,i=t.pageX-this.originX,r=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,n=i*i+r*r,n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(i,r,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?f(t):null},updateScroll:function(t){var e,n,i,r,s=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(e=(s-(t.pageY-o.top))/s,n=(s-(o.bottom-t.pageY))/s,i=(s-(t.pageX-o.left))/s,r=(s-(o.right-t.pageX))/s,e>=0&&1>=e?a=e*this.scrollSpeed*-1:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=i*this.scrollSpeed*-1:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(nt(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),le=ae.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){ae.call(this,e),this.component=t},listenStart:function(t){var e,n,i,r=this.subjectEl;ae.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(n={left:t.pageX,top:t.pageY},i=n,r&&(e=f(r),i=x(i,e)),this.origHit=this.queryHit(i.left,i.top),r&&this.options.subjectCenter&&(this.origHit&&(e=_(this.origHit,e)||e),i=C(e)),this.coordAdjust=E(i,n)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function(t){var e;ae.prototype.dragStart.apply(this,arguments),e=this.queryHit(t.pageX,t.pageY),e&&this.hitOver(e)},drag:function(t,e,n){var i;ae.prototype.drag.apply(this,arguments),i=this.queryHit(n.pageX,n.pageY),wt(i,this.hit)||(this.hit&&this.hitOut(),i&&this.hitOver(i))},dragStop:function(){this.hitDone(),ae.prototype.dragStop.apply(this,arguments)},hitOver:function(t){var e=wt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},hitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function(){ae.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function(){ae.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),ue=vt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,r.removeElement(),this.top0=this.left0=null,n&&n()}var r=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ce=Bt.Grid=vt.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=nt(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),t=n.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=n.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?P(t,e,this.largeUnit):M(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(t,e){},getHitSpan:function(t){},getHitEl:function(t){},setElement:function(e){var n=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||n.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,n,i=this,r=this.view,s=r.opt("selectable"),l=new le(this,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},hitOver:function(t,r,a){a&&(e=r?t:null,s&&(n=i.computeSelection(i.getHitSpan(a),i.getHitSpan(t)),n?i.renderSelection(n):n===!1&&o()))},hitOut:function(){e=null,n=null,i.unrenderSelection(),a()},listenStop:function(t){e&&r.triggerDayClick(i.getHitSpan(e),i.getHitEl(e),t),n&&r.reportSelection(n,t),a()}});l.mousedown(t)},renderEventLocationHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?z(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n=this.computeSelectionSpan(t,e);return n&&!this.view.calendar.isSelectionSpanAllowed(n)?!1:n},computeSelectionSpan:function(t,e){var n=[t.start,t.end,e.start,e.end];return n.sort(tt),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,s=this[e+"SegEl"],o="",a=[];if(n.length){for(i=0;i<n.length;i++)o+=this.fillSegHtml(e,n[i]);t(o).each(function(e,i){var o=n[e],l=t(i);s&&(l=s.call(r,o,l)),l&&(l=t(l),l.is(r.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],s=J(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow(),i=["fc-"+Wt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}});ce.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)(_t(t[e])?n:i).push(t[e]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,s="",o=[];if(e.length){for(i=0;i<e.length;i++)s+=this.fgSegHtml(e[i],n);t(s).each(function(n,i){var s=e[n],a=r.resolveEventEl(s.event,t(i));a&&(a.data("fc-seg",s),s.el=a,o.push(s))})}return o},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,r){t(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,r,t(r.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&e.segDragMousedown(i,r)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var r=t(this).data("fc-seg");return!r||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i=this,r=this.view,s=r.calendar,l=t.el,u=t.event,c=new ue(t.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),d=new le(r,{distance:5,scroll:r.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){c.hide(),c.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),r.hideEvent(u)},hitOver:function(e,a,l){t.hit&&(l=t.hit),n=i.computeEventDrop(l.component.getHitSpan(l),e.component.getHitSpan(e),u),n&&!s.isEventSpanAllowed(i.eventToSpan(n),u)&&(o(),n=null),n&&r.renderDrag(n,t)?c.hide():c.show(),a&&(n=null)},hitOut:function(){r.unrenderDrag(),c.show(),n=null},hitDone:function(){a()},dragStop:function(e){c.stop(!n,function(){r.unrenderDrag(),r.showEvent(u),i.segDragStop(t,e),n&&r.reportEventDrop(u,n,this.largeUnit,l,e)})},listenStop:function(){c.stop()}});d.mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,s=this.view.calendar,o=t.start,a=e.start;return o.hasTime()===a.hasTime()?(i=this.diffDates(a,o),n.allDay&&O(i)?(r={start:n.start.clone(),end:s.getEventEnd(n),allDay:!1},s.normalizeEventTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,r,s=this.view;s.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=s.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,r=this,s=this.view.calendar,l=Tt(t),u=new le(this,{listenStart:function(){r.isDraggingExternal=!0},hitOver:function(t){i=r.computeExternalDrop(t.component.getHitSpan(t),l),i&&!s.isExternalSpanAllowed(r.eventToSpan(i),i,l.eventProps)&&(o(),i=null),i&&r.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){a(),r.unrenderDrag()},dragStop:function(){i&&r.view.reportExternalDrop(l,i,t,e,n)},listenStop:function(){r.isDraggingExternal=!1}});u.startDrag(e)},computeExternalDrop:function(t,e){var n=this.view.calendar,i={start:n.applyTimezone(t.start),end:null};return e.startTime&&!i.start.hasTime()&&i.start.time(e.startTime),e.duration&&(i.end=i.start.clone().add(e.duration)),i},renderDrag:function(t,e){},unrenderDrag:function(){},segResizeMousedown:function(t,e,n){var i,r=this,s=this.view,l=s.calendar,u=t.el,c=t.event,d=l.getEventEnd(c),h=new le(this,{distance:5,scroll:s.opt("dragScroll"),subjectEl:u,dragStart:function(e){r.triggerSegMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(e,a,u){var h=r.getHitSpan(u),p=r.getHitSpan(e);i=n?r.computeEventStartResize(h,p,c):r.computeEventEndResize(h,p,c),i&&(l.isEventSpanAllowed(r.eventToSpan(i),c)?i.start.isSame(c.start)&&i.end.isSame(d)&&(i=null):(o(),i=null)),i&&(s.hideEvent(c),r.renderEventResize(i,t))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),s.showEvent(c),a()},dragStop:function(e){r.segResizeStop(t,e),i&&s.reportEventResize(c,i,this.largeUnit,u,e)}});h.mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,s,o=this.view.calendar,a=this.diffDates(n[t],e[t]);return r={start:i.start.clone(),end:o.getEventEnd(i),allDay:i.allDay},r.allDay&&O(a)&&(r.allDay=!1,o.normalizeEventTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(s=this.minResizeDuration||(i.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==t?r.start=r.end.clone().subtract(s):r.end=r.start.clone().add(s)),r},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getSegSkinCss:function(t){var e=t.event,n=this.view,i=e.source||{},r=e.color,s=i.color,o=n.opt("eventColor");return{"background-color":e.backgroundColor||r||i.backgroundColor||s||n.opt("eventBackgroundColor")||o,"border-color":e.borderColor||r||i.borderColor||s||n.opt("eventBorderColor")||o,color:e.textColor||i.textColor||n.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,n){var i=this,r=Et(e),s=[];return t.each(r,function(t,e){var r,o=[];for(r=0;r<e.length;r++)o.push(i.eventToRange(e[r]));if(xt(e[0]))for(o=i.invertRanges(o),r=0;r<o.length;r++)s.push.apply(s,i.eventRangeToSegs(o[r],e[0],n));else for(r=0;r<o.length;r++)s.push.apply(s,i.eventRangeToSegs(o[r],e[r],n))}),s},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,n){var i,r=this.eventRangeToSpans(t,e),s=[];for(i=0;i<r.length;i++)s.push.apply(s,this.eventSpanToSegs(r[i],e,n));return s},eventRangeToSpans:function(e,n){return[t.extend({},e)]},eventSpanToSegs:function(t,e,n){var i,r,s=n?n(t):this.spanToSegs(t);for(i=0;i<s.length;i++)r=s[i],r.event=e,r.eventStartMS=+t.start,r.eventDurationMS=t.end-t.start;return s},invertRanges:function(t){var e,n,i=this.view,r=i.start.clone(),s=i.end.clone(),o=[],a=r;for(t.sort(kt),e=0;e<t.length;e++)n=t[e],n.start>a&&o.push({start:a,end:n.start}),a=n.end;return s>a&&o.push({start:a,end:s}),o},sortEventSegs:function(t){t.sort(nt(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||T(t.event,e.event,this.view.eventOrderSpecs)}}),Bt.isBgEvent=_t,Bt.dataAttrPrefix="";var de=Bt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,n,i=this.view,r=this.start.clone(),s=-1,o=[],a=[];r.isBefore(this.end);)i.isHiddenDay(r)?o.push(s+.5):(s++,o.push(s),a.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);n=Math.ceil(a.length/t)}else n=1,t=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var n=this.getCellDate(t,e),i=n.clone().add(1,"days");return{start:n,end:i}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,n,i,r,s,o=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),u=this.getDateDayIndex(a.end.clone().subtract(1,"days")),c=[];for(e=0;e<this.rowCnt;e++)n=e*o,i=n+o-1,r=Math.max(l,n),s=Math.min(u,i),r=Math.ceil(r),s=Math.floor(s),s>=r&&c.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:s-n,isStart:r===l,isEnd:s===u});return c},sliceRangeByDay:function(t){var e,n,i,r,s,o,a=this.daysPerRow,l=this.view.computeDayRange(t),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)for(n=e*a,i=n+a-1,r=n;i>=r;r++)s=Math.max(u,r),o=Math.min(c,r),s=Math.ceil(s),o=Math.floor(o),o>=s&&d.push({row:e,firstRowDayIndex:s-n,lastRowDayIndex:o-n,isStart:s===u,isEnd:o===c});return d},renderHeadHtml:function(){var t=this.view;return'<div class="fc-row '+t.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},renderHeadDateCellHtml:function(t,e,n){var i=this.view;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Wt[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+Z(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(t){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(t,e){var n=this.view,i=this.getDayClasses(t);return i.unshift("fc-day",n.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},he=Bt.DayGrid=ce.extend(de,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,n,i=this.view,r=this.rowCnt,s=this.colCnt,o="";for(e=0;r>e;e++)o+=this.renderDayRowHtml(e,t);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new oe({els:this.rowEls,isVertical:!0}),this.colCoordCache=new oe({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;r>e;e++)for(n=0;s>n;n++)i.trigger("dayRender",null,this.getCellDate(e,n),this.getCellEl(e,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},renderDayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(t){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,n,i=this.sliceRangeByRow(t);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);return null!=i&&null!=n?this.getCellHit(i,n):void 0},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){return this.renderHighlight(this.eventToSpan(t)),e&&!e.el.closest(this.el).length?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,n){var i,r=[],s=this.eventToSegs(e);s=this.renderFgSegEls(s),i=this.renderSegRows(s),this.rowEls.each(function(e,s){var o,a=t(s),l=t('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(i[e].tbodyEl),a.append(l),r.push(l[0])}),this.helperEls=t(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,s,o,a=[];for(n=this.renderFillSegEls(e,n),r=0;r<n.length;r++)s=n[r],o=this.renderFillRow(e,s,i),this.rowEls.eq(s.row).append(o),a.push(o[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,i){var r,s,o=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),s=r.find("tr"),a>0&&s.append('<td colspan="'+a+'"/>'),s.append(n.el.attr("colspan",l-a)),o>l&&s.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(s),r}});he.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ce.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ce.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return ce.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,s=t.event,o=r.isEventDraggable(s),a=!e&&s.allDay&&t.isStart&&r.isEventResizableFromStart(s),l=!e&&s.allDay&&t.isEnd&&r.isEventResizableFromEnd(s),u=this.getSegClasses(t,o,a||l),c=J(this.getSegSkinCss(t)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(s),n&&(d='<span class="fc-time">'+Z(n)+"</span>")),i='<span class="fc-title">'+(Z(s.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(s.url?' href="'+Z(s.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>o;)c=(v[r-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),a.append(c)),m[r][o]=c,v[r][o]=c,o++}var r,s,o,a,l,u,c,d=this.colCnt,h=this.buildSegLevels(n),p=Math.max(1,h.length),f=t("<tbody/>"),g=[],m=[],v=[];for(r=0;p>r;r++){if(s=h[r],o=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),s)for(l=0;l<s.length;l++){for(u=s[l],i(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[r][o]=c;o<=u.rightCol;)m[r][o]=c,g[r][o]=u,o++;a.append(c);
}i(d),this.bookendCells(a),f.append(a)}return{row:e,tbodyEl:f,cellMatrix:m,segMatrix:g,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Dt(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(Rt);return r},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),he.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){s=Math.max(s,t(n).outerHeight())}var i,r,s,o=this.rowEls.eq(e),a=o.height(),l=this.rowStructs[e].tbodyEl.children();for(i=0;i<l.length;i++)if(r=l.eq(i).removeClass("fc-limited"),s=0,r.find("> td > :first-child").each(n),r.position().top+s>a)return i;return!1},limitRow:function(e,n){function i(i){for(;i>_;)u=b.getCellSegs(e,_,n),u.length&&(h=s[n-1][_],y=b.renderMoreLink(e,_,u),v=t("<div/>").append(y),h.append(v),S.push(v[0])),_++}var r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b=this,w=this.rowStructs[e],S=[],_=0;if(n&&n<w.segLevels.length){for(r=w.segLevels[n-1],s=w.cellMatrix,o=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<r.length;a++){for(l=r[a],i(l.leftCol),d=[],c=0;_<=l.rightCol;)u=this.getCellSegs(e,_,n),d.push(u),c+=u.length,_++;if(c){for(h=s[n-1][l.leftCol],p=h.attr("rowspan")||1,f=[],g=0;g<d.length;g++)m=t('<td class="fc-more-cell"/>').attr("rowspan",p),u=d[g],y=this.renderMoreLink(e,l.leftCol+g,[l].concat(u)),v=t("<div/>").append(y),m.append(v),f.push(m[0]),S.push(m[0]);h.addClass("fc-limited").after(t(f)),o.push(h[0])}}i(this.colCnt),w.moreEls=t(S),w.limitedEls=t(o)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n,i){var r=this,s=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(o){var a=s.opt("eventLimitClick"),l=r.getCellDate(e,n),u=t(this),c=r.getCellEl(e,n),d=r.getCellSegs(e,n),h=r.resliceDaySegs(d,l),p=r.resliceDaySegs(i,l);"function"==typeof a&&(a=s.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:u,segs:h,hiddenSegs:p},o)),"popover"===a?r.showSegPopover(e,n,u,h):"string"==typeof a&&s.calendar.zoomTo(l,a)})},showSegPopover:function(t,e,n,i){var r,s,o=this,a=this.view,l=n.parent();r=1==this.rowCnt?a.el:this.rowEls.eq(t),s={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?s.right=l.offset().left+l.outerWidth()+1:s.left=l.offset().left-1,this.segPopover=new se(s),this.segPopover.show()},renderSegPopoverContent:function(e,n,i){var r,s=this.view,o=s.opt("theme"),a=this.getCellDate(e,n).format(s.opt("dayPopoverFormat")),l=t('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+Z(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(e,n),this.releaseHits(),u.append(i[r].el);return l},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone(),s=r.clone().add(1,"days"),o={start:r,end:s};return e=this.eventsToSegs(i,function(t){var e=H(t,o);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,n){for(var i,r=this.rowStructs[t].segMatrix,s=n||0,o=[];s<r.length;)i=r[s][e],i&&o.push(i),s++;return o}});var pe=Bt.TimeGrid=ce.extend(de,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ce.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new oe({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new oe({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,n,i,r=this.view,s=this.isRTL,o="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),n=et(N(a,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+Z(t.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(s?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(s?i:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var n,i=this.view,r=i.opt("slotDuration"),s=i.opt("snapDuration");r=e.duration(r),s=s?e.duration(s):r,this.slotDuration=r,this.snapDuration=s,this.snapsPerSlot=r/s,this.minResizeDuration=s,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),t.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("axisFormat")||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?e.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(t){var n,i,r;for(n=Re.length-1;n>=0;n--)if(i=e.duration(Re[n]),r=N(i,t),et(r)&&r>1)return i;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache,s=i.getHorizontalIndex(t),o=r.getVerticalIndex(e);if(null!=s&&null!=o){var a=r.getTopOffset(o),l=r.getHeight(o),u=(e-a)/l,c=Math.floor(u*n),d=o*n+c,h=a+c/n*l,p=a+(c+1)/n*l;return{col:s,snap:d,component:this,left:i.getLeftOffset(s),right:i.getRightOffset(s),top:h,bottom:p}}},getHitSpan:function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),{start:n,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,n=this.sliceRangeByTimes(t);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},sliceRangeByTimes:function(t){var e,n,i,r,s=[];for(n=0;n<this.daysPerRow;n++)i=this.dayDates[n].clone(),r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=H(t,r),e&&(e.dayIndex=n,s.push(e));return s},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i=this.slatEls.length,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),e=Math.min(e,i-1),n=r-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},renderDrag:function(t,e){if(e){this.renderEventLocationHelper(t,e);for(var n=0;n<this.helperSegs.length;n++)this.applyDragOpacity(this.helperSegs[n].el);return!0}this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(),e=this.eventsToSegs(t);this.renderBusinessSegs(e)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var n,i=this.spanToSegs({start:e,end:e}),r=this.computeDateTop(e,e),s=[];for(n=0;n<i.length;n++)s.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&s.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(s)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});pe.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,n,i="";for(e=0;e<this.colCnt;e++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=t('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,e){var n,i,r;for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),n=0;n<t.length;n++)i=t[n],e&&e.col===i.col&&(r=e.el,i.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperSegs=t},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},attachSegsByCol:function(t,e){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=t[n],r=0;r<i.length;r++)e.eq(n).append(i[r].el)},unrenderNamedSegs:function(t){var e,n=this[t];if(n){for(e=0;e<n.length;e++)n[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var n,i;for(t=this.renderFgSegEls(t),n=this.groupSegsByCol(t),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,e),t},fgSegHtml:function(t,e){var n,i,r,s=this.view,o=t.event,a=s.isEventDraggable(o),l=!e&&t.isStart&&s.isEventResizableFromStart(o),u=!e&&t.isEnd&&s.isEventResizableFromEnd(o),c=this.getSegClasses(t,a,l||u),d=J(this.getSegSkinCss(t));return c.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(o),i=this.getEventTimeText(o,"LT"),r=this.getEventTimeText(o,null,!1)),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+Z(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+Z(r)+'" data-full="'+Z(i)+'"><span>'+Z(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+Z(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,n,i;if(this.sortEventSegs(t),e=Ht(t),Mt(e),n=e[0]){for(i=0;i<n.length;i++)jt(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(nt(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,s=t.forwardCoord,o=this.generateSegVerticalCss(t);return i&&(s=Math.min(1,r+2*(s-r))),this.isRTL?(e=1-s,n=r):(e=r,n=1-s),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*n+"%",i&&t.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var fe=Bt.View=vt.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=k(this.opt("eventOrder")),this.documentMousedownProxy=nt(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=F(this.intervalDuration),r=t.clone().startOf(i),s=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),s.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),s.hasTime()||(s=this.calendar.time(0))),e=r.clone(),e=this.skipHiddenDays(e),n=s.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:s,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),ht(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var n=this,i=null;return this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return n.displaying=t.when(n.displayView(e)).then(function(){n.forceScroll(n.computeInitialScroll(i)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var e=this,n=this.displaying;return n?n.then(function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,n,i,r=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(),t&&(n=nt(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,n(),i=+e.duration(1,t),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(n,i)},i)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return e=this.el.add(i),e.css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(t){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return X(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var s=this.calendar,o=s.mutateEvent(t,e,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventDrop(t,o.dateDelta,a,i,r),s.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,s){var o,a,l=e.eventProps;l&&(o=t.extend({},l,n),a=this.calendar.renderEvent(o,e.stick)[0]),this.triggerExternalDrop(a,n,i,r,s)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return X(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var s=this.calendar,o=s.mutateEvent(t,e,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventResize(t,o.durationDelta,a,i,r),s.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&S(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n)},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),ge=Bt.Calendar=vt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:It,initialize:function(){},initOptions:function(t){var e,r,s,o;t=i(t),e=t.lang,r=me[e],r||(e=ge.defaults.lang,r=me[e]||{}),s=X(t.isRTL,r.isRTL,ge.defaults.isRTL),o=s?ge.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=r,this.overrides=t,this.options=n([ge.defaults,o,r,t]),Lt(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(-1!=t.inArray(e,Vt))for(n=this.header.getViewsWithButtons(),t.each(Bt.views,function(t){n.push(t)}),i=0;i<n.length;i++)if(r=this.getViewSpec(n[i]),r&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,s,o,a=this.overrides.views||{},l=[],u=[],c=[],d=t;d;)i=qt[d],r=a[d],d=null,"function"==typeof i&&(i={"class":i}),i&&(l.unshift(i),u.unshift(i.defaults||{}),s=s||i.duration,d=d||i.type),r&&(c.unshift(r),s=s||r.duration,d=d||r.type);return i=q(l),i.type=t,i["class"]?(s&&(s=e.duration(s),s.valueOf()&&(i.duration=s,o=F(s),1===s.as(o)&&(i.singleUnit=o,c.unshift(a[o]||{})))),i.defaults=n(u),i.overrides=n(c),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i):!1},buildViewSpecOptions:function(t){t.options=n([ge.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),Lt(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(ge.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:n}}});ge.mixin(re),ge.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ge.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ge.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var me=Bt.langs={};Bt.datepickerLang=function(e,n,i){var r=me[e]||(me[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(ve,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Bt.lang=function(e,i){var r,s;r=me[e]||(me[e]={}),i&&(r=me[e]=n([r,i])),s=Nt(e),t.each(ye,function(t,e){null==r[t]&&(r[t]=e(s,r))}),ge.defaults.lang=e};var ve={buttonText:function(t){return{prev:Q(t.prevText),next:Q(t.nextText),today:Q(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},ye={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},be={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Bt.lang("en",ge.englishDefaults),Bt.sourceNormalizers=[],Bt.sourceFetchers=[];var we={dataType:"json",cache:!1},Se=1;ge.prototype.getPeerEvents=function(t,e){var n,i,r=this.getEventCache(),s=[];for(n=0;n<r.length;n++)i=r[n],e&&e._id===i._id||s.push(i);return s};var _e=Bt.BasicView=fe.extend({dayGridClass:he,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){var t=this.dayGridClass.extend(xe);return new t(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=fe.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),
this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.removeSegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&d(this.scrollerEl,n)&&(r(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),xe={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+Z(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},Ce=Bt.MonthView=_e.extend({computeRange:function(t){var e,n=_e.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});qt.basic={"class":_e},qt.basicDay={type:"basic",duration:{days:1}},qt.basicWeek={type:"basic",duration:{weeks:1}},qt.month={"class":Ce,duration:{months:1},defaults:{fixedWeekCount:!0}};var Ee=Bt.AgendaView=fe.extend({timeGridClass:pe,timeGrid:null,dayGridClass:he,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function(){var t=this.timeGridClass.extend(ke);return new t(this)},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Te);return new t(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),fe.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=De),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),d(this.scrollerEl,i)?(r(this.noScrollRowEls,v(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var n=this.timeGrid.queryHit(t,e);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(t,e)),n},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,n,i=[],r=[],s=[];for(n=0;n<t.length;n++)t[n].allDay?i.push(t[n]):r.push(t[n]);e=this.timeGrid.renderEvents(r),this.dayGrid&&(s=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),ke={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+Z(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Te={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||Z(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},De=5,Re=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return qt.agenda={"class":Ee,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},qt.agendaDay={type:"agenda",duration:{days:1}},qt.agendaWeek={type:"agenda",duration:{weeks:1}},Bt}),/*!
 * FullCalendar v2.6.1 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e,o,a,l,u){function c(n,i){var s=i||[{message:n}];(e.googleCalendarError||t.noop).apply(u,s),(u.options.googleCalendarError||t.noop).apply(u,s),r.warn.apply(null,[n].concat(i||[]))}var d,h,p=i+"/"+encodeURIComponent(e.googleCalendarId)+"/events?callback=?",f=e.googleCalendarApiKey||u.options.googleCalendarApiKey,g=e.success;return f?(o.hasZone()||(o=o.clone().utc().add(-1,"day")),a.hasZone()||(a=a.clone().utc().add(1,"day")),l&&"local"!=l&&(h=l.replace(" ","_")),d=t.extend({},e.data||{},{key:f,timeMin:o.format(),timeMax:a.format(),timeZone:h,singleEvents:!0,maxResults:9999}),t.extend({},e,{googleCalendarId:null,url:p,data:d,startParam:!1,endParam:!1,timezoneParam:!1,success:function(e){var i,r,o=[];if(e.error)c("Google Calendar API: "+e.error.message,e.error.errors);else if(e.items&&(t.each(e.items,function(t,e){var i=e.htmlLink;h&&(i=n(i,"ctz="+h)),o.push({id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:i,location:e.location,description:e.description})}),i=[o].concat(Array.prototype.slice.call(arguments,1)),r=s(g,this,i),t.isArray(r)))return r;return o}})):(c("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function n(t,e){return t.replace(/(\?.*?)?(#|$)/,function(t,n,i){return(n?n+"&":"?")+e+i})}var i="https://www.googleapis.com/calendar/v3/calendars",r=t.fullCalendar,s=r.applyAll;r.sourceNormalizers.push(function(t){var e,n=t.googleCalendarId,i=t.url;!n&&i&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(i)?n=i:((e=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(i))||(e=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(i)))&&(n=decodeURIComponent(e[1])),n&&(t.googleCalendarId=n)),n&&(null==t.editable&&(t.editable=!1),t.url=n)}),r.sourceFetchers.push(function(t,n,i,r){return t.googleCalendarId?e(t,n,i,r,this):void 0})}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){!function(){"use strict";var t=(e.defineLocale||e.lang).call(e,"ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t,e,n){return 12>t?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return t}(),t.fullCalendar.datepickerLang("ja","ja",{closeText:"\u9589\u3058\u308b",prevText:"&#x3C;\u524d",nextText:"\u6b21&#x3E;",currentText:"\u4eca\u65e5",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],weekHeader:"\u9031",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"}),t.fullCalendar.lang("ja",{buttonText:{month:"\u6708",week:"\u9031",day:"\u65e5",list:"\u4e88\u5b9a\u30ea\u30b9\u30c8"},allDayText:"\u7d42\u65e5",eventLimitText:function(t){return"\u4ed6 "+t+" \u4ef6"}})}),/*!
FullCalendar Scheduler v1.2.1
Docs & License: http://fullcalendar.io/scheduler/
(c) 2015 Adam Shaw
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){var n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S,_,x,C,E,k,T,D,R,H,M,j,P,F,I,L,N,A,O,$,B,q,z,G,W,V,Y,U,X,Z,Q,J,K,tt,et,nt,it,rt,st,ot,at,lt,ut,ct,dt,ht,pt,ft,gt,mt,vt,yt,bt,wt,St,_t,xt,Ct,Et,kt,Tt,Dt,Rt,Ht,Mt,jt,Pt,Ft,It,Lt,Nt,At=[].slice,Ot=function(t,e){function n(){this.constructor=t}for(var i in e)$t.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},$t={}.hasOwnProperty;return d=t.fullCalendar,d.schedulerVersion="1.2.1",3!==d.internalApiVersion?void d.warn("v"+d.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+d.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(i=d.Calendar,s=d.Class,W=d.View,h=d.Grid,gt=d.intersectRanges,tt=d.debounce,yt=d.isInt,dt=d.getScrollbarWidths,l=d.DragListener,ft=d.htmlEscape,X=d.computeIntervalUnit,Ht=d.proxy,Y=d.capitaliseFirstLetter,V=d.applyAll,u=d.Emitter,st=d.durationHasTime,rt=d.divideRangeByDuration,it=d.divideDurationByDuration,St=d.multiplyDuration,Dt=d.parseFieldSpecs,U=d.compareByFieldSpecs,ot=d.flexibleCompare,mt=d.intersectRects,o=d.CoordCache,at=function(t){return t.find("> td").filter(function(t,e){return e.rowSpan<=1})},jt=null,_t=function(t,e){var n,i;if(n=t.css("direction"),i=t[0],null!=e){if("rtl"===n)switch(jt){case"positive":e=e-i.clientWidth+i.scrollWidth;break;case"reverse":e=-e}return i.scrollLeft=e,t}if(e=i.scrollLeft,"rtl"===n)switch(jt){case"positive":e=e+i.clientWidth-i.scrollWidth;break;case"reverse":e=-e}return e},ct=function(t){var e,n,i;if(e=t.css("direction"),n=t[0],i=n.scrollLeft,"rtl"===e)switch(jt){case"negative":i=i-n.clientWidth+n.scrollWidth;break;case"reverse":i=-i-n.clientWidth+n.scrollWidth}return i},et=function(){var e,n,i;return e=t('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),n=e[0],i=n.scrollLeft>0?"positive":(n.scrollLeft=1,e.scrollLeft>0?"reverse":"negative"),e.remove(),i},t(function(){return jt=et()}),O=function(){function e(e,n){this.overflowX=null!=e?e:"auto",this.overflowY=null!=n?n:"auto",this.el=t('<div class="fc-scrollpane"> <div> <div class="fc-scrollpane-inner"> <div class="fc-content"/> <div class="fc-bg"/> </div> </div> </div>'),this.scrollEl=this.el.children(),this.innerEl=this.scrollEl.children(),this.contentEl=this.innerEl.find(".fc-content"),this.bgEl=this.innerEl.find(".fc-bg"),this.scrollEl.on("scroll",Ht(this,"handleScroll")).on("scroll",tt(Ht(this,"handleScrollStop"),100)),this.handlers={},this.gutters={}}return e.prototype.el=null,e.prototype.innerEl=null,e.prototype.contentEl=null,e.prototype.bgEl=null,e.prototype.overflowX=null,e.prototype.overflowY=null,e.prototype.isScrolling=!1,e.prototype.handlers=null,e.prototype.height=null,e.prototype.contentWidth=null,e.prototype.contentMinWidth=null,e.prototype.gutters=null,e.prototype.update=function(){var t,e,n,i,r,s,o;return s=this.scrollEl,i=this.overflowX,r=this.overflowY,e="invisible-scroll"===i,n="invisible-scroll"===r,s.toggleClass("fc-no-scrollbars",(e||"hidden"===i)&&(n||"hidden"===r)&&!pt(s)),s.css({overflowX:e?"scroll":i,overflowY:n?"scroll":r}),t={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},(e||n)&&(o=dt(s),e&&(t.marginTop=-o.top,t.marginBottom=-o.bottom),n&&(t.marginLeft=-o.left,t.marginRight=-o.right)),s.css(t)},e.prototype.getScrollbarWidths=function(){var t;return t=dt(this.scrollEl),"invisible-scroll"===this.overflowX&&(t.top=0,t.bottom=0),"invisible-scroll"===this.overflowY&&(t.left=0,t.right=0),t},e.prototype.handleScroll=function(){return this.isScrolling||(this.isScrolling=!0,this.trigger("scrollStart")),this.trigger("scroll",this.scrollEl.scrollTop(),this.scrollEl.scrollLeft())},e.prototype.handleScrollStop=function(){return this.isScrolling=!1,this.trigger("scrollStop")},e.prototype.setHeight=function(t){return this.height=t,this.updateCss()},e.prototype.getHeight=function(){var t;return null!=(t=this.height)?t:this.scrollEl.height()},e.prototype.setContentWidth=function(t){return this.contentWidth=t,this.updateCss()},e.prototype.setContentMinWidth=function(t){return this.contentMinWidth=t,this.updateCss()},e.prototype.setGutters=function(e){return e?t.extend(this.gutters,e):this.gutters={},this.updateCss()},e.prototype.updateCss=function(){var t;return this.scrollEl.height(this.height),t=this.gutters,this.innerEl.css({width:this.contentWidth?this.contentWidth+(t.left||0)+(t.right||0):"",minWidth:this.contentMinWidth?this.contentMinWidth+(t.left||0)+(t.right||0):void 0,paddingLeft:t.left||"",paddingRight:t.right||"",paddingTop:t.top||"",paddingBottom:t.bottom||""}),this.bgEl.css({left:t.left||"",right:t.right||"",top:t.top||"",bottom:t.bottom||""})},e.prototype.append=function(t){return this.contentEl.append(t)},e.prototype.scrollTop=function(t){return this.scrollEl.scrollTop(t)},e.prototype.scrollLeft=function(t){return this.scrollEl.scrollLeft(t)},e.prototype.on=function(t,e){var n;return((n=this.handlers)[t]||(n[t]=[])).push(e),this},e.prototype.trigger=function(){var t,e,n,i,r,s;for(n=arguments[0],t=2<=arguments.length?At.call(arguments,1):[],s=this.handlers[n]||[],i=0,r=s.length;r>i;i++)e=s[i],e.apply(this,t)},e}(),pt=function(t){var e;return e=dt(t),e.left||e.right||e.top||e.bottom},A=function(){function t(t,e){var n,i,r,s;for(this.axis=t,this.scrollers=e,r=this.scrollers,n=0,i=r.length;i>n;n++)s=r[n],this.initScroller(s)}return t.prototype.axis=null,t.prototype.scrollers=null,t.prototype.masterScroller=null,t.prototype.enabled=!0,t.prototype.enable=function(){return this.enabled=!0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.initScroller=function(t){return t.on("scrollStart",function(e){return function(){e.masterScroller||(e.masterScroller=t)}}(this)).on("scroll",function(e){return function(n,i){var r,s,o,a;if(t===e.masterScroller)for(a=e.scrollers,r=0,s=a.length;s>r;r++)if(o=a[r],o!==e.masterScroller)switch(e.axis){case"horizontal":o.scrollLeft(i);break;case"vertical":o.scrollTop(n)}}}(this)).on("scrollStop",function(e){return function(){t===e.masterScroller&&(e.masterScroller=null)}}(this))},t.prototype.update=function(){var t,e,n,i,r,s,o,a,l,u,c,d,h;for(t=function(){var t,e,n,i;for(n=this.scrollers,i=[],t=0,e=n.length;e>t;t++)d=n[t],i.push(d.getScrollbarWidths());return i}.call(this),a=l=u=o=0,n=0,r=t.length;r>n;n++)h=t[n],a=Math.max(a,h.left),l=Math.max(l,h.right),u=Math.max(u,h.top),o=Math.max(o,h.bottom);for(c=this.scrollers,e=i=0,s=c.length;s>i;e=++i)d=c[e],h=t[e],d.setGutters("horizontal"===this.axis?{left:a-h.left,right:l-h.right}:{top:u-h.top,bottom:o-h.bottom})},t}(),L=function(){function e(t){this.scroller=t,this.sprites=[],this.scroller.on("scrollStart",function(t){return function(){return t.shouldRequeryDimensions?t.cacheDimensions():void 0}}(this)),this.scroller.on("scroll",function(t){return function(e,n){var i,r,s;return r=t.scroller.scrollEl,i=ct(r),s=r.scrollTop(),t.viewportRect={left:i,right:i+r[0].clientWidth,top:s,bottom:s+r[0].clientHeight},t.updatePositions()}}(this))}return e.prototype.scroller=null,e.prototype.scrollbarWidths=null,e.prototype.sprites=null,e.prototype.viewportRect=null,e.prototype.contentOffset=null,e.prototype.isHFollowing=!0,e.prototype.isVFollowing=!1,e.prototype.containOnNaturalLeft=!1,e.prototype.containOnNaturalRight=!1,e.prototype.shouldRequeryDimensions=!1,e.prototype.minTravel=0,e.prototype.isForcedAbsolute=!1,e.prototype.isForcedRelative=!1,e.prototype.setSprites=function(e){var n,i,r;if(this.clearSprites(),e instanceof t)return this.sprites=function(){var n,i,s;for(s=[],n=0,i=e.length;i>n;n++)r=e[n],s.push(new N(t(r),this));return s}.call(this);for(n=0,i=e.length;i>n;n++)r=e[n],r.follower=this;return this.sprites=e},e.prototype.clearSprites=function(){var t,e,n,i;for(n=this.sprites,t=0,e=n.length;e>t;t++)i=n[t],i.clear();return this.sprites=[]},e.prototype.cacheDimensions=function(){var t,e,n,i,r,s,o;for(r=this.scroller.scrollEl,e=ct(r),o=r.scrollTop(),this.viewportRect={left:e,right:e+r[0].clientWidth,top:o,bottom:o+r[0].clientHeight},this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.innerEl.offset(),i=this.sprites,t=0,n=i.length;n>t;t++)s=i[t],s.cacheDimensions()},e.prototype.forceAbsolute=function(){var t,e,n,i,r;for(this.isForcedAbsolute=!0,n=this.sprites,i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(r.doAbsolute?void 0:r.assignPosition());return i},e.prototype.forceRelative=function(){var t,e,n,i,r;for(this.isForcedRelative=!0,n=this.sprites,i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(r.doAbsolute?r.assignPosition():void 0);return i},e.prototype.clearForce=function(){var t,e,n,i,r;for(this.isForcedRelative=!1,this.isForcedAbsolute=!1,n=this.sprites,i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(r.assignPosition());return i},e.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},e.prototype.updatePositions=function(){var t,e,n,i;for(n=this.sprites,t=0,e=n.length;e>t;t++)i=n[t],i.updatePosition()},e.prototype.getContentRect=function(t){var e,n,i;return n=t.offset(),e=n.left+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.left,i=n.top+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.top,{left:e,right:e+t.width(),top:i,bottom:i+t.height()}},e.prototype.getBoundingRect=function(t){var e,n,i;return n=t.offset(),e=n.left-this.contentOffset.left,i=n.top-this.contentOffset.top,{left:e,right:e+t.outerWidth(),top:i,bottom:i+t.outerHeight()}},e}(),N=function(){function t(t,e){this.el=t,this.follower=null!=e?e:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return t.prototype.follower=null,t.prototype.el=null,t.prototype.absoluteEl=null,t.prototype.naturalRect=null,t.prototype.parentRect=null,t.prototype.containerRect=null,t.prototype.isEnabled=!0,t.prototype.isHFollowing=!1,t.prototype.isVFollowing=!1,t.prototype.doAbsolute=!1,t.prototype.isAbsolute=!1,t.prototype.isCentered=!1,t.prototype.rect=null,t.prototype.isBlock=!1,t.prototype.naturalWidth=null,t.prototype.disable=function(){return this.isEnabled?(this.isEnabled=!1,this.resetPosition(),this.unabsolutize()):void 0},t.prototype.enable=function(){return this.isEnabled?void 0:(this.isEnabled=!0,this.assignPosition())},t.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},t.prototype.cacheDimensions=function(){var t,e,n,i,r,s,o,a;return i=!1,r=!1,n=!1,this.naturalWidth=this.el.width(),this.resetPosition(),e=this.follower,o=this.naturalRect=e.getBoundingRect(this.el),a=this.el.parent(),this.parentRect=e.getBoundingRect(a),t=this.containerRect=wt(e.getContentRect(a),o),s=e.minTravel,e.containOnNaturalLeft&&(t.left=o.left),e.containOnNaturalRight&&(t.right=o.right),e.isHFollowing&&ut(t)-ut(o)>=s&&(n="center"===this.el.css("text-align"),i=!0),e.isVFollowing&&lt(t)-lt(o)>=s&&(r=!0),this.isHFollowing=i,this.isVFollowing=r,this.isCentered=n},t.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},t.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},t.prototype.computePosition=function(){var t,e,n,i,r,s,o,a;return o=this.follower.viewportRect,n=this.parentRect,t=this.containerRect,a=mt(o,n),i=null,e=!1,a&&(i=J(this.naturalRect),s=mt(i,n),(this.isCentered&&!Pt(o,n)||s&&!Pt(o,s))&&(e=!0,this.isHFollowing&&(this.isCentered?(r=ut(i),i.left=(a.left+a.right)/2-r/2,i.right=i.left+r):ht(i,o)||(e=!1),ht(i,t)&&(e=!1)),this.isVFollowing&&(Nt(i,o)||(e=!1),Nt(i,t)&&(e=!1)),Pt(o,i)||(e=!1))),this.rect=i,this.doAbsolute=e},t.prototype.assignPosition=function(){var t,e;return this.isEnabled?this.rect?!this.doAbsolute&&!this.follower.isForcedAbsolute||this.follower.isForcedRelative?(e=this.rect.top-this.naturalRect.top,t=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(e||t)).css({top:e,left:t})):(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):this.unabsolutize():void 0},t.prototype.absolutize=function(){return this.isAbsolute?void 0:(this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0)},t.prototype.unabsolutize=function(){return this.isAbsolute?(this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1):void 0},t.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},t}(),J=function(t){return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}},ut=function(t){return t.right-t.left},lt=function(t){return t.bottom-t.top},Pt=function(t,e){return Ft(t,e)&&It(t,e)},Ft=function(t,e){return e.left>=t.left&&e.right<=t.right},It=function(t,e){return e.top>=t.top&&e.bottom<=t.bottom},ht=function(t,e){return t.left<e.left?(t.right=e.left+ut(t),t.left=e.left,!0):t.right>e.right?(t.left=e.right-ut(t),t.right=e.right,!0):!1},Nt=function(t,e){return t.top<e.top?(t.bottom=e.top+lt(t),t.top=e.top,!0):t.bottom>e.bottom?(t.top=e.bottom-lt(t),t.bottom=e.bottom,!0):!1},wt=function(t,e){return{left:Math.min(t.left,e.left),right:Math.max(t.right,e.right),top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom)}},r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.prototype.resourceManager=null,n.prototype.initialize=function(){return this.resourceManager=new k(this)},n.prototype.instantiateView=function(t){var e,n;return e=this.getViewSpec(t),n=e["class"],this.options.resources&&e.options.resources!==!1&&(e.queryResourceClass?n=e.queryResourceClass(e)||n:e.resourceClass&&(n=e.resourceClass)),new n(this,t,e.options,e.duration)},n.prototype.getResources=function(){return this.resourceManager.topLevelResources},n.prototype.addResource=function(t,e){var n;null==e&&(e=!1),n=this.resourceManager.addResource(t),e&&this.view.scrollToResource&&n.done(function(t){return function(e){return t.view.scrollToResource(e)}}(this))},n.prototype.removeResource=function(t){return this.resourceManager.removeResource(t)},n.prototype.refetchResources=function(){this.resourceManager.fetchResources()},n.prototype.rerenderResources=function(){this.resourceManager.resetResources()},n.prototype.getPeerEvents=function(t,e){var i,r,s,o,a,l,u,c,d,h,p,f,g,m;for(f=n.__super__.getPeerEvents.apply(this,arguments),h=t.resourceId?[t.resourceId]:e?this.getEventResourceIds(e):[],i=[],s=0,l=f.length;l>s;s++){if(p=f[s],r=!1,m=this.getEventResourceIds(p),m.length&&h.length){for(o=0,u=m.length;u>o;o++)for(g=m[o],a=0,c=h.length;c>a;a++)if(d=h[a],d===g){r=!0;break}}else r=!0;r&&i.push(p)}return i},n.prototype.buildSelectSpan=function(t,e,i){var r;return r=n.__super__.buildSelectSpan.apply(this,arguments),i&&(r.resourceId=i),r},n.prototype.getResourceById=function(t){return this.resourceManager.getResourceById(t)},n.prototype.getEventResourceId=function(t){return this.getEventResourceIds(t)[0]},n.prototype.getEventResourceIds=function(t){var e,n,i,r,s,o,a,l;if(l=String(null!=(s=null!=(o=t[this.getEventResourceField()])?o:t.resourceId)?s:""))return[l];if(t.resourceIds){for(r=[],a=t.resourceIds,e=0,n=a.length;n>e;e++)l=a[e],i=String(null!=l?l:""),i&&r.push(i);return r}return[]},n.prototype.setEventResourceId=function(t,e){return t[this.getEventResourceField()]=String(null!=e?e:"")},n.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},n.prototype.getResourceEvents=function(e){var n;return n="object"==typeof e?e:this.getResourceById(e),n?this.clientEvents(function(e){return function(i){return-1!==t.inArray(n.id,e.getEventResourceIds(i))}}(this)):[]},n.prototype.getEventResource=function(t){return this.getEventResources(t)[0]},n.prototype.getEventResources=function(t){var e,n,i,r,s,o,a;if(e="object"==typeof t?t:this.clientEvents(t)[0],a=[],e)for(r=this.getEventResourceIds(e),n=0,i=r.length;i>n;n++)o=r[n],s=this.getResourceById(o),s&&a.push(s);return a},n}(i),i.prototype=r.prototype,Ct=W.prototype.displayView,kt=W.prototype.renderSkeleton,Tt=W.prototype.unrenderSkeleton,xt=W.prototype.displayEvents,W.prototype.isResourcesBound=!1,W.prototype.settingResources=null,W.prototype.displayView=function(){return Ct.apply(this,arguments),Rt(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},W.prototype.unrenderSkeleton=function(){return Tt.apply(this,arguments),this.unbindResources()},W.prototype.displayEvents=function(t){return this.whenResources(function(e){return function(){return xt.call(e,t)}}(this))},W.prototype.bindResources=function(){var e;return this.isResourcesBound?void 0:(this.isResourcesBound=!0,this.settingResources=t.Deferred(),e=function(t){return function(e){return t.setResources(e),t.settingResources.resolve()}}(this),this.calendar.resourceManager.on("set",this._setResources=e).on("unset",this._unsetResources=Ht(this,"unsetResources")).on("reset",this._resetResources=Ht(this,"resetResources")).on("add",this._addResource=Ht(this,"addResource")).on("remove",this._removeResource=Ht(this,"removeResource")),this.calendar.resourceManager.hasFetched()?e(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources())},W.prototype.unbindResources=function(){return this.isResourcesBound?(this.calendar.resourceManager.off("set",this._setResources).off("unset",this._unsetResources).off("reset",this._resetResources).off("add",this._addResource).off("remove",this._removeResource),"resolved"===this.settingResources.state()&&this.unsetResources(),this.settingResources=null,this.isResourcesBound=!1):void 0},W.prototype.whenResources=function(e){return"resolved"===this.settingResources.state()?t.when(e?e():void 0):e?this.settingResources.then(e):this.settingResources.promise()},W.prototype.setResources=function(t){},W.prototype.unsetResources=function(){},W.prototype.resetResources=function(t){return this.calendar.rerenderEvents()},W.prototype.addResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},W.prototype.removeResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},Et=h.prototype.getSegClasses,h.prototype.getSegClasses=function(t){var e,n,i,r,s;for(e=Et.apply(this,arguments),r=this.getSegResources(t),n=0,i=r.length;i>n;n++)s=r[n],e=e.concat(s.eventClassName||[]);return e},h.prototype.getSegSkinCss=function(t){var e,n,i,r,s,o,a,l,u,c;return c=this.view,e=t.event,l=e.source||{},n=e.color,u=l.color,o=c.opt("eventColor"),a=this.getSegResources(t),i=function(){var t,e,n,i;for(i=null,e=0,n=a.length;n>e;e++)for(t=a[e];t&&!i;)i=t.eventBackgroundColor||t.eventColor,t=t._parent;return i},r=function(){var t,e,n,i;for(i=null,e=0,n=a.length;n>e;e++)for(t=a[e];t&&!i;)i=t.eventBorderColor||t.eventColor,t=t._parent;return i},s=function(){var t,e,n,i;for(i=null,e=0,n=a.length;n>e;e++)for(t=a[e];t&&!i;)i=t.eventTextColor,t=t._parent;return i},{"background-color":e.backgroundColor||n||i()||l.backgroundColor||u||c.opt("eventBackgroundColor")||o,"border-color":e.borderColor||n||r()||l.borderColor||u||c.opt("eventBorderColor")||o,color:e.textColor||s()||l.textColor||c.opt("eventTextColor")}},h.prototype.getSegResources=function(t){return t.resource?[t.resource]:this.view.calendar.getEventResources(t.event)},k=function(e){function n(t){this.calendar=t,this.initializeCache()}return Ot(n,e),n.mixin(u),n.resourceGuid=1,n.ajaxDefaults={dataType:"json",cache:!1},n.prototype.calendar=null,n.prototype.topLevelResources=null,n.prototype.resourcesById=null,n.prototype.fetching=null,n.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},n.prototype.getResources=function(){var e;return this.fetching?t.Deferred().resolve(this.topLevelResources).promise():(e=t.Deferred(),this.fetchResources().done(function(t){return e.resolve(t)}).fail(function(){return e.resolve([])}),e)},n.prototype.fetchResources=function(){var e;return e=this.fetching,t.when(e).then(function(t){return function(){return t.fetching=t.fetchResourceInputs().then(function(n){return t.setResources(n,Boolean(e)),t.topLevelResources})}}(this))},n.prototype.fetchResourceInputs=function(){var e,i,r;switch(e=t.Deferred(),r=this.calendar.options.resources,"string"===t.type(r)&&(r={url:r}),t.type(r)){case"function":r(function(t){return function(t){return e.resolve(t)}}(this));break;case"object":i=t.ajax(t.extend({},n.ajaxDefaults,r));break;case"array":e.resolve(r);break;default:e.resolve([])}return i||(i=e.promise()),"pending"===!i.state()&&(this.calendar.pushLoading(),i.always(function(){return this.calendar.popLoading()})),i},n.prototype.resetResources=function(){return this.getResources().then(function(t){return function(){return t.trigger("reset",t.topLevelResources)}}(this))},n.prototype.getResourceById=function(t){return this.resourcesById[t]},n.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},n.prototype.setResources=function(t,e){var n,i,r,s,o,a;for(this.initializeCache(),o=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)s=t[e],i.push(this.buildResource(s));return i}.call(this),a=function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)r=o[t],this.addResourceToIndex(r)&&n.push(r);return n}.call(this),n=0,i=a.length;i>n;n++)r=a[n],this.addResourceToTree(r);return e?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},n.prototype.addResource=function(e){return t.when(this.fetching).then(function(t){return function(){var n;return n=t.buildResource(e),t.addResourceToIndex(n)?(t.addResourceToTree(n),t.trigger("add",n),n):!1}}(this))},n.prototype.addResourceToIndex=function(t){var e,n,i,r;if(this.resourcesById[t.id])return!1;for(this.resourcesById[t.id]=t,r=t.children,n=0,i=r.length;i>n;n++)e=r[n],this.addResourceToIndex(e);return!0},n.prototype.addResourceToTree=function(t){var e,n,i,r;if(!t.parent){if(n=String(null!=(i=t.parentId)?i:"")){if(e=this.resourcesById[n],!e)return!1;t.parent=e,r=e.children}else r=this.topLevelResources;r.push(t)}return!0},n.prototype.removeResource=function(e){var n;return n="object"==typeof e?e.id:e,t.when(this.fetching).then(function(t){return function(){var e;return e=t.removeResourceFromIndex(n),e&&(t.removeResourceFromTree(e),t.trigger("remove",e)),e}}(this))},n.prototype.removeResourceFromIndex=function(t){var e,n,i,r,s;if(s=this.resourcesById[t]){for(delete this.resourcesById[t],r=s.children,n=0,i=r.length;i>n;n++)e=r[n],this.removeResourceFromIndex(e.id);return s}return!1},n.prototype.removeResourceFromTree=function(t,e){var n,i,r,s;for(null==e&&(e=this.topLevelResources),n=i=0,r=e.length;r>i;n=++i){if(s=e[n],s===t)return t.parent=null,e.splice(n,1),!0;if(this.removeResourceFromTree(t,s.children))return!0}return!1},n.prototype.buildResource=function(e){var i,r,s,o,a;return a=t.extend({},e),a.id=String(null!=(o=e.id)?o:"_fc"+n.resourceGuid++),s=e.eventClassName,a.eventClassName=function(){switch(t.type(s)){case"string":return s.split(/\s+/);case"array":return s;default:return[]}}(),a.children=function(){var t,n,s,o,l;for(o=null!=(s=e.children)?s:[],l=[],t=0,n=o.length;n>t;t++)r=o[t],i=this.buildResource(r),i.parent=a,l.push(i);return l}.call(this),a},n}(s),j=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.prototype.resourceTextFunc=null,n.prototype.unsetResources=function(){return this.clearEvents()},n.prototype.resetResources=function(t){var e;return e=this.queryScroll(),this.unsetResources(),this.setResources(t),this.setScroll(e),this.calendar.rerenderEvents()},n.prototype.getResourceText=function(t){return this.getResourceTextFunc()(t)},n.prototype.getResourceTextFunc=function(){var t;return this.resourceTextFunc?this.resourceTextFunc:(t=this.opt("resourceText"),"function"!=typeof t&&(t=function(t){return t.title||t.id}),this.resourceTextFunc=t)},n.prototype.triggerDayClick=function(t,e,n){var i;return i=this.calendar.resourceManager,this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n,this,i.getResourceById(t.resourceId))},n.prototype.triggerSelect=function(t,e){var n;return n=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e,this,n.getResourceById(t.resourceId))},n.prototype.triggerExternalDrop=function(t,e,n,i,r){return this.trigger("drop",n[0],e.start,i,r,e.resourceId),t?this.trigger("eventReceive",null,t):void 0},n.prototype.reportEventDrop=function(){var t,e,i;return e=arguments[0],t=arguments[1],i=3<=arguments.length?At.call(arguments,2):[],t=this.normalizeDropLocation(t),t.resourceId&&e.resourceIds&&(t.resourceIds=null),n.__super__.reportEventDrop.apply(this,[e,t].concat(At.call(i)))},n.prototype.reportExternalDrop=function(){var t,e,i;return e=arguments[0],t=arguments[1],i=3<=arguments.length?At.call(arguments,2):[],t=this.normalizeDropLocation(t),n.__super__.reportExternalDrop.apply(this,[e,t].concat(At.call(i)))},n.prototype.normalizeDropLocation=function(e){var n;return n=t.extend({},e),delete n.resourceId,this.calendar.setEventResourceId(n,e.resourceId),n},n}(W),E=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.prototype.allowCrossResource=!0,n.prototype.eventRangeToSpans=function(e,i){var r,s,o,a,l;if(a=this.view.calendar.getEventResourceIds(i),a.length){for(l=[],r=0,s=a.length;s>r;r++)o=a[r],l.push(t.extend({},e,{resourceId:o}));return l}return d.isBgEvent(i)?n.__super__.eventRangeToSpans.apply(this,arguments):[]},n.prototype.fabricateHelperEvent=function(t,e){var i;return i=n.__super__.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(i,t.resourceId),i},n.prototype.computeEventDrop=function(t,e,i){var r,s;return r=!0,r||t.resourceId===e.resourceId?(s=n.__super__.computeEventDrop.apply(this,arguments),s&&(s.resourceId=e.resourceId),s):null},n.prototype.computeExternalDrop=function(t,e){var i;return i=n.__super__.computeExternalDrop.apply(this,arguments),i&&(i.resourceId=t.resourceId),i},n.prototype.computeEventResize=function(t,e,i,r){var s;return this.allowCrossResource||e.resourceId===i.resourceId?(s=n.__super__.computeEventResize.apply(this,arguments),s&&(s.resourceId=e.resourceId),s):void 0},n.prototype.computeSelectionSpan=function(t,e){var i;return this.allowCrossResource||t.resourceId===e.resourceId?(i=n.__super__.computeSelectionSpan.apply(this,arguments),i&&(i.resourceId=t.resourceId),i):void 0},n}(h),C={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(t){return this.flattenedResources=this.flattenResources(t),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(t){var e,n,i,r;return n=this.view.opt("resourceOrder"),n?(e=Dt(n),r=function(t,n){return U(t,n,e)}):r=null,i=[],this.accumulateResources(t,r,i),i},accumulateResources:function(t,e,n){var i,r,s,o,a;for(e?(a=t.slice(0),a.sort(e)):a=t,o=[],i=0,r=a.length;r>i;i++)s=a[i],n.push(s),o.push(this.accumulateResources(s.children,e,n));return o},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),d.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?Math.floor(t/(this.resourceCnt||1)):t%this.daysPerRow},getColResource:function(t){return this.flattenedResources[this.getColResourceIndex(t)]},getColResourceIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?t%(this.resourceCnt||1):Math.floor(t/this.daysPerRow)},indicesToCol:function(t,e){var n;return n=this.datesAboveResources?e*(this.resourceCnt||1)+t:t*this.daysPerRow+e,this.isRTL&&(n=this.colCnt-1-n),n},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():d.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var t,e,n,i,r;for(r=[],n=this.flattenedResources,t=0,e=n.length;e>t;t++)i=n[t],r.push(this.renderHeadResourceCellHtml(i));return this.wrapTr(r,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var t,e,n,i,r,s,o,a,l,u;for(u=[],e=[],o=this.flattenedResources,i=0,s=o.length;s>i;i++)for(l=o[i],u.push(this.renderHeadResourceCellHtml(l,null,this.daysPerRow)),n=r=0,a=this.daysPerRow;a>r;n=r+=1)t=this.dayDates[n].clone(),e.push(this.renderHeadResourceDateCellHtml(t,l));return this.wrapTr(u,"renderHeadIntroHtml")+this.wrapTr(e,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var t,e,n,i,r,s,o,a,l,u;for(e=[],u=[],n=i=0,o=this.daysPerRow;o>i;n=i+=1)for(t=this.dayDates[n].clone(),e.push(this.renderHeadDateCellHtml(t,this.resourceCnt)),a=this.flattenedResources,r=0,s=a.length;s>r;r++)l=a[r],u.push(this.renderHeadResourceCellHtml(l,t));return this.wrapTr(e,"renderHeadIntroHtml")+this.wrapTr(u,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(t,e,n){return'<th class="fc-resource-cell" data-resource-id="'+t.id+'"'+(e?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(n>1?' colspan="'+n+'"':"")+">"+ft(this.view.getResourceText(t))+"</th>"},renderHeadResourceDateCellHtml:function(t,e,n){return this.renderHeadDateCellHtml(t,n,'data-resource-id="'+e.id+'"')},processHeadResourceEls:function(e){return e.find(".fc-resource-cell").each(function(e){return function(n,i){var r;return r=e.datesAboveResources?e.getColResource(n):e.flattenedResources[e.isRTL?e.flattenedResources.length-1-n:n],e.view.trigger("resourceRender",r,r,t(i),t())}}(this))},renderBgCellsHtml:function(t){var e,n,i,r,s,o;if(this.resourceCnt){for(i=[],e=r=0,s=this.colCnt;s>r;e=r+=1)n=this.getCellDate(t,e),o=this.getColResource(e),i.push(this.renderResourceBgCellHtml(n,o));return i.join("")}return d.DayTableMixin.renderBgCellsHtml.call(this,t)},renderResourceBgCellHtml:function(t,e){return this.renderBgCellHtml(t,'data-resource-id="'+e.id+'"')},wrapTr:function(t,e){return this.isRTL?(t.reverse(),"<tr>"+t.join("")+this[e]()+"</tr>"):"<tr>"+this[e]()+t.join("")+"</tr>"}},x=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.mixin(E),n.mixin(C),n.prototype.getHitSpan=function(t){var e;return e=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},n.prototype.spanToSegs=function(e){var n,i,r,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,i=this.datesAboveResources?this.sliceRangeByDay(e):this.sliceRangeByRow(e),c){for(p=[],s=0,l=i.length;l>s;s++)for(f=i[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],e.resourceId&&e.resourceId!==h.id||(n=t.extend({},f),n.resource=h,this.isRTL?(n.leftCol=this.indicesToCol(d,f.lastRowDayIndex),n.rightCol=this.indicesToCol(d,f.firstRowDayIndex)):(n.leftCol=this.indicesToCol(d,f.firstRowDayIndex),n.rightCol=this.indicesToCol(d,f.lastRowDayIndex)),p.push(n));return p}for(r=0,a=i.length;a>r;r++)f=i[r],this.isRTL?(f.leftCol=f.lastRowDayIndex,f.rightCol=f.firstRowDayIndex):(f.leftCol=f.firstRowDayIndex,f.rightCol=f.lastRowDayIndex);return i},n}(d.DayGrid),R=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.mixin(E),n.mixin(C),n.prototype.getHitSpan=function(t){var e;return e=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},n.prototype.spanToSegs=function(e){var n,i,r,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,i=this.sliceRangeByTimes(e),c){for(p=[],s=0,l=i.length;l>s;s++)for(f=i[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],e.resourceId&&e.resourceId!==h.id||(n=t.extend({},f),n.resource=h,n.col=this.indicesToCol(d,f.dayIndex),p.push(n));return p}for(r=0,a=i.length;a>r;r++)f=i[r],f.col=f.dayIndex;return i},
n}(d.TimeGrid),q=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ot(e,t),e.prototype.timeGrid=null,e.prototype.isScrolled=!1,e.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},e.prototype.instantiateGrid=function(){return new B(this)},e.prototype.setRange=function(t){return e.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(t)},e.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},e.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},e.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",Ht(this,"handleBodyScroll"))},e.prototype.handleBodyScroll=function(t,e){if(t){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},e.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),e.__super__.unrenderSkeleton.apply(this,arguments)},e.prototype.renderDates=function(){return this.timeGrid.renderDates()},e.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},e.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},e.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.renderNowIndicator=function(t){return this.timeGrid.renderNowIndicator(t)},e.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},e.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},e.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},e.prototype.queryHit=function(t,e){return this.timeGrid.queryHit(t,e)},e.prototype.getHitSpan=function(t){return this.timeGrid.getHitSpan(t)},e.prototype.getHitEl=function(t){return this.timeGrid.getHitEl(t)},e.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},e.prototype.setHeight=function(t,e){var n;return n=e?"auto":t-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n)},e.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},e.prototype.computeInitialScroll=function(t){return this.timeGrid.computeInitialScroll(t)},e.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},e.prototype.setScroll=function(t){return this.timeGrid.setScroll(t)},e.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.updateWidth()},e.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},e.prototype.renderDrag=function(t,e){return this.timeGrid.renderDrag(t,e)},e.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},e.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},e.prototype.renderSelection=function(t){return this.timeGrid.renderSelection(t)},e.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},e}(W),K=d.cssToStr,B=function(n){function i(){var t;i.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=e.duration(this.opt("minTime")||"00:00"),this.maxTime=e.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(t=this.opt("snapDuration"))?e.duration(t):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=it(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return Ot(i,n),i.prototype.slotDates=null,i.prototype.slotCnt=null,i.prototype.snapCnt=null,i.prototype.snapsPerSlot=null,i.prototype.snapDiffToIndex=null,i.prototype.snapIndexToDiff=null,i.prototype.headEl=null,i.prototype.slatContainerEl=null,i.prototype.slatEls=null,i.prototype.containerCoordCache=null,i.prototype.slatCoordCache=null,i.prototype.slatInnerCoordCache=null,i.prototype.headScroller=null,i.prototype.bodyScroller=null,i.prototype.joiner=null,i.prototype.follower=null,i.prototype.eventTitleFollower=null,i.prototype.minTime=null,i.prototype.maxTime=null,i.prototype.timeWindowMs=null,i.prototype.slotDuration=null,i.prototype.snapDuration=null,i.prototype.duration=null,i.prototype.labelInterval=null,i.prototype.headerFormats=null,i.prototype.isTimeScale=null,i.prototype.largeUnit=null,i.prototype.emphasizeWeeks=!1,i.prototype.titleFollower=null,i.prototype.segContainerEl=null,i.prototype.segContainerHeight=null,i.prototype.bgSegContainerEl=null,i.prototype.helperEls=null,i.prototype.innerEl=null,i.prototype.opt=function(t){return this.view.opt(t)},i.prototype.isValidDate=function(t){var e;return this.view.isHiddenDay(t)?!1:this.isTimeScale?(e=t.time()-this.minTime,e=(e%864e5+864e5)%864e5,e<this.timeWindowMs):!0},i.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},i.prototype.computeDisplayEventEnd=function(){return!1},i.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},i.prototype.normalizeGridDate=function(t){var e;return this.isTimeScale?(e=t.clone(),e.hasTime()||e.time(0)):(e=t.clone().stripTime(),this.largeUnit&&e.startOf(this.largeUnit)),e},i.prototype.normalizeGridRange=function(t){var e,n;return this.isTimeScale?n={start:this.normalizeGridDate(t.start),end:this.normalizeGridDate(t.end)}:(n=this.view.computeDayRange(t),this.largeUnit&&(n.start.startOf(this.largeUnit),e=n.end.clone().startOf(this.largeUnit),e.isSame(n.end)&&e.isAfter(n.start)||e.add(this.slotDuration),n.end=e)),n},i.prototype.rangeUpdated=function(){var t,e;for(this.start=this.normalizeGridDate(this.start).add(this.minTime),this.end=this.normalizeGridDate(this.end).subtract(1,"day").add(this.maxTime),e=[],t=this.start.clone();t<this.end;)this.isValidDate(t)&&e.push(t.clone()),t.add(this.slotDuration);return this.slotDates=e,this.updateGridDates()},i.prototype.updateGridDates=function(){var t,e,n,i,r;for(i=-1,e=0,n=[],r=[],t=this.start.clone();t<this.end;)this.isValidDate(t)?(i++,n.push(i),r.push(e)):n.push(i+.5),t.add(this.snapDuration),e++;return this.snapDiffToIndex=n,this.snapIndexToDiff=r,this.snapCnt=i+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},i.prototype.spanToSegs=function(t){var e,n;return e=this.normalizeGridRange(t),this.computeDateSnapCoverage(t.start)<this.computeDateSnapCoverage(t.end)&&(n=gt(e,this))?(n.isStart&&!this.isValidDate(n.start)&&(n.isStart=!1),n.isEnd&&n.end&&!this.isValidDate(n.end.clone().subtract(1))&&(n.isEnd=!1),[n]):[]},i.prototype.prepareHits=function(){return this.buildCoords()},i.prototype.queryHit=function(t,e){var n,i,r,s,o,a,l,u,c,d,h,p;return p=this.snapsPerSlot,s=this.slatCoordCache,n=this.containerCoordCache,null!=n.getVerticalIndex(e)&&(o=s.getHorizontalIndex(t),null!=o)?(u=s.getWidth(o),this.isRTL?(l=s.getRightOffset(o),r=(l-t)/u,i=Math.floor(r*p),c=o*p+i,h=l-i/p*u,d=h-(i+1)/p*u):(a=s.getLeftOffset(o),r=(t-a)/u,i=Math.floor(r*p),c=o*p+i,d=a+i/p*u,h=a+(i+1)/p*u),{snap:c,component:this,left:d,right:h,top:n.getTopOffset(0),bottom:n.getBottomOffset(0)}):void 0},i.prototype.getHitSpan=function(t){return this.getSnapRange(t.snap)},i.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},i.prototype.getSnapRange=function(t){var e,n;return n=this.start.clone(),n.add(St(this.snapDuration,this.snapIndexToDiff[t])),e=n.clone().add(this.snapDuration),{start:n,end:e}},i.prototype.getSnapEl=function(t){return this.slatEls.eq(Math.floor(t/this.snapsPerSlot))},i.prototype.renderSkeleton=function(){return this.headScroller=new O("invisible-scroll","hidden"),this.headEl.append(this.headScroller.el),this.bodyScroller=new O,this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.contentEl,this.slatContainerEl=t('<div class="fc-slats"/>').appendTo(this.bodyScroller.bgEl),this.segContainerEl=t('<div class="fc-event-container"/>').appendTo(this.bodyScroller.contentEl),this.bgSegContainerEl=this.bodyScroller.bgEl,this.containerCoordCache=new o({els:this.bodyScroller.innerEl,isHorizontal:!0,isVertical:!0}),this.joiner=new A("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new L(this.headScroller),this.eventTitleFollower=new L(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,i.__super__.renderSkeleton.apply(this,arguments)},i.prototype.headColEls=null,i.prototype.slatColEls=null,i.prototype.renderDates=function(){var t,e,n,i,r;for(this.headScroller.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new o({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new o({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.innerEl}),r=this.slotDates,e=n=0,i=r.length;i>n;e=++n)t=r[e],this.view.trigger("dayRender",null,t,this.slatEls.eq(e));return this.follower?this.follower.setSprites(this.headEl.find("tr:not(:last-child) span")):void 0},i.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.contentEl.add(this.bodyScroller.contentEl).css({minWidth:"",width:""})},i.prototype.renderHeadHtml=function(){var t,e,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S,_,x,C,E,k,T,D,R,H,M,j,P,F,I,L;for(g=this.labelInterval,s=this.headerFormats,e=function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)r=s[t],n.push([]);return n}(),m=null,D=null,F=this.slotDates,P=[],h=0,v=F.length;v>h;h++){for(n=F[h],L=n.week(),d=this.emphasizeWeeks&&null!==D&&D!==L,H=p=0,y=s.length;y>p;H=++p)r=s[H],M=e[H],m=M[M.length-1],c=s.length>1&&H<s.length-1,k=null,c?(I=n.format(r),i=n.format(),m&&m.text===I?m.colspan+=1:k={text:I,dateData:i,colspan:1}):!m||yt(rt(this.start,n,g))?(I=n.format(r),i=n.format(),k={text:I,dateData:i,colspan:1}):m.colspan+=1,k&&(k.weekStart=d,M.push(k));P.push({weekStart:d}),D=L}for(l=g>this.slotDuration,o="<table>",o+="<colgroup>",f=0,b=F.length;b>f;f++)n=F[f],o+="<col/>";for(o+="</colgroup>",o+="<tbody>",a=C=0,w=e.length;w>C;a=++C){for(M=e[a],u=a===e.length-1,o+="<tr"+(l&&u?' class="fc-chrono"':"")+">",E=0,S=M.length;S>E;E++)t=M[E],o+='<th class="'+this.view.widgetHeaderClass+" "+(t.weekStart?"fc-em-cell":"")+'" data-date="'+t.dateData+'"'+(t.colspan>1?' colspan="'+t.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+ft(t.text)+"</span></div></th>";o+="</tr>"}for(o+="</tbody></table>",j="<table>",j+="<colgroup>",T=0,_=P.length;_>T;T++)t=P[T],j+="<col/>";for(j+="</colgroup>",j+="<tbody><tr>",a=R=0,x=P.length;x>R;a=++R)t=P[a],n=F[a],j+=this.slatCellHtml(n,t.weekStart);return j+="</tr></tbody></table>",this._slatHtml=j,o},i.prototype.renderSlatHtml=function(){return this._slatHtml},i.prototype.slatCellHtml=function(t,e){var n;return this.isTimeScale?(n=[],n.push(yt(rt(this.start,t,this.labelInterval))?"fc-major":"fc-minor")):(n=this.getDayClasses(t),n.push("fc-day")),n.unshift(this.view.widgetContentClass),e&&n.push("fc-em-cell"),'<td class="'+n.join(" ")+'" data-date="'+t.format()+'"><div /></td>'},i.prototype.businessHourSegs=null,i.prototype.renderBusinessHours=function(){var t,e;return this.largeUnit?void 0:(t=this.view.calendar.getBusinessHoursEvents(!this.isTimeScale),e=this.businessHourSegs=this.eventsToSegs(t),this.renderFill("businessHours",e,"bgevent"))},i.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},i.prototype.nowIndicatorEls=null,i.prototype.getNowIndicatorUnit=function(){return this.isTimeScale?X(this.slotDuration):void 0},i.prototype.renderNowIndicator=function(e){var n,i,r;return r=[],e=this.normalizeGridDate(e),e>=this.start&&e<this.end&&(n=this.dateToCoord(e),i=this.isRTL?{right:-n}:{left:n},r.push(t("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(i).appendTo(this.headScroller.innerEl)[0]),r.push(t("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(i).appendTo(this.bodyScroller.innerEl)[0])),this.nowIndicatorEls=t(r)},i.prototype.unrenderNowIndicator=function(){return this.nowIndicatorEls?(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null):void 0},i.prototype.explicitSlotWidth=null,i.prototype.defaultSlotWidth=null,i.prototype.updateWidth=function(){var t,e,n,i,r;return r=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),n=r*this.slotDates.length,e="",i=r,t=this.bodyScroller.scrollEl[0].clientWidth,t>n&&(e=t,n="",i=Math.floor(t/this.slotDates.length)),this.headScroller.setContentWidth(n),this.headScroller.setContentMinWidth(e),this.bodyScroller.setContentWidth(n),this.bodyScroller.setContentMinWidth(e),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(i),this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.follower&&this.follower.update(),this.eventTitleFollower?this.eventTitleFollower.update():void 0},i.prototype.computeSlotWidth=function(){var e,n,i,r,s,o;return i=0,n=this.headEl.find("tr:last-child th span"),n.each(function(e,n){var r;return r=t(n).outerWidth(),i=Math.max(i,r)}),e=i+1,o=it(this.labelInterval,this.slotDuration),s=Math.ceil(e/o),r=this.headColEls.eq(0).css("min-width"),r&&(r=parseInt(r,10),r&&(s=Math.max(s,r))),s},i.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},i.prototype.computeDateSnapCoverage=function(t){var e,n,i;return n=rt(this.start,t,this.snapDuration),0>n?0:n>=this.snapDiffToIndex.length?this.snapCnt:(i=Math.floor(n),e=this.snapDiffToIndex[i],yt(e)?e+=n-i:e=Math.ceil(e),e)},i.prototype.dateToCoord=function(t){var e,n,i,r,s;return s=this.computeDateSnapCoverage(t),i=s/this.snapsPerSlot,r=Math.floor(i),r=Math.min(r,this.slotCnt-1),n=i-r,e=this.slatInnerCoordCache,this.isRTL?e.getRightPosition(r)-e.getWidth(r)*n-this.containerCoordCache.getWidth(0):e.getLeftPosition(r)+e.getWidth(r)*n},i.prototype.rangeToCoords=function(t){return this.isRTL?{right:this.dateToCoord(t.start),left:this.dateToCoord(t.end)}:{left:this.dateToCoord(t.start),right:this.dateToCoord(t.end)}},i.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},i.prototype.updateSegPositions=function(){var t,e,n,i,r;for(r=(this.segs||[]).concat(this.businessHourSegs||[]),e=0,n=r.length;n>e;e++)i=r[e],t=this.rangeToCoords(i),i.el.css({left:i.left=t.left,right:-(i.right=t.right)})},i.prototype.computeInitialScroll=function(t){var n,i;return n=0,this.isTimeScale&&(i=this.opt("scrollTime"),i&&(i=e.duration(i),n=this.dateToCoord(this.start.clone().time(i)))),{left:n,top:0}},i.prototype.queryScroll=function(){return{left:_t(this.bodyScroller.scrollEl),top:this.bodyScroller.scrollEl.scrollTop()}},i.prototype.setScroll=function(t){return _t(this.headScroller.scrollEl,t.left),_t(this.bodyScroller.scrollEl,t.left),this.bodyScroller.scrollEl.scrollTop(t.top)},i.prototype.renderFgSegs=function(t){return t=this.renderFgSegEls(t),this.renderFgSegsInContainers([[this,t]]),this.updateSegFollowers(t),t},i.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},i.prototype.renderFgSegsInContainers=function(t){var e,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S,_,x,C,E;for(i=0,o=t.length;o>i;i++)for(b=t[i],e=b[0],E=b[1],r=0,a=E.length;a>r;r++)C=E[r],n=this.rangeToCoords(C),C.el.css({left:C.left=n.left,right:-(C.right=n.right)});for(s=0,l=t.length;l>s;s++)for(w=t[s],e=w[0],E=w[1],f=0,u=E.length;u>f;f++)C=E[f],C.el.appendTo(e.segContainerEl);for(g=0,c=t.length;c>g;g++){for(S=t[g],e=S[0],E=S[1],m=0,d=E.length;d>m;m++)C=E[m],C.height=C.el.outerHeight(!0);this.buildSegLevels(E),e.segContainerHeight=Q(E)}for(x=[],v=0,h=t.length;h>v;v++){for(_=t[v],e=_[0],E=_[1],y=0,p=E.length;p>y;y++)C=E[y],C.el.css("top",C.top);x.push(e.segContainerEl.height(e.segContainerHeight))}return x},i.prototype.buildSegLevels=function(t){var e,n,i,r,s,o,a,l,u,c,d,h,p,f;for(p=[],this.sortEventSegs(t),i=0,o=t.length;o>i;i++){for(f=t[i],f.above=[],u=0;u<p.length;){for(n=!1,d=p[u],r=0,a=d.length;a>r;r++)c=d[r],Lt(f,c)&&(f.above.push(c),n=!0);if(!n)break;u+=1}for((p[u]||(p[u]=[])).push(f),u+=1;u<p.length;){for(h=p[u],s=0,l=h.length;l>s;s++)e=h[s],Lt(f,e)&&e.above.push(f);u+=1}}return p},i.prototype.unrenderFgContainers=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],e.segContainerEl.empty(),e.segContainerEl.height(""),r.push(e.segContainerHeight=null);return r},i.prototype.fgSegHtml=function(t,e){var n,i,r,s,o,a;return i=t.event,r=this.view.isEventDraggable(i),o=t.isStart&&this.view.isEventResizableFromStart(i),s=t.isEnd&&this.view.isEventResizableFromEnd(i),n=this.getSegClasses(t,r,o||s),n.unshift("fc-timeline-event","fc-h-event"),a=this.getEventTimeText(i),'<a class="'+n.join(" ")+'" style="'+K(this.getSegSkinCss(t))+'"'+(i.url?' href="'+ft(i.url)+'"':"")+'><div class="fc-content">'+(a?'<span class="fc-time">'+ft(a)+"</span>":"")+'<span class="fc-title">'+(i.title?ft(i.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(o?'<div class="fc-resizer fc-start-resizer"></div>':"")+(s?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},i.prototype.updateSegFollowers=function(t){var e,n,i,r,s;if(this.eventTitleFollower){for(r=[],e=0,n=t.length;n>e;e++)i=t[e],s=i.el.find(".fc-title"),s.length&&r.push(new N(s));return this.eventTitleFollower.setSprites(r)}},i.prototype.clearSegFollowers=function(){return this.eventTitleFollower?this.eventTitleFollower.clearSprites():void 0},i.prototype.segDragStart=function(){return i.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segDragEnd=function(){return i.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.segResizeStart=function(){return i.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segResizeEnd=function(){return i.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.renderHelper=function(t,e){var n;return n=this.eventToSegs(t),n=this.renderFgSegEls(n),this.renderHelperSegsInContainers([[this,n]],e)},i.prototype.renderHelperSegsInContainers=function(e,n){var i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b;for(o=[],a=0,c=e.length;c>a;a++)for(g=e[a],i=g[0],b=g[1],l=0,d=b.length;d>l;l++)y=b[l],r=this.rangeToCoords(y),y.el.css({left:y.left=r.left,right:-(y.right=r.right)}),n&&n.resourceId===(null!=(m=i.resource)?m.id:void 0)?y.el.css("top",n.el.css("top")):y.el.css("top",0);for(u=0,h=e.length;h>u;u++)for(v=e[u],i=v[0],b=v[1],s=t('<div class="fc-event-container fc-helper-container"/>').appendTo(i.innerEl),o.push(s[0]),f=0,p=b.length;p>f;f++)y=b[f],s.append(y.el);return this.helperEls=this.helperEls?this.helperEls.add(t(o)):t(o)},i.prototype.unrenderHelper=function(){return this.helperEls?(this.helperEls.remove(),this.helperEls=null):void 0},i.prototype.renderEventResize=function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},i.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},i.prototype.renderFill=function(t,e,n){return e=this.renderFillSegEls(t,e),this.renderFillInContainers(t,[[this,e]],n),e},i.prototype.renderFillInContainers=function(t,e,n){var i,r,s,o,a,l;for(a=[],r=0,s=e.length;s>r;r++)o=e[r],i=o[0],l=o[1],a.push(this.renderFillInContainer(t,i,l,n));return a},i.prototype.renderFillInContainer=function(e,n,i,r){var s,o,a,l,u;if(i.length){for(r||(r=e.toLowerCase()),s=t('<div class="fc-'+r+'-container" />').appendTo(n.bgSegContainerEl),a=0,l=i.length;l>a;a++)u=i[a],o=this.rangeToCoords(u),u.el.css({left:u.left=o.left,right:-(u.right=o.right)}),u.el.appendTo(s);return this.elsByFill[e]=this.elsByFill[e]?this.elsByFill[e].add(s):s}},i.prototype.renderDrag=function(t,e){return e?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):(this.renderHighlight(this.eventToSpan(t)),!1)},i.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},i}(h),Q=function(t){var e,n,i,r;for(i=0,e=0,n=t.length;n>e;e++)r=t[e],i=Math.max(i,Z(r));return i},Z=function(t){return null==t.top&&(t.top=Q(t.above)),t.top+t.height},Lt=function(t,e){return t.left<e.right&&t.right>e.left},y=18,m=6,g=200,v=1e3,a={months:1},I=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],B.prototype.initScaleProps=function(){var e,n,i;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),e=this.opt("slotLabelFormat"),i=t.type(e),this.headerFormats="array"===i?e:"string"===i?[e]:this.computeHeaderFormats(),this.isTimeScale=st(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(n=X(this.slotDuration),/year|month|week/.test(n)?n:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},B.prototype.queryDurationOption=function(t){var n,i;return i=this.opt(t),null!=i&&(n=e.duration(i),+n)?n:void 0},B.prototype.validateLabelAndSlot=function(){var t,e,n;return this.labelInterval&&(t=it(this.duration,this.labelInterval),t>v&&(d.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(e=it(this.duration,this.slotDuration),e>v&&(d.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(n=it(this.labelInterval,this.slotDuration),!yt(n)||1>n)?(d.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null):void 0},B.prototype.ensureGridDuration=function(){var t,n,i,r,s;if(t=this.duration,!t){if(t=this.view.intervalDuration,!t)if(this.labelInterval||this.slotDuration)for(s=this.ensureLabelInterval(),i=I.length-1;i>=0&&(n=I[i],t=e.duration(n),r=it(t,s),!(r>=y));i+=-1);else t=e.duration(a);this.duration=t}return t},B.prototype.ensureLabelInterval=function(){var t,n,i,r,s,o,a,l,u;if(s=this.labelInterval,!s){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(n=0,o=I.length;o>n;n++)if(t=I[n],u=e.duration(t),l=it(u,this.slotDuration),yt(l)&&m>=l){s=u;break}s||(s=this.slotDuration)}else for(i=0,a=I.length;a>i&&(t=I[i],s=e.duration(t),r=it(this.duration,s),!(r>=y));i++);this.labelInterval=s}return s},B.prototype.ensureSlotDuration=function(){var t,n,i,r,s,o,a,l;if(o=this.slotDuration,!o){for(i=this.ensureLabelInterval(),n=0,r=I.length;r>n;n++)if(t=I[n],l=e.duration(t),a=it(i,l),yt(a)&&a>1&&m>=a){o=l;break}o&&this.duration&&(s=it(this.duration,o),s>g&&(o=null)),o||(o=i),this.slotDuration=o}return o},B.prototype.computeHeaderFormats=function(){var t,e,n,i,r,s,o,a;switch(o=this.view,i=this.duration,r=this.labelInterval,s=X(r),a=this.opt("weekNumbers"),t=e=n=null,"week"!==s||a||(s="day"),s){case"year":t="YYYY";break;case"month":i.asYears()>1&&(t="YYYY"),e="MMM";break;case"week":i.asYears()>1&&(t="YYYY"),e=this.opt("shortWeekFormat");break;case"day":i.asYears()>1?t=this.opt("monthYearFormat"):i.asMonths()>1&&(t="MMMM"),a&&(e=this.opt("weekFormat")),n="dd D";break;case"hour":a&&(t=this.opt("weekFormat")),i.asDays()>1&&(e=this.opt("dayOfMonthFormat")),n=this.opt("smallTimeFormat");break;case"minute":r.asMinutes()/60>=m?(t=this.opt("hourFormat"),e="[:]mm"):t=this.opt("mediumTimeFormat");break;case"second":r.asSeconds()/60>=m?(t="LT",e="[:]ss"):t="LTS";break;case"millisecond":t="LTS",e="[.]SSS"}return[].concat(t||[],e||[],n||[])},d.views.timeline={"class":q,defaults:{eventResizableFromStart:!0}},d.views.timelineDay={type:"timeline",duration:{days:1}},d.views.timelineWeek={type:"timeline",duration:{weeks:1}},d.views.timelineMonth={type:"timeline",duration:{months:1}},d.views.timelineYear={type:"timeline",duration:{years:1}},M=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.mixin(j),n.prototype.resourceGrid=null,n.prototype.tbodyHash=null,n.prototype.joiner=null,n.prototype.dividerEls=null,n.prototype.superHeaderText=null,n.prototype.isVGrouping=null,n.prototype.isHGrouping=null,n.prototype.groupSpecs=null,n.prototype.colSpecs=null,n.prototype.orderSpecs=null,n.prototype.rowHierarchy=null,n.prototype.resourceRowHash=null,n.prototype.nestingCnt=0,n.prototype.isNesting=null,n.prototype.dividerWidth=null,n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new $(this),this.rowHierarchy=new F(this),this.resourceRowHash={}},n.prototype.instantiateGrid=function(){return new H(this)},n.prototype.processResourceOptions=function(){var t,e,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m,v,y,b,w,S;for(t=this.opt("resourceColumns")||[],f=this.opt("resourceLabelText"),i="Resources",S=null,t.length?S=f:t.push({labelText:f||i,text:this.getResourceTextFunc()}),b=[],r=[],o=[],c=!1,u=!1,d=0,g=t.length;g>d;d++)n=t[d],n.group?r.push(n):b.push(n);for(b[0].isMain=!0,r.length?(o=r,c=!0):(a=this.opt("resourceGroupField"),a&&(u=!0,o.push({field:a,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),e=Dt(this.opt("resourceOrder")),w=[],h=0,m=e.length;m>h;h++){for(y=e[h],l=!1,p=0,v=o.length;v>p;p++)if(s=o[p],s.field===y.field){s.order=y.order,l=!0;break}l||w.push(y)}return this.superHeaderText=S,this.isVGrouping=c,this.isHGrouping=u,this.groupSpecs=o,this.colSpecs=r.concat(b),this.orderSpecs=w},n.prototype.renderSkeleton=function(){return n.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new A("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},n.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},n.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},n.prototype.initDividerMoving=function(){var t;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(t=this.opt("resourceAreaWidth"))?t:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(t){return function(e){return t.dividerMousedown(e)}}(this))},n.prototype.dividerMousedown=function(t){var e,n,i,r,s;return n=this.opt("isRTL"),r=30,i=this.el.width()-30,s=this.getNaturalDividerWidth(),e=new l({dragStart:function(t){return function(){return t.dividerEls.addClass("fc-active")}}(this),drag:function(t){return function(e,o){var a;return a=n?s-e:s+e,a=Math.max(a,r),a=Math.min(a,i),t.dividerWidth=a,t.positionDivider(a),t.updateWidth()}}(this),dragStop:function(t){return function(){return t.dividerEls.removeClass("fc-active")}}(this)}),e.mousedown(t)},n.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},n.prototype.positionDivider=function(t){return this.el.find(".fc-resource-area").width(t)},n.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.syncRowHeights(),this.updateWidth()},n.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},n.prototype.updateWidth=function(){return n.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower?this.cellFollower.update():void 0},n.prototype.updateHeight=function(t){return n.__super__.updateHeight.apply(this,arguments),t?this.syncRowHeights():void 0},n.prototype.setHeight=function(t,e){var n,i;return i=this.syncHeadHeights(),n=e?"auto":t-i-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n),this.resourceGrid.bodyScroller.setHeight(n)},n.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},n.prototype.syncHeadHeights=function(){var t;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),t=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(t),this.timeGrid.headHeight(t),t},n.prototype.scrollToResource=function(t){return this.timeGrid.scrollToResource(t)},n.prototype.setResources=function(t){var e,n,i;for(this.batchRows(),e=0,n=t.length;n>e;e++)i=t[e],this.insertResource(i);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.addResource=function(t){return this.insertResource(t),this.reinitializeCellFollowers()},n.prototype.removeResource=function(t){var e;return e=this.getResourceRow(t.id),e?(this.batchRows(),e.remove(),this.unbatchRows(),this.reinitializeCellFollowers()):void 0},n.prototype.cellFollower=null,n.prototype.reinitializeCellFollowers=function(){var e,n,i,r,s,o;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new L(this.resourceGrid.bodyScroller),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,r=[],s=this.rowHierarchy.getNodes(),n=0,i=s.length;i>n;n++)o=s[n],o instanceof G&&o.groupTd&&(e=o.groupTd.find(".fc-cell-content"),e.length&&r.push(e[0]));return this.cellFollower.setSprites(t(r))},n.prototype.insertResource=function(t,e){var n,i,r,s,o,a,l;for(l=new D(this,t),null==e&&(s=t.parentId,s&&(e=this.getResourceRow(s))),e?this.insertRowAsChild(l,e):this.insertRow(l),o=t.children,a=[],i=0,r=o.length;r>i;i++)n=o[i],a.push(this.insertResource(n,l));return a},n.prototype.insertRow=function(t,e,n){var i;return null==e&&(e=this.rowHierarchy),null==n&&(n=this.groupSpecs),n.length?(i=this.ensureResourceGroup(t,e,n[0]),i instanceof p?this.insertRowAsChild(t,i):this.insertRow(t,i,n.slice(1))):this.insertRowAsChild(t,e)},n.prototype.insertRowAsChild=function(t,e){return e.addChild(t,this.computeChildRowPosition(t,e))},n.prototype.computeChildRowPosition=function(t,e){var n,i,r,s,o,a;if(this.orderSpecs.length)for(o=e.children,i=r=0,s=o.length;s>r;i=++r)if(a=o[i],n=this.compareResources(a.resource||{},t.resource||{}),n>0)return i;return null},n.prototype.compareResources=function(t,e){return U(t,e,this.orderSpecs)},n.prototype.ensureResourceGroup=function(t,e,n){var i,r,s,o,a,l,u,c,d,h,f;if(s=(t.resource||{})[n.field],r=null,n.order)for(d=e.children,o=a=0,u=d.length;u>a;o=++a){if(f=d[o],i=ot(f.groupValue,s)*n.order,0===i){r=f;break}if(i>0)break}else for(h=e.children,o=l=0,c=h.length;c>l;o=++l)if(f=h[o],f.groupValue===s){r=f;break}return r||(r=this.isVGrouping?new G(this,n,s):new p(this,n,s),e.addChild(r,o)),r},n.prototype.pairSegsWithRows=function(t){var e,n,i,r,s,o,a,l;for(r=[],s={},e=0,n=t.length;n>e;e++)l=t[e],o=l.resourceId,o&&(a=this.getResourceRow(o),a&&(i=s[o],i||(i=[a,[]],r.push(i),s[o]=i),i[1].push(l)));return r;
},n.prototype.rowAdded=function(t){var e,n;return t instanceof D&&(this.resourceRowHash[t.resource.id]=t),n=this.isNesting,e=Boolean(this.nestingCnt+=t.depth?1:0),n!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},n.prototype.rowRemoved=function(t){var e,n;return t instanceof D&&delete this.resourceRowHash[t.resource.id],n=this.isNesting,e=Boolean(this.nestingCnt-=t.depth?1:0),n!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},n.prototype.batchRowDepth=0,n.prototype.shownRowBatch=null,n.prototype.hiddenRowBatch=null,n.prototype.batchRows=function(){return this.batchRowDepth++?void 0:(this.shownRowBatch=[],this.hiddenRowBatch=[])},n.prototype.unbatchRows=function(){return--this.batchRowDepth?void 0:(this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null)},n.prototype.rowShown=function(t){return this.shownRowBatch?this.shownRowBatch.push(t):this.rowsShown([t])},n.prototype.rowHidden=function(t){return this.hiddenRowBatch?this.hiddenRowBatch.push(t):this.rowsHidden([t])},n.prototype.rowsShown=function(t){return this.syncRowHeights(t),this.updateWidth()},n.prototype.rowsHidden=function(t){return this.updateWidth()},n.prototype.syncRowHeights=function(t,e){var n,i,r,s,o,a,l,u,c,d;for(null==e&&(e=!1),null==t&&(t=this.getVisibleRows()),a=0,u=t.length;u>a;a++)d=t[a],d.setTrInnerHeight("");for(o=function(){var i,r,s;for(s=[],i=0,r=t.length;r>i;i++)d=t[i],n=d.getMaxTrInnerHeight(),e&&(n+=n%2),s.push(n);return s}(),s=l=0,c=t.length;c>l;s=++l)d=t[s],d.setTrInnerHeight(o[s]);return!e&&(i=this.resourceGrid.tbodyEl.height(),r=this.timeGrid.tbodyEl.height(),Math.abs(i-r)>1)?this.syncRowHeights(t,!0):void 0},n.prototype.getVisibleRows=function(){var t,e,n,i,r;for(n=this.rowHierarchy.getRows(),i=[],t=0,e=n.length;e>t;t++)r=n[t],r.isShown&&i.push(r);return i},n.prototype.getEventRows=function(){var t,e,n,i,r;for(n=this.rowHierarchy.getRows(),i=[],t=0,e=n.length;e>t;t++)r=n[t],r instanceof c&&i.push(r);return i},n.prototype.getResourceRow=function(t){return this.resourceRowHash[t]},n.prototype.setScroll=function(t){return n.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.scrollTop(t.top)},n}(q),H=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.mixin(E),n.prototype.eventRows=null,n.prototype.shownEventRows=null,n.prototype.tbodyEl=null,n.prototype.rowCoordCache=null,n.prototype.spanToSegs=function(t){var e,i,r,s,o,a;if(a=n.__super__.spanToSegs.apply(this,arguments),e=this.view.calendar,s=t.resourceId)for(i=0,r=a.length;r>i;i++)o=a[i],o.resource=e.getResourceById(s),o.resourceId=s;return a},n.prototype.prepareHits=function(){var t,e;return n.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var e,n,i,r;for(i=this.eventRows,r=[],e=0,n=i.length;n>e;e++)t=i[e],t.isShown&&r.push(t);return r}.call(this),e=function(){var e,n,i,r;for(i=this.shownEventRows,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.getTr("event")[0]);return r}.call(this),this.rowCoordCache=new o({els:e,isVertical:!0}),this.rowCoordCache.build()},n.prototype.releaseHits=function(){return n.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},n.prototype.queryHit=function(t,e){var i,r;return r=n.__super__.queryHit.apply(this,arguments),r&&(i=this.rowCoordCache.getVerticalIndex(e),null!=i)?{resourceId:this.shownEventRows[i].resource.id,snap:r.snap,component:this,left:r.left,right:r.right,top:this.rowCoordCache.getTopOffset(i),bottom:this.rowCoordCache.getBottomOffset(i)}:void 0},n.prototype.getHitSpan=function(t){var e;return e=this.getSnapRange(t.snap),e.resourceId=t.resourceId,e},n.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},n.prototype.renderSkeleton=function(){var e;return n.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,e=t('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.contentEl),this.tbodyEl=e.find("tbody")},n.prototype.renderFgSegs=function(t){var e,n,i,r,s,o,a;for(t=this.renderFgSegEls(t),o=this.view.pairSegsWithRows(t),a=[],i=0,r=o.length;r>i;i++)s=o[i],e=s[0],n=s[1],e.fgSegs=n,e.isShown&&(e.isSegsRendered=!0,a.push(s));return this.renderFgSegsInContainers(a),this.updateSegFollowers(t),t},n.prototype.unrenderFgSegs=function(){var t,e,n,i;for(this.clearSegFollowers(),e=this.view.getEventRows(),n=0,i=e.length;i>n;n++)t=e[n],t.fgSegs=null,t.isSegsRendered=!1;return this.unrenderFgContainers(e)},n.prototype.renderFill=function(t,e,n){var i,r,s,o,a,l,u,c,d,h,p,f;for(e=this.renderFillSegEls(t,e),c=[],a=[],i=0,s=e.length;s>i;i++)p=e[i],p.resourceId?c.push(p):a.push(p);for(u=this.view.pairSegsWithRows(c),f=[],r=0,o=u.length;o>r;r++)l=u[r],d=l[0],h=l[1],"bgEvent"===t&&(d.bgSegs=h),d.isShown&&f.push(l);return a.length&&f.unshift([this,a]),this.renderFillInContainers(t,f,n),e},n.prototype.renderHelper=function(t,e){var n,i;return i=this.eventToSegs(t),i=this.renderFgSegEls(i),n=this.view.pairSegsWithRows(i),this.renderHelperSegsInContainers(n,e)},n.prototype.computeInitialScroll=function(t){var e;return e=n.__super__.computeInitialScroll.apply(this,arguments),t&&(e.resourceId=t.resourceId,e.bottom=t.bottom),e},n.prototype.queryScroll=function(){var t,e,i,r,s,o,a,l;for(l=n.__super__.queryScroll.apply(this,arguments),a=this.bodyScroller.scrollEl.offset().top,s=this.view.getVisibleRows(),i=0,r=s.length;r>i;i++)if(o=s[i],o.resource&&(t=o.getTr("event"),e=t.offset().top+t.outerHeight(),e>a)){l.resourceId=o.resource.id,l.bottom=e-a;break}return l},n.prototype.setScroll=function(t){var e,i,r,s;return t.resourceId&&(s=this.view.getResourceRow(t.resourceId),s&&(e=s.getTr("event"),e&&(r=this.bodyScroller.innerEl.offset().top,i=e.offset().top+e.outerHeight(),t.top=i-t.bottom-r))),n.__super__.setScroll.call(this,t)},n.prototype.scrollToResource=function(t){var e,n,i,r;return i=this.view.getResourceRow(t.id),i&&(e=i.getTr("event"))?(n=this.bodyScroller.innerEl.offset().top,r=e.offset().top-n,this.bodyScroller.scrollEl.scrollTop(r)):void 0},n}(B),n=30,$=function(){function e(t){var e;this.view=t,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var t,n,i,r;for(i=this.view.colSpecs,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.width);return r}.call(this)}return e.prototype.view=null,e.prototype.headEl=null,e.prototype.el=null,e.prototype.tbodyEl=null,e.prototype.headScroller=null,e.prototype.bodyScroller=null,e.prototype.joiner=null,e.prototype.colGroupHtml="",e.prototype.headTable=null,e.prototype.headColEls=null,e.prototype.headCellEls=null,e.prototype.bodyColEls=null,e.prototype.bodyTable=null,e.prototype.renderSkeleton=function(){return this.headScroller=new O("invisible-scroll","hidden"),this.headScroller.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new O("auto","invisible-scroll"),this.bodyScroller.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new A("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},e.prototype.renderHeadHtml=function(){var t,e,n,i,r,s,o,a,l,u,c;for(e=this.view.colSpecs,n="<table>",t="<colgroup>",o=0,l=e.length;l>o;o++)c=e[o],t+=c.isMain?'<col class="fc-main-col"/>':"<col/>";for(t+="</colgroup>",this.colGroupHtml=t,n+=t,n+="<tbody>",this.view.superHeaderText&&(n+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+e.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+ft(this.view.superHeaderText)+"</span></div></th></tr>"),n+="<tr>",s=!0,i=a=0,u=e.length;u>a;i=++a)c=e[i],r=i===e.length-1,n+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(c.isMain?'<div class="fc-icon fc-expander-space" />':"")+'<span class="fc-cell-text">'+ft(c.labelText||"")+"</span></div>"+(r?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return n+="</tr>",n+="</tbody></table>"},e.prototype.givenColWidths=null,e.prototype.colWidths=null,e.prototype.colMinWidths=null,e.prototype.tableWidth=null,e.prototype.tableMinWidth=null,e.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(e){return function(n,i){return i=t(i),i.on("mousedown",function(t){return e.colResizeMousedown(n,t,i)})}}(this))},e.prototype.colResizeMousedown=function(t,e,i){var r,s,o,a;return r=this.colWidths=this.queryColWidths(),r.pop(),r.push(null),a=r[t],o=Math.min(this.colMinWidths[t],n),s=new l({dragStart:function(t){return function(){return i.addClass("fc-active")}}(this),drag:function(e){return function(n,i){var s;return s=a+(e.isRTL?-n:n),s=Math.max(s,o),r[t]=s,e.applyColWidths()}}(this),dragStop:function(t){return function(){return i.removeClass("fc-active")}}(this)}),s.mousedown(e)},e.prototype.applyColWidths=function(){var t,e,n,i,r,s,o,a,l,u,c,d,h,p,f,g,m;for(n=this.colMinWidths,r=this.colWidths,t=!0,e=!1,m=0,u=0,h=r.length;h>u;u++)i=r[u],"number"==typeof i?m+=i:(t=!1,i&&(e=!0));for(a=e&&!this.view.isHGrouping?"auto":"",o=function(){var t,e,n;for(n=[],l=t=0,e=r.length;e>t;l=++t)i=r[l],n.push(null!=i?i:a);return n}(),g=0,l=c=0,p=o.length;p>c;l=++c)s=o[l],g+="number"==typeof s?s:n[l];for(l=d=0,f=o.length;f>d;l=++d)s=o[l],this.headColEls.eq(l).width(s),this.bodyColEls.eq(l).width(s);return this.headScroller.setContentMinWidth(g),this.bodyScroller.setContentMinWidth(g),this.tableMinWidth=g,this.tableWidth=t?m:void 0},e.prototype.computeColMinWidths=function(){var t,e,i,r,s,o;for(r=this.givenColWidths,s=[],t=e=0,i=r.length;i>e;t=++e)o=r[t],s.push("number"==typeof o?o:parseInt(this.headColEls.eq(t).css("min-width"))||n);return s},e.prototype.queryColWidths=function(){var e,n,i,r,s;for(r=this.headCellEls,s=[],e=0,n=r.length;n>e;e++)i=r[e],s.push(t(i).outerWidth());return s},e.prototype.updateWidth=function(){return this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.follower?this.follower.update():void 0},e.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},e}(),F=function(){function e(e){this.view=e,this.children=[],this.trHash={},this.trs=t()}return e.prototype.view=null,e.prototype.parent=null,e.prototype.prevSibling=null,e.prototype.children=null,e.prototype.depth=0,e.prototype.hasOwnRow=!1,e.prototype.trHash=null,e.prototype.trs=null,e.prototype.isRendered=!1,e.prototype.isExpanded=!0,e.prototype.isShown=!1,e.prototype.addChild=function(t,e){var n,i,r,s,o;for(t.remove(),n=this.children,null!=e?n.splice(e,0,t):(e=n.length,n.push(t)),t.prevSibling=e>0?n[e-1]:null,e<n.length-1&&(n[e+1].prevSibling=t),t.parent=this,t.depth=this.depth+(this.hasOwnRow?1:0),o=t.getNodes(),i=0,r=o.length;r>i;i++)s=o[i],s.added();return this.isShown&&this.isExpanded?t.show():void 0},e.prototype.removeChild=function(t){var e,n,i,r,s,o,a,l,u,c;for(e=this.children,i=!1,n=r=0,o=e.length;o>r;n=++r)if(c=e[n],c===t){i=!0;break}if(i){for(n<e.length-1&&(e[n+1].prevSibling=t.prevSibling),e.splice(n,1),t.recursivelyUnrender(),l=t.getNodes(),s=0,a=l.length;a>s;s++)u=l[s],u.removed();return t.parent=null,t.prevSibling=null,t}return!1},e.prototype.removeChildren=function(){var t,e,n,i,r,s,o;for(s=this.children,e=0,i=s.length;i>e;e++)t=s[e],t.recursivelyUnrender();for(o=this.getDescendants(),n=0,r=o.length;r>n;n++)t=o[n],t.removed();return this.children=[]},e.prototype.remove=function(){return this.parent?this.parent.removeChild(this):void 0},e.prototype.getLastChild=function(){var t;return t=this.children,t[t.length-1]},e.prototype.getPrevRow=function(){var t,e;for(e=this;e;){if(e.prevSibling)for(e=e.prevSibling;t=e.getLastChild();)e=t;else e=e.parent;if(e&&e.hasOwnRow&&e.isShown)return e}return null},e.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},e.prototype.getRows=function(t){var e,n,i,r;for(null==t&&(t=[]),this.hasOwnRow&&t.push(this),r=this.children,n=0,i=r.length;i>n;n++)e=r[n],e.getRows(t);return t},e.prototype.getNodes=function(t){var e,n,i,r;for(null==t&&(t=[]),t.push(this),r=this.children,n=0,i=r.length;i>n;n++)e=r[n],e.getNodes(t);return t},e.prototype.getDescendants=function(){var t,e,n,i,r;for(t=[],r=this.children,n=0,i=r.length;i>n;n++)e=r[n],e.getNodes(t);return t},e.prototype.render=function(){var e,n,i,r,s,o,a;if(this.trHash={},o=[],this.hasOwnRow){e=this.getPrevRow(),n=this.view.tbodyHash;for(a in n)r=n[a],s=t("<tr/>"),this.trHash[a]=s,o.push(s[0]),i="render"+Y(a)+"Content",this[i]&&this[i](s),e?e.trHash[a].after(s):r.prepend(s)}return this.trs=t(o).on("click",".fc-expander",Ht(this,"toggleExpanded")),this.isRendered=!0},e.prototype.unrender=function(){var e,n,i,r;if(this.isRendered){e=this.trHash;for(i in e)n=e[i],r="unrender"+Y(i)+"Content",this[r]&&this[r](n);return this.trHash={},this.trs.remove(),this.trs=t(),this.isRendered=!1,this.isShown=!1,this.hidden()}},e.prototype.recursivelyUnrender=function(){var t,e,n,i,r;for(this.unrender(),i=this.children,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.recursivelyUnrender());return r},e.prototype.getTr=function(t){return this.trHash[t]},e.prototype.show=function(){var t,e,n,i,r;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(i=this.children,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.show());return r}},e.prototype.hide=function(){var t,e,n,i,r;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(i=this.children,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.hide());return r}},e.prototype.expand=function(){var t,e,n,i;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),i=this.children,e=0,n=i.length;n>e;e++)t=i[e],t.show();return this.view.unbatchRows(),this.animateExpand()}},e.prototype.collapse=function(){var t,e,n,i;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),i=this.children,e=0,n=i.length;n>e;e++)t=i[e],t.hide();return this.view.unbatchRows()}},e.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},e.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},e.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},e.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},e.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},e.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},e.prototype.getCollapsedIcon=function(){var t;return t=this.view.isRTL?"left":"right","fc-icon-"+t+"-triangle"},e.prototype.animateExpand=function(){var t,e,n;return n=null!=(t=this.children[0])&&null!=(e=t.getLeadingRow())?e.trs:void 0,n?(n.addClass("fc-collapsed"),setTimeout(function(){return n.addClass("fc-transitioning"),n.removeClass("fc-collapsed")}),n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return n.removeClass("fc-transitioning")})):void 0},e.prototype.getMaxTrInnerHeight=function(){var e;return e=0,t.each(this.trHash,function(t){return function(t,n){var i;return i=at(n).find("> div:not(.fc-cell-content):first"),e=Math.max(i.height(),e)}}(this)),e},e.prototype.setTrInnerHeight=function(e){return t.each(this.trHash,function(t){return function(t,n){return at(n).find("> div:not(.fc-cell-content):first").height(e)}}(this))},e.prototype.shown=function(){return this.hasOwnRow?this.rowShown(this):void 0},e.prototype.hidden=function(){return this.hasOwnRow?this.rowHidden(this):void 0},e.prototype.rowShown=function(t){return(this.parent||this.view).rowShown(t)},e.prototype.rowHidden=function(t){return(this.parent||this.view).rowHidden(t)},e.prototype.added=function(){return this.hasOwnRow?this.rowAdded(this):void 0},e.prototype.removed=function(){return this.hasOwnRow?this.rowRemoved(this):void 0},e.prototype.rowAdded=function(t){return(this.parent||this.view).rowAdded(t)},e.prototype.rowRemoved=function(t){return(this.parent||this.view).rowRemoved(t)},e}(),P=function(e){function n(t,e,i){this.groupSpec=e,this.groupValue=i,n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.prototype.groupSpec=null,n.prototype.groupValue=null,n.prototype.rowRemoved=function(t){return n.__super__.rowRemoved.apply(this,arguments),t===this||this.children.length?void 0:this.remove()},n.prototype.renderGroupContentEl=function(){var e,n;return e=t('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),n=this.groupSpec.render,"function"==typeof n&&(e=n(e,this.groupValue)||e),e},n.prototype.renderGroupTextEl=function(){var e,n;return n=this.groupValue||"",e=this.groupSpec.text,"function"==typeof e&&(n=e(n)||n),t('<span class="fc-cell-text" />').text(n)},n}(F),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.prototype.hasOwnRow=!0,n.prototype.renderSpreadsheetContent=function(e){var n;return n=this.renderGroupContentEl(),n.prepend('<span class="fc-icon fc-expander" />'),t('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(t("<div/>").append(n)).appendTo(e)},n.prototype.renderEventContent=function(t){return t.append('<td class="fc-divider"> <div/> </td>')},n}(P),G=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.prototype.rowspan=0,n.prototype.leadingTr=null,n.prototype.groupTd=null,n.prototype.rowShown=function(t){return this.rowspan+=1,this.renderRowspan(),n.__super__.rowShown.apply(this,arguments)},n.prototype.rowHidden=function(t){return this.rowspan-=1,this.renderRowspan(),n.__super__.rowHidden.apply(this,arguments)},n.prototype.renderRowspan=function(){var e;return this.rowspan?(this.groupTd||(this.groupTd=t('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),e=this.getLeadingRow().getTr("spreadsheet"),e!==this.leadingTr?(e&&e.prepend(this.groupTd),this.leadingTr=e):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},n}(P),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ot(e,t),e.prototype.hasOwnRow=!0,e.prototype.segContainerEl=null,e.prototype.segContainerHeight=null,e.prototype.innerEl=null,e.prototype.bgSegContainerEl=null,e.prototype.isSegsRendered=!1,e.prototype.bgSegs=null,e.prototype.fgSegs=null,e.prototype.renderEventContent=function(t){return t.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=t.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=t.find("td > div"),this.ensureSegsRendered()},e.prototype.ensureSegsRendered=function(){return this.isSegsRendered?void 0:(this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0)},e.prototype.unrenderEventContent=function(){return this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},e}(F),D=function(e){function n(t,e){this.resource=e,n.__super__.constructor.apply(this,arguments)}return Ot(n,e),n.prototype.resource=null,n.prototype.rowAdded=function(t){return n.__super__.rowAdded.apply(this,arguments),t!==this&&this.isRendered&&1===this.children.length?(this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()):void 0},n.prototype.rowRemoved=function(t){return n.__super__.rowRemoved.apply(this,arguments),t!==this&&this.isRendered&&!this.children.length?this.disableExpanding():void 0},n.prototype.render=function(){return n.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},n.prototype.renderEventContent=function(t){return n.__super__.renderEventContent.apply(this,arguments),t.attr("data-resource-id",this.resource.id)},n.prototype.renderSpreadsheetContent=function(e){var n,i,r,s,o,a,l,u,c;for(l=this.resource,a=this.view.colSpecs,s=0,o=a.length;o>s;s++)n=a[s],n.group||(r=n.field?l[n.field]||null:l,c="function"==typeof n.text?n.text(l,r):r,i=t('<div class="fc-cell-content">'+(n.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(c?ft(c):"&nbsp;")+"</span></div>"),"function"==typeof n.render&&(i=n.render(l,i,r)||i),u=t('<td class="'+this.view.widgetContentClass+'"/>').append(i),n.isMain&&u.wrapInner("<div/>"),e.append(u));return e.attr("data-resource-id",l.id)},n.prototype.renderGutterHtml=function(){var t,e,n,i;for(t="",e=n=0,i=this.depth;i>n;e=n+=1)t+='<span class="fc-icon"/>';return t+='<span class="fc-icon fc-expander-space"/>'},n}(c),d.views.timeline.resourceClass=M,S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ot(e,t),e.mixin(j),e.prototype.timeGridClass=R,e.prototype.dayGridClass=x,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.timeGrid.setResources(t),this.dayGrid&&this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(d.AgendaView),d.views.agenda.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?S:void 0},_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ot(e,t),e.mixin(j),e.prototype.dayGridClass=x,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(d.BasicView),T=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ot(e,t),e.mixin(j),e.prototype.dayGridClass=x,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(d.MonthView),d.views.basic.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?_:void 0},d.views.month.queryResourceClass=function(t){return t.options.groupByResource||t.options.groupByDateAndResource?T:void 0},w="2016-02-18",z={years:1,weeks:1},f="http://fullcalendar.io/scheduler/license/",b=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Rt=function(t,e){return vt(window.location.href)||bt(t)||nt(e)?void 0:Mt('Please use a valid license key. <a href="'+f+'">More Info</a>',e)},bt=function(n){var i,r,s,o;return-1!==t.inArray(n,b)?!0:(r=(n||"").match(/^(\d+)\-fcs\-(\d+)$/),r&&10===r[1].length&&(s=e.utc(1e3*parseInt(r[2])),o=e.utc(d.mockSchedulerReleaseDate||w),o.isValid()&&(i=o.clone().subtract(z),s.isAfter(i)))?!0:!1)},vt=function(t){return Boolean(t.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},Mt=function(e,n){return n.append(t('<div class="fc-license-message" />').html(e))},void(nt=function(t){return t.find(".fc-license-message").length>=1}))}),/*! tinyColorPicker - v1.1.1 2016-07-15 */
!function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define("colors",[],function(){return e(t)}):t.Colors=e(t)}(this,function(t,e){"use strict";function n(t,n,i,s,o){if("string"==typeof n){var n=S.txt2color(n);i=n.type,g[i]=n[i],o=o!==e?o:n.alpha}else if(n)for(var a in n)t[i][a]=c(n[a]/d[i][a][1],0,1);return o!==e&&(t.alpha=c(+o,0,1)),r(i,s?t:e)}function i(t,e,n){var i=f.options.grey,r={};return r.RGB={r:t.r,g:t.g,b:t.b},r.rgb={r:e.r,g:e.g,b:e.b},r.alpha=n,r.equivalentGrey=p(i.r*t.r+i.g*t.g+i.b*t.b),r.rgbaMixBlack=l(e,{r:0,g:0,b:0},n,1),r.rgbaMixWhite=l(e,{r:1,g:1,b:1},n,1),r.rgbaMixBlack.luminance=a(r.rgbaMixBlack,!0),r.rgbaMixWhite.luminance=a(r.rgbaMixWhite,!0),f.options.customBG&&(r.rgbaMixCustom=l(e,f.options.customBG,n,1),r.rgbaMixCustom.luminance=a(r.rgbaMixCustom,!0),f.options.customBG.luminance=a(f.options.customBG,!0)),r}function r(t,e){var n,r,c,m=e||g,v=S,y=f.options,b=d,w=m.RND,_="",x="",C={hsl:"hsv",rgb:t},E=w.rgb;if("alpha"!==t){for(var k in b)if(!b[k][k]){t!==k&&(x=C[k]||"rgb",m[k]=v[x+"2"+k](m[x])),w[k]||(w[k]={}),n=m[k];for(_ in n)w[k][_]=p(n[_]*b[k][_][1])}E=w.rgb,m.HEX=v.RGB2HEX(E),m.equivalentGrey=y.grey.r*m.rgb.r+y.grey.g*m.rgb.g+y.grey.b*m.rgb.b,m.webSave=r=s(E,51),m.webSmart=c=s(E,17),m.saveColor=E.r===r.r&&E.g===r.g&&E.b===r.b?"web save":E.r===c.r&&E.g===c.g&&E.b===c.b?"web smart":"",m.hueRGB=S.hue2RGB(m.hsv.h),e&&(m.background=i(E,m.rgb,m.alpha))}var T,D,R,H=m.rgb,M=m.alpha,j="luminance",P=m.background;return T=l(H,{r:0,g:0,b:0},M,1),T[j]=a(T,!0),m.rgbaMixBlack=T,D=l(H,{r:1,g:1,b:1},M,1),D[j]=a(D,!0),m.rgbaMixWhite=D,y.customBG&&(R=l(H,P.rgbaMixCustom,M,1),R[j]=a(R,!0),R.WCAG2Ratio=u(R[j],P.rgbaMixCustom[j]),m.rgbaMixBGMixCustom=R,R.luminanceDelta=h.abs(R[j]-P.rgbaMixCustom[j]),R.hueDelta=o(P.rgbaMixCustom,R,!0)),m.RGBLuminance=a(E),m.HUELuminance=a(m.hueRGB),y.convertCallback&&y.convertCallback(m,t),m}function s(t,e){var n={},i=0,r=e/2;for(var s in t)i=t[s]%e,n[s]=t[s]+(i>r?e-i:-i);return n}function o(t,e,n){return(h.max(t.r-e.r,e.r-t.r)+h.max(t.g-e.g,e.g-t.g)+h.max(t.b-e.b,e.b-t.b))*(n?255:1)/765}function a(t,e){for(var n=e?1:255,i=[t.r/n,t.g/n,t.b/n],r=f.options.luminance,s=i.length;s--;)i[s]=i[s]<=.03928?i[s]/12.92:h.pow((i[s]+.055)/1.055,2.4);return r.r*i[0]+r.g*i[1]+r.b*i[2]}function l(t,n,i,r){var s={},o=i!==e?i:1,a=r!==e?r:1,l=o+a*(1-o);for(var u in t)s[u]=(t[u]*o+n[u]*a*(1-o))/l;return s.a=l,s}function u(t,e){var n=1;return n=t>=e?(t+.05)/(e+.05):(e+.05)/(t+.05),p(100*n)/100}function c(t,e,n){return t>n?n:e>t?e:t}var d={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},h=t.Math,p=h.round,f={},g={},m={r:.298954,g:.586434,b:.114612},v={r:.2126,g:.7152,b:.0722},y=function(t){this.colors={RND:{}},this.options={color:"rgba(0,0,0,0)",grey:m,luminance:v,valueRanges:d},b(this,t||{})},b=function(t,i){var r,s=t.options;w(t);for(var o in i)i[o]!==e&&(s[o]=i[o]);r=s.customBG,s.customBG="string"==typeof r?S.txt2color(r).rgb:r,g=n(t.colors,s.color,e,!0)},w=function(t){f!==t&&(f=t,g=t.colors)};y.prototype.setColor=function(t,i,s){return w(this),t?n(this.colors,t,i,e,s):(s!==e&&(this.colors.alpha=c(s,0,1)),r(i))},y.prototype.setCustomBackground=function(t){return w(this),this.options.customBG="string"==typeof t?S.txt2color(t).rgb:t,n(this.colors,e,"rgb")},y.prototype.saveAsBackground=function(){return w(this),n(this.colors,e,"rgb",!0)},y.prototype.toString=function(t,e){return S.color2text((t||"rgb").toLowerCase(),this.colors,e)};var S={txt2color:function(t){var e={},n=t.replace(/(?:#|\)|%)/g,"").split("("),i=(n[1]||"").split(/,\s*/),r=n[1]?n[0].substr(0,3):"rgb",s="";if(e.type=r,e[r]={},n[1])for(var o=3;o--;)s=r[o]||r.charAt(o),e[r][s]=+i[o]/d[r][s][1];else e.rgb=S.HEX2rgb(n[0]);return e.alpha=i[3]?+i[3]:1,e},color2text:function(t,e,n){var i=n!==!1&&p(100*e.alpha)/100,r="number"==typeof i&&n!==!1&&(n||1!==i),s=e.RND.rgb,o=e.RND.hsl,a="hex"===t&&r,l="hex"===t&&!a,u="rgb"===t||a,c=u?s.r+", "+s.g+", "+s.b:l?"#"+e.HEX:o.h+", "+o.s+"%, "+o.l+"%";return l?c:(a?"rgb":t)+(r?"a":"")+"("+c+(r?", "+i:"")+")"},RGB2HEX:function(t){return((t.r<16?"0":"")+t.r.toString(16)+(t.g<16?"0":"")+t.g.toString(16)+(t.b<16?"0":"")+t.b.toString(16)).toUpperCase()},HEX2rgb:function(t){return t=t.split(""),{r:+("0x"+t[0]+t[t[3]?1:0])/255,g:+("0x"+t[t[3]?2:1]+(t[3]||t[1]))/255,b:+("0x"+(t[4]||t[2])+(t[5]||t[2]))/255}},hue2RGB:function(t){var e=6*t,n=~~e%6,i=6===e?0:e-n;return{r:p(255*[1,1-i,0,0,i,1][n]),g:p(255*[i,1,1,1-i,0,0][n]),b:p(255*[0,0,i,1,1,1-i][n])}},rgb2hsv:function(t){var e,n,i,r=t.r,s=t.g,o=t.b,a=0;return o>s&&(s=o+(o=s,0),a=-1),n=o,s>r&&(r=s+(s=r,0),a=-2/6-a,n=h.min(s,o)),e=r-n,i=r?e/r:0,{h:1e-15>i?g&&g.hsl&&g.hsl.h||0:e?h.abs(a+(s-o)/(6*e)):0,s:r?e/r:g&&g.hsv&&g.hsv.s||0,v:r}},hsv2rgb:function(t){var e=6*t.h,n=t.s,i=t.v,r=~~e,s=e-r,o=i*(1-n),a=i*(1-s*n),l=i*(1-(1-s)*n),u=r%6;return{r:[i,a,o,o,l,i][u],g:[l,i,i,a,o,o][u],b:[o,o,l,i,i,a][u]}},hsv2hsl:function(t){var e=(2-t.s)*t.v,n=t.s*t.v;return n=t.s?1>e?e?n/e:0:n/(2-e):0,{h:t.h,s:t.v||n?n:g&&g.hsl&&g.hsl.s||0,l:e/2}},rgb2hsl:function(t,e){var n=S.rgb2hsv(t);return S.hsv2hsl(e?n:g.hsv=n)},hsl2rgb:function(t){var e=6*t.h,n=t.s,i=t.l,r=.5>i?i*(1+n):i+n-n*i,s=i+i-r,o=r?(r-s)/r:0,a=~~e,l=e-a,u=r*o*l,c=s+u,d=r-u,h=a%6;return{r:[r,d,s,s,c,r][h],g:[c,r,r,d,s,s][h],b:[s,s,c,r,r,d][h]}}};return y}),function(t,e){"object"==typeof exports?module.exports=e(t,require("jquery"),require("colors")):"function"==typeof define&&define.amd?define(["jquery","colors"],function(n,i){return e(t,n,i)}):e(t,t.jQuery,t.Colors)}(this,function(t,e,n,i){"use strict";function r(t){return t.value||t.getAttribute("value")||e(t).css("background-color")||"#FFF"}function s(t){return t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t,t.originalEvent?t.originalEvent:t}function o(t){return e(t.find(v.doRender)[0]||t[0])}function a(n){var i=e(this),s=i.offset(),a=e(t),c=v.gap;n?(y=o(i),y._colorMode=y.data("colorMode"),g.$trigger=i,(b||l()).css(v.positionCallback.call(g,i)||{left:(b._left=s.left)-((b._left+=b._width-(a.scrollLeft()+a.width()))+c>0?b._left+c:0),top:(b._top=s.top+i.outerHeight())-((b._top+=b._height-(a.scrollTop()+a.height()))+c>0?b._top+c:0)}).show(v.animationSpeed,function(){n!==!0&&(C.toggle(!!v.opacity)._width=C.width(),S._width=S.width(),S._height=S.height(),w._height=w.height(),m.setColor(r(y[0])),p(!0))}).off(".tcp").on(R,".cp-xy-slider,.cp-z-slider,.cp-alpha",u)):g.$trigger&&e(b).hide(v.animationSpeed,function(){p(!1),g.$trigger=null}).off(".tcp")}function l(){return e("head").append('<style type="text/css" id="tinyColorPickerStyles">'+(v.css||F)+(v.cssAddon||"")+"</style>"),e(P).css({margin:v.margin}).appendTo("body").show(0,function(){g.$UI=b=e(this),M=v.GPU&&b.css("perspective")!==i,w=e(".cp-z-slider",this),S=e(".cp-xy-slider",this),_=e(".cp-xy-cursor",this),x=e(".cp-z-cursor",this),C=e(".cp-alpha",this),E=e(".cp-alpha-cursor",this),v.buildCallback.call(g,b),b.prepend("<div>").children().eq(0).css("width",b.children().eq(0).width()),b._width=this.offsetWidth,b._height=this.offsetHeight}).hide()}function u(t){var n=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");(t.button||t.which)>1||(t.preventDefault&&t.preventDefault(),t.returnValue=!1,y._offset=e(this).offset(),(n="xy_slider"===n?c:"z_slider"===n?d:h)(t),p(),k.on(H,function(){k.off(".tcp")}).on(D,function(t){n(t),p()}))}function c(t){var e=s(t),n=e.pageX-y._offset.left,i=e.pageY-y._offset.top;m.setColor({s:n/S._width*100,v:100-i/S._height*100},"hsv")}function d(t){var e=s(t).pageY-y._offset.top;m.setColor({h:360-e/w._height*360},"hsv")}function h(t){var e=s(t).pageX-y._offset.left,n=e/C._width;m.setColor({},"rgb",n)}function p(t){var e=m.colors,n=e.hueRGB,r=(e.RND.rgb,e.RND.hsl,v.dark),s=v.light,o=m.toString(y._colorMode,v.forceAlpha),a=e.HUELuminance>.22?r:s,l=e.rgbaMixBlack.luminance>.22?r:s,u=(1-e.hsv.h)*w._height,c=e.hsv.s*S._width,d=(1-e.hsv.v)*S._height,h=e.alpha*C._width,p=M?"translate3d":"",g=y[0].value,b=y[0].hasAttribute("value")&&""===g&&t!==i;S._css={backgroundColor:"rgb("+n.r+","+n.g+","+n.b+")"},_._css={transform:p+"("+c+"px, "+d+"px, 0)",left:M?"":c,top:M?"":d,borderColor:e.RGBLuminance>.22?r:s},x._css={transform:p+"(0, "+u+"px, 0)",top:M?"":u,borderColor:"transparent "+a},C._css={backgroundColor:"#"+e.HEX},E._css={transform:p+"("+h+"px, 0, 0)",left:M?"":h,borderColor:l+" transparent"},y._css={backgroundColor:b?"":o,color:b?"":e.rgbaMixBGMixCustom.luminance>.22?r:s},y.text=b?"":g!==o?o:"",t!==i?f(t):j(f)}function f(t){S.css(S._css),_.css(_._css),x.css(x._css),C.css(C._css),E.css(E._css),v.doRender&&y.css(y._css),y.text&&y.val(y.text),v.renderCallback.call(g,y,"boolean"==typeof t?t:i)}var g,m,v,y,b,w,S,_,x,C,E,k=e(document),T=e(),D="touchmove.tcp mousemove.tcp pointermove.tcp",R="touchstart.tcp mousedown.tcp pointerdown.tcp",H="touchend.tcp mouseup.tcp pointerup.tcp",M=!1,j=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){t()},P='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',F=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",I=function(t){m=this.color=new n(t),v=m.options,g=this};I.prototype={render:p,toggle:a},e.fn.colorPicker=function(n){var i=this,s=function(){};return n=e.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:s,buildCallback:s,positionCallback:s,body:document.body,scrollResize:!0,gap:4,dark:"#222",light:"#DDD"},n),!g&&n.scrollResize&&e(t).on("resize.tcp scroll.tcp",function(){g.$trigger&&g.toggle.call(g.$trigger[0],!0)}),T=T.add(this),this.colorPicker=g||new I(n),this.options=n,e(n.body).off(".tcp").on(R,function(t){-1===T.add(b).add(e(b).find(t.target)).index(t.target)&&a()}),this.on("focusin.tcp click.tcp",function(t){g.color.options=e.extend(g.color.options,v=i.options),a.call(this,t)}).on("change.tcp",function(){m.setColor(this.value||"#FFF"),i.colorPicker.render(!0)}).each(function(){var t=r(this),i=t.split("("),s=o(e(this));s.data("colorMode",i[1]?i[0].substr(0,3):"HEX").attr("readonly",v.preventFocus),n.doRender&&s.css({"background-color":t,color:function(){return m.setColor(t).rgbaMixBGMixCustom.luminance>.22?n.dark:n.light}})})},e.fn.colorPicker.destroy=function(){e("*").off(".tcp"),g.toggle(!1),T=e()}}),function(){this.Gws_Popup=function(){function t(){}return t.init=null,t.render=function(t,e){var n;return this.init||(this.init=!0,$(window).resize(function(){return $(".gws-popup").remove()}),$(document).click(function(t){return $(t.target).closest(".gws-popup, .gws-popup-event").length?void 0:$(".gws-popup").remove()})),$(".gws-popup").remove(),n=$("<div class='gws-popup'></div>").html($(e)),$("body").append(n),t.addClass("gws-popup-event"),this.renderPopup(t)},t.renderPopup=function(t){var e,n,i;return e=$(".gws-popup"),$(window).width()<1.5*e.outerWidth()&&e.css("max-width",$(window).width()/2),n=t.offset().left+t.outerWidth()/2-e.outerWidth()/2,i=t.offset().top-e.outerHeight()-20,0>n?(n=t.offset().left+t.outerWidth()/2-20,e.addClass("left")):e.removeClass("left"),n+e.outerWidth()>$(window).width()?(n=t.offset().left-e.outerWidth()+t.outerWidth()/2+20,e.addClass("right")):e.removeClass("right"),0>i?(i=t.offset().top+t.outerHeight(),e.addClass("top")):e.removeClass("top"),e.css({left:n,top:i}).animate({top:"+=10",opacity:1},50)},t}()}.call(this),function(){this.Gws_Member=function(){function t(){}return t.groups=null,t.users=null,t.render=function(){return $(".js-copy-groups").length<2&&($(".js-copy-groups").remove(),$(".js-paste-groups").remove()),$(".js-copy-groups").click(function(){return t.copyGroups($(this))}),$(".js-paste-groups").click(function(){return t.pasteGroups($(this))}),$(".js-copy-users").length<2&&($(".js-copy-users").remove(),$(".js-paste-users").remove()),$(".js-copy-users").click(function(){return t.copyUsers($(this))}),$(".js-paste-users").click(function(){return t.pasteUsers($(this))})},t.confirmReadableSetting=function(){return $(".save").on("click",function(){return 0===$(".gws-addon-readable-setting tbody tr").length?confirm("\u95b2\u89a7\u8005\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u5168\u54e1\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"):void 0})},t.copyGroups=function(t){return this.groups=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.groups.length+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteGroups=function(t){var e;return e=this.pasteItems(t,this.groups),this.showLog(t,e+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.copyUsers=function(t){return this.users=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.users.length+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteUsers=function(t){var e;return e=this.pasteItems(t,this.users),this.showLog(t,e+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteItems=function(t,e){var n,i,r,s;return e&&0!==e.length?(n=t.closest("dl"),n.find("table").show(),s=n.find("tbody"),i=n.find(".hidden-ids").attr("name"),r=0,e.each(function(){var t;return 0===s.find("tr[data-id="+$(this).data("id")+"]").length?(t=$(this).clone(!0),t.find("input").attr("name",i),s.append(t),r+=1):void 0}),r):0},t.showLog=function(t,e){return $(".gws-member-log").remove(),$("<span class='gws-member-log'>"+e+"</span>").appendTo(t.parent()).hide().fadeIn(200)},t}()}.call(this),function(){this.Gws_Reminder=function(){function t(){}return t.renderAddon=function(t){var e,n;return null==t&&(t={}),e=$(".gws-addon-reminder"),n={data:{item:{item_id:e.find("#item_id").val(),model:e.find("#item_model").val(),name:e.find("#item_name").val()}},beforeSend:function(t){return $(".gws-addon-reminder-label").html("")},success:function(t){return $(".gws-addon-reminder-label").html(t)},error:function(t){return alert("Error")}},$.extend(!0,n,t),$("#gws-addon-reminder-set").click(function(){var t;return t={method:"post"},$.extend(!0,t,n),t.data.item.date=e.find("#item_date").val(),$.ajax(t)}),$("#gws-addon-reminder-unset").click(function(){var t;return t={method:"post"},$.extend(!0,t,n),t.data._method="delete",$.ajax(t)})},t.renderList=function(t){var e;return null==t&&(t={}),this.noticeTimer=null,e=function(t,e){switch(e){case"updating":return t.find(".updated").hide(),this.noticeTimer&&clearTimeout(this.noticeTimer),$("#notice").hide();case"updated":return t.find(".updated").show(),$("#notice")[0]||$("#page").append('<aside id="notice"><div class="wrap"></div></aside>'),$("#notice .wrap").html("\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002"),$("#notice").show(),this.noticeTimer=setTimeout(function(){return $("#notice").slideUp("fast")},1500);default:return t.find(".updated").hide()}},$(".list-item").each(function(){return $(this).find(".links").append('<a class="restore" href="#" style="display: none;">\u5143\u306b\u623b\u3059</a>')}),$(".list-item .delete").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{_method:"delete",item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(t){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").hide(),e.find(".restore").show(),e.find(".notification").hide(),!1},error:function(t){return alert("Error")}})}),$(".list-item .restore").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(t){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").show(),e.find(".restore").hide(),e.find(".notification")[0]&&(e.find(".notification")[0].selectedIndex=0),e.find(".notification").show(),!1},error:function(t){return alert("Error")}})}),$(".list-item .notification").change(function(){var n,i,r;return i=$(this).closest(".list-item"),n=this.selectedIndex,r=this.options[n].value,e(i,"updating"),$.ajax({url:t.url+"/notifications",method:"post",data:{item:{item_id:i.data("id"),model:i.data("model"),in_notify_before:r}},success:function(t){return e(i,"updated"),!1},error:function(t){return e(i,"none"),alert("Error")}})})},t}()}.call(this),function(){this.Gws_Schedule_View=function(){function t(){}return t.getCalendar=function(){var t;return t=$("#calendar-controller"),0===t.length&&(t=$("#calendar")),t.fullCalendar("getView").calendar?t:null},t.getCalendarDate=function(){var e;return e=t.getCalendar(),e?e.fullCalendar("getDate").format("YYYY-MM-DD"):null},t.renderTabs=function(e){return $(e).find("a").click(function(){var e,n;return(e=t.getCalendarDate())?(n=$(this).attr("href"),n=n.replace(/(\?.*)?$/,"?calendar[date]="+e),$(this).attr("href",n),!0):!0})},t.renderSideCalendars=function(e){return $(e).find(".fc-toolbar h2").click(function(){var e,n;return n="gws-schedule-tool-calendars",e=t.getCalendarDate(),e=$.fullCalendar.moment(e),$("."+n).is(":hidden")&&$("."+n).remove(),0===$("."+n).length&&t.crenderSideCalendars(n,e),$("."+n).animate({width:"toggle"},"fast")})},t.crenderSideCalendars=function(t,e){var n,i,r;for(n="<div class='"+t+"'><div class='xdsoft_datetimepicker controller'><button type='button' class='xdsoft_prev' /><button type='button' class='xdsoft_next' /></div></div>",$(".gws-schedule-box .calendar:first").before(n),i=r=0;3>=r;i=++r)i>0&&e.add(1,"months"),$("."+t).append("<div class='"+t+"-cal"+i+"'></div>"),$("."+t+"-cal"+i).datetimepicker({timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,scrollMonth:!1,inline:!0,defaultDate:e.format("YYYY-MM-DD"),defaultSelect:!1,todayButton:!1,onGenerate:function(t,e){return $(this).find(".xdsoft_today").removeClass("xdsoft_today"),$(this).find(".xdsoft_current").removeClass("xdsoft_current")},onSelectDate:function(t,n){return e=sprintf("%d-%02d-%02d",t.getFullYear(),t.getMonth()+1,t.getDate()),$(".calendar").fullCalendar("gotoDate",e)}});return $("."+t).find(".xdsoft_month, .xdsoft_year").unbind("mousedown").find("i").remove(),$("."+t+" .xdsoft_datetimepicker").not(".controller.controller").find(".xdsoft_prev, .xdsoft_next").hide(),$("."+t+" .controller .xdsoft_prev").mousedown(function(){var e,n;for(n=[],i=e=1;4>=e;i=++e)n.push($("."+t+" .xdsoft_prev").not(this).mousedown().mouseup());return n}),$("."+t+" .controller .xdsoft_next").mousedown(function(){var e,n;for(n=[],i=e=1;4>=e;i=++e)n.push($("."+t+" .xdsoft_next").not(this).mousedown().mouseup());return n})},t}()}.call(this),function(){this.Gws_Schedule_Calendar=function(){function t(){}return t.messages={noPlan:"\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093"},t.render=function(t,e,n){var i;return null==e&&(e={}),null==n&&(n={}),i=this.defaultParams(e),e.restUrl&&$.extend(!0,i,this.editableParams(e)),e.restUrl&&$.extend(!0,i,this.tapMenuParams(e)),$.extend(!0,i,e),$(t).fullCalendar(i),this.renderInitialize(t,n)},t.renderInitialize=function(t,e){return null==e&&(e={}),e.view&&$(t).fullCalendar("changeView",e.view),e.date&&$(t).fullCalendar("gotoDate",e.date),Gws_Schedule_View.renderSideCalendars(t)},t.defaultParams=function(t){return{buttonText:{listMonth:"\u30ea\u30b9\u30c8"},columnFormat:{month:"ddd",week:"M/D [(]ddd[)]",day:"M/D [(]ddd[)]"},contentHeight:"auto",displayEventEnd:{basicWeek:!0},endParam:"s[end]",fixedWeekCount:!1,header:{left:"today prev next title",right:"month basicWeek agendaDay listMonth"},lang:"ja",nextDayThreshold:"00:00:00",schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",slotLabelFormat:"HH:mm",startParam:"s[start]",timeFormat:"HH:mm",titleFormat:{month:"YYYY\u5e74 M\u6708",week:"(YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09)",day:"YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09"},loading:function(t,e){return t?$(this).find(".fc-widget-content").eq(0).prepend('<span class="fc-loading">\u8aad\u307f\u8fbc\u307f\u4e2d</span>'):$(this).find(".fc-loading").remove()}}},t.tapMenuParams=function(t){var e;return e=t.restUrl,{dayClick:function(n,i,r){var s,o,a;return t.tapMenu?(o=new Date,a=n.format()+"T"+o.getHours()+":00:00",s="<a href='"+e+"/new?start="+a+"' class='add-plan'>\u4e88\u5b9a\u3092\u4f5c\u6210</a>",$("body").append('<div class="tap-menu">'+s+"</div>"),$(".tap-menu").show().css("left",i.pageX-5).css("top",i.pageY-5).show(),$(".tap-menu a").click(function(){var t;return $(this).data("view")?(t=r.calendar.getCalendar(),t.changeView($(this).data("view")),t.gotoDate(n),$(".tap-menu").remove(),!1):void 0}),$(".tap-menu").mouseleave(function(){return $(".tap-menu").remove()})):void 0}}},t.editableParams=function(t){var e;return e=t.restUrl,{editable:!0,eventClick:function(t,n,i){var r;if(!t.noPopup)return r=$(this),Gws_Popup.render(r,"<div class='fc-popup'><span class='fc-loading'>\u8aad\u307f\u8fbc\u307f\u4e2d</span></div>"),$.ajax({url:e+"/"+t.id+"/popup",success:function(t){return $(".fc-popup").html(t),Gws_Popup.renderPopup(r)}})},eventDrop:function(t,n,i,r,s,o){var a;return a=null,t.end&&(a=t.end.format()),$.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"drop",api_start:t.start.format(),api_end:a}},success:function(t,e){var n;return n=o.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(t,e,n){return alert(t.responseJSON.join("\n")),i()}})},eventResize:function(t,n,i){return $.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"resize",api_start:t.start.format(),api_end:t.end.format()}},success:function(t,e){var n;return n=view.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(t,e,n){return alert(t.responseJSON.join("\n")),i()}})}}},t}()}.call(this);var FC=$.fullCalendar,View=FC.View;BasicHourView=FC.views.basicHour=FC.BasicView.extend({renderEvents:function(t){this.dayGrid.renderEvents(t),head='<tr><td class="fc-head-container fc-widget-header">',head+='<div class="fc-row fc-widget-header">',head+="<table><thead><tr>";for(i in[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])head+='<th class="fc-day-header fc-widget-header fc-hour-'+i+'">'+i+"</th>";head+="</tr></thead></table>",head+="</div>",head+="</td></tr>",this.el.find(".fc-head").html(head)}}),BasicHourView.eventRender=function(t,e,n){var i=BasicHourView.eventLeftPosition(t,n),r=BasicHourView.eventRightPosition(t,n),s=r-i;1>s&&(s=1),e.find(".fc-time").remove(),e.css({position:"absolute",top:"2px",width:s.toString()+"%","margin-left":i+"%"})},BasicHourView.eventLeftPosition=function(t,e){if(nums=BasicHourView.datesToNum(t.start,e.start),nums[0]<nums[1])return 0;var n=new Date(t.start._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.eventRightPosition=function(t,e){if(!t.end)return 1;if(nums=BasicHourView.datesToNum(t.end,e.end),nums[0]==nums[1])return 99.5;var n=new Date(t.end._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.datesToNum=function(t,e){return num1=1e4*t.year()+100*(t.month()+1)+t.date(),num2=1e4*e.year()+100*(e.month()+1)+e.date(),[num1,num2]};var FC=$.fullCalendar,View=FC.View,ListMonthView=FC.ListMonthView=FC.BasicView.extend({renderEvents:function(t){var e=this.calendar,n=$('<div class="fc-listMonth-view-container"></div>').appendTo(".fc-listMonth-view"),i=$('<div class="fc-listMonth-view-table"></div>');for(var r in t){var s=t[r];if(-1==s.className.indexOf("fc-holiday")){var o=$('<a class="fc-event fc-event-point"></a>').text(s.title);o.css({color:s.textColor,"background-color":s.backgroundColor}),o.bind("click",function(n){var i=$(this).data("eventNo");return e.view.trigger("eventClick",$(this),t[i],n)}).data("eventNo",r);var a=$('<div class="td info"></div>').append(o),l=$('<div class="td date"></div>').text(s.startDateLabel),u=$('<div class="td time"></div>').text(s.startTimeLabel);s.allDay&&u.text(s.allDayLabel),$('<div class="tr"></div>').appendTo(i).append(l).append(u).append(a),i.appendTo(n)}}if(0==$(".fc-event").length){var c=$('<div class="td">'+Gws_Schedule_Calendar.messages.noPlan+"</div>");$('<div class="tr"></div>').appendTo(i).append(c),i.appendTo(n)}}});FC.views.listMonth={"class":ListMonthView,duration:{months:1},defaults:{fixedWeekCount:!1}},function(){this.Gws_Schedule_Multiple_Calendar=function(){function t(){}return t.render=function(t,e,n){var i;return null==e&&(e={}),null==n&&(n={}),i=Gws_Schedule_Calendar.defaultParams(e),e.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.editableParams(e)),e.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.tapMenuParams(e)),$.extend(!0,i,this.defaultParams(e)),$.extend(!0,i,this.contentParams(e)),$.extend(!0,i,e),$(t).fullCalendar(i),Gws_Schedule_Calendar.renderInitialize(t,n),$(document).click(function(t){return $(".fc-event").not($(t.target).closest(".fc-event")).find(".fc-popup").remove()})},t.defaultParams=function(t){return{defaultView:"basicWeek",header:{left:"today prev next title",right:"basicWeek timelineDay"},slotDuration:"01:00",slotLabelFormat:"H",views:{basicHour:{type:"day",buttonText:"\u65e5",contentHeight:25},timelineDay:{contentHeight:25,minTime:"08:00",maxTime:"22:00"}}}},t.controllerParams=function(t){return{header:{left:"today prev next title",right:"basicWeek timelineDay"},eventSources:[],eventAfterAllRender:function(t){return"basicWeek"===t.name?t.el.find(".fc-body").hide():void 0}}},t.contentParams=function(t){return{eventRender:function(t,e,n){return"basicHour"===n.name?BasicHourView.eventRender(t,e,n):void 0},eventAfterAllRender:function(t){}}},t.renderController=function(t,e,n){var i,r;return null==e&&(e={}),null==n&&(n={}),r=Gws_Schedule_Calendar.defaultParams(e),$.extend(!0,r,this.defaultParams(e)),$.extend(!0,r,this.controllerParams(e)),$.extend(!0,r,e),$(t).fullCalendar(r),Gws_Schedule_Calendar.renderInitialize(t,n),i=$(t),i.find(".fc-today-button").click(function(){return $(".calendar.multiple .fc-today-button").click()}),i.find(".fc-prev-button").click(function(){return $(".calendar.multiple .fc-prev-button").click()}),i.find(".fc-next-button").click(function(){return $(".calendar.multiple .fc-next-button").click()}),i.find(".fc-basicWeek-button").click(function(){return $(".calendar.multiple .fc-basicWeek-button").click()}),i.find(".fc-timelineDay-button").click(function(){return $(".calendar.multiple .fc-timelineDay-button").click()}),i.find(".fc-basicHour-button").click(function(){return $(".calendar.multiple .fc-basicHour-button").click()})},t}()}.call(this),function(){this.Gws_Schedule_Plan=function(){function t(){}return t.diffOn=36e5,t.renderForm=function(t){return null==t&&(t={}),$("input.date").datetimepicker({lang:"ja",timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,maxDate:t.maxDate}),$("input.datetime").datetimepicker({lang:"ja",roundTime:"ceil",step:30,maxDate:t.maxDate}),this.relateDateForm(),this.relateDateTimeForm()},t.renderAlldayForm=function(){return this.changeDateForm(),$("#item_allday").change(function(){return t.changeDateValue(),t.changeDateForm()})},t.changeDateValue=function(){var t,e;return $("#item_allday").prop("checked")?($("#item_start_on").val($("#item_start_at").val().replace(/ .*/,"")),$("#item_end_on").val($("#item_end_at").val().replace(/ .*/,""))):(e=$("#item_start_at").val().replace(/.* /,""),t=$("#item_end_at").val().replace(/.* /,""),""===e&&""!==$("#item_start_on").val()&&(e="00:00"),""===t&&""!==$("#item_end_on").val()&&(t="00:00"),$("#item_start_at").val($("#item_start_on").val()+(" "+e)),$("#item_end_at").val($("#item_end_on").val()+(" "+t)))},t.changeDateForm=function(){return $("#item_allday").prop("checked")?($(".dates-field").show(),$(".datetimes-field").hide()):($(".dates-field").hide(),$(".datetimes-field").show())},t.relateDateForm=function(e,n){return null==e&&(e=".date.start"),null==n&&(n=".date.end"),$(e+", "+n).click(function(){return t.diffOn=t.diffDates($(e).val(),$(n).val())}),$(e).change(function(){var i,r,s;return s=$(e).val(),s&&(s=new Date(s).getTime(),!isNaN(s))?(i=new Date,i.setTime(s+t.diffOn),r="%d/%02d/%02d",$(e).hasClass("datetime")&&(r="%d/%02d/%02d %02d:%02d"),$(n).val(sprintf(r,i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()))):void 0}),""===$(n).val()?$(e).change():void 0},t.relateDateTimeForm=function(){return this.relateDateForm(".datetime.start",".datetime.end")},t.diffDates=function(t,e){var n;return t&&e?(n=new Date(e).getTime()-new Date(t).getTime(),0>n?0:n):36e5},t}()}.call(this),function(){this.Gws_Schedule_Repeat_Plan=function(){function t(){}return t.renderForm=function(){return this.changeRepeatForm(),this.relateDateForm(),$("#item_repeat_type").change(function(){return t.changeRepeatForm()})},t.changeRepeatForm=function(){var t;return t=$("#item_repeat_type").val(),""===t?$(".gws-schedule-repeat").hide():($(".gws-schedule-repeat").show(),$(".repeat-daily, .repeat-weekly, .repeat-monthly").hide(),$(".repeat-"+t).show())},t.relateDateForm=function(){return Gws_Schedule_Plan.relateDateForm(".date.repeat_start",".date.repeat_end")},t.renderSubmitButtons=function(){var t,e,n,i,r,s;return r=$("#main form"),s='<span class="gws-schedule-btn-space"></span>',t=$('<input type="button" class="btn" value="\u4eca\u56de\u306e\u307f" />'),e=$('<input type="button" class="btn" value="\u4ee5\u964d\u3059\u3079\u3066" />'),n=$('<input type="button" class="btn" value="\u4e00\u9023\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3059\u3079\u3066" />'),t.bind("click",function(){return r.append('<input type="hidden" name="item[edit_range]" value="one" />').submit()}),e.bind("click",function(){return r.append('<input type="hidden" name="item[edit_range]" value="later" />').submit()}),n.bind("click",function(){return r.append('<input type="hidden" name="item[edit_range]" value="all" />').submit()}),i=$('<div class="gws-schedule-repeat-submit"></div>'),i.append(t).append(s).append(e).append(s).append(n),$(".send .save, .send .delete").click(function(){return""!==$("#item_repeat_type").val()?($.colorbox({inline:!0,href:i}),!1):void 0})},t}()}.call(this),function(){$(function(){var t;return $("a[href^=http]").not('[href*="'+location.hostname+'"]').attr({target:"_blank"}),t=location.pathname+"/",$(".gws-schedule-tabs a").each(function(){var e;return e=$(this),t.match(new RegExp("^"+e.attr("href")+"(/|$)"))?e.addClass("current"):void 0}),Gws_Member.render()}),this.Gws=function(){function t(){}return t.renderColorPicker=function(t){var e,n;return null==t&&(t={}),n=t.selector||"#item_color",$(n).colorPicker().data("colorMode","HEX"),t.clear?(e=$("<input type='button' class='btn' value='\u30af\u30ea\u30a2' />").uniqueId(),$(n).after(e).after(" "),$("#"+e.attr("id")).click(function(){return $(n).val("#FFFFFF"),$(n).colorPicker({doRender:!0}).data("colorMode","HEX"),$(n).val("")})):void 0},t}()}.call(this);