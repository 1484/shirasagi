this.Openlayers_Facility_Search=function(){function e(){}return e.render=function(e,t){var r,a,s,n;return null==t&&(t={}),n=function(e){var t,r,a;return t=e.offset().top,r=e.closest("#map-sidebar").offset().top,a=e.closest("#map-sidebar").scrollTop(),e.closest("#map-sidebar").animate({scrollTop:t-r+a},"fast")},r=$(e)[0],a=new Openlayers_Map(r,t),s=a.showPopup,a.showPopup=function(e,t){var r,i;return s.call(a,e,t),$("#map-sidebar .column").removeClass("current"),i=e.get("markerId"),(r=$('#map-sidebar .column[data-id="'+i+'"]')).addClass("current"),n(r)},$("#map-sidebar .column .click-marker").on("click",function(){var e,t,r;return t=parseInt($(this).closest(".column").attr("data-id")),$("#map-sidebar .column").removeClass("current"),!!(r=a.getMarker(t))&&(e=r.getGeometry().getCoordinates(),a.showPopup(r,e),!1)}),$(".filters a").on("click",function(){var e,t;return $(this).hasClass("clicked")?$(this).removeClass("clicked"):$(this).addClass("clicked"),e=[],$(".filters a.clicked").each(function(){return e.push(parseInt($(this).attr("data-id")))}),t=a.getMarkers(),$.each(t,function(){var t,r,s,n,i;return i=!1,t=this.get("category"),$.each(e,function(){if($.inArray(parseInt(this),t)>=0)return i=!0,!1}),r=this.get("markerId"),$('#map-sidebar .column[data-id="'+r+'"]'),a.popup.hide(),i?(s=this.get("iconSrc"),n=a.createMarkerStyle(s),this.setStyle(n)):(n=new ol.style.Style({}),this.setStyle(n))}),!1}),$(".filters .focus").on("change",function(){var e;return(e=$(this)).find("option:selected").each(function(){var t,r,s;return""!==$(this).val()&&(t=$(this).val().split(","),s=$(this).attr("data-zoom-level"),r=[parseFloat(t[1]),parseFloat(t[0])],a.setCenter(r),s&&a.setZoom(parseInt(s)),e.val(""))})})},e}();