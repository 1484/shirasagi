this.Googlemaps_Map=function(){function a(){}return a.map=null,a.form=null,a.center=[36.204824,138.252924],a.defaultZoom=13,a.zoom=-1,a.markers=null,a.openedInfo=null,a.resized=null,a.kmlLayer=null,a.attachMessage=function(e){return google.maps.event.addListener(a.markers[e].marker,"click",function(){return a.openedInfo&&a.openedInfo.close(),a.markers[e].window&&a.markers[e].window.open(a.markers[e].marker.getMap(),a.markers[e].marker),a.openedInfo=a.markers[e].window}),google.maps.event.addListener(a.markers[e].window,"closeclick",function(){return a.openedInfo=null})},a.setForm=function(e){return this.form=e},a.load=function(e,o){var t,n;(set_center_position=o.set_center_position,set_center_position)&&(set_center_position=set_center_position.split(",").map(Number),t=set_center_position[0],n=set_center_position[1],t&&!isNaN(t)||(set_center_position=null),n&&!isNaN(n)||(set_center_position=null),-90<=t&&t<=90&&-180<=n&&n<=180?set_center_position:set_center_position=null);set_zoom_level=o.set_zoom_level,o&&o.zoom&&(a.zoom=o.zoom),default_zoom=o.default_zoom||a.defaultZoom;var r={center:new google.maps.LatLng(this.center[0],this.center[1]),zoom:a.getZoom(),mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},mapTypeControl:!0,scaleControl:!0,scrollwheel:!0,streetViewControl:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!0}};a.map=new google.maps.Map($(e).get(0),r)},a.getZoom=function(){return 0<=a.zoom?a.zoom:a.defaultZoom},a.resize=function(){return google.maps.event.trigger(this.map,"resize"),this.resized||(this.map.setCenter(new google.maps.LatLng(this.center[0],this.center[1])),this.form&&this.form.renderMarkers()),this.resized=!0},a.renderMarkers=function(){if(this.form)return this.form.renderMarkers()},a.renderEvents=function(){if(this.form)return this.form.renderEvents()},a.setMarkers=function(e){var s;a.markers=e,s=new google.maps.LatLngBounds,$.each(a.markers,function(e,o){var t,n,r;o.image?a.markers[e].marker=new google.maps.Marker({position:new google.maps.LatLng(o.loc[0],o.loc[1]),icon:o.image,map:a.map}):a.markers[e].marker=new google.maps.Marker({position:new google.maps.LatLng(o.loc[0],o.loc[1]),map:a.map}),s.extend(new google.maps.LatLng(o.loc[0],o.loc[1])),o.html?(t=o.html,a.markers[e].window=new google.maps.InfoWindow({content:t}),a.attachMessage(e)):(o.name||o.text)&&(n=o.name,r=o.text,t='<div class="marker-info">',n&&""!==n&&(t+="<p>"+n+"</p>",r&&""!==r&&$.each(r.split(/[\r\n]+/),function(){return this.match(/^https?:\/\//)?t+='<p><a href="'+this+'">'+this+"</a></p>":t+="<p>"+this+"</p>"})),t+="</div>",a.markers[e].window=new google.maps.InfoWindow({content:t}),a.attachMessage(e))}),a.adjustMarkerBounds(a.markers.length,s)},a.setKmlLayer=function(e){a.kmlLayer=new google.maps.KmlLayer({url:e,suppressInfoWindows:!0,preserveViewport:!1})},a.setGeoJson=function(e){a.map.data.setStyle({fillColor:"#b2c9e8",strokeColor:"#5A88C6",strokeWeight:1}),a.map.data.loadGeoJson(e,{},function(e){var o=new google.maps.LatLngBounds,t=[];e.forEach(function(e){e.getGeometry().forEachLatLng(function(e){o.extend(e),t.push(e)})}),a.adjustMarkerBounds(t.length,o)})},a.adjustMarkerBounds=function(e,o){return e<=0&&!set_center_position&&!set_zoom_level?(a.map.setCenter(new google.maps.LatLng(a.center[0],a.center[1])),void a.map.setZoom(default_zoom)):e<=0&&!set_center_position&&set_zoom_level?(a.map.setCenter(new google.maps.LatLng(a.center[0],a.center[1])),void a.map.setZoom(set_zoom_level)):1!=e||set_center_position||set_zoom_level?e<=2&&!set_center_position&&!set_zoom_level?(a.map.setCenter(o.getCenter()),void a.map.fitBounds(o)):set_center_position&&set_zoom_level?(a.map.setCenter(new google.maps.LatLng(set_center_position[0],set_center_position[1])),void a.map.setZoom(set_zoom_level)):set_center_position&&!set_zoom_level?(a.map.setCenter(new google.maps.LatLng(set_center_position[0],set_center_position[1])),void a.map.setZoom(default_zoom)):!set_center_position&&set_zoom_level?(a.map.setCenter(o.getCenter()),void a.map.setZoom(set_zoom_level)):void 0:(a.map.setCenter(o.getCenter()),void a.map.setZoom(default_zoom))},a}();