<%= form_for :item, url: { action: :role_update }, html: { id: "item-form", method: :put, multipart: true, autocomplete: :off } do |f| %>
  <%= error_messages_for :item %>

  <div class="addon-views">
    <%= render "ss/crud/addon_form", addon: { id: "addon-basic", head: t("ss.role_setting") } do %>
      <div class="col12 mb-3">
        <label><%= t("ss.group_users") %></label>
        <div><%= @item.users.map(&:name).join(", ") %></div>
      </div>

      <div class="col12 mb-3">
        <label><%= t("ss.role") %></label>
        <div>
          <%= f.hidden_field "sys_role_ids[]", value: "" %>
          <% Sys::Role.order_by(name: 1).each do |role| %>
            <label><%= f.check_box("sys_role_ids[]", {}, role.id) %> <%= role.name %></label><br />
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <footer class="send">
    <%= f.submit t("ss.buttons.save"), class: 'btn btn-primary save' %>
    <%= f.button t("ss.buttons.cancel"), class: 'btn btn-default', type: :reset, onclick: "location.href='#{url_for(action: :show)}'; return false;" %>
  </footer>
<% end %>
