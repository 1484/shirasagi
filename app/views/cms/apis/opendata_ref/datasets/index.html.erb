<%= jquery do %> SS_SearchUI.modal(); <% end %>

<div class="content-search card mb-3">
  <div class="card-body search-ui-form">
  <%= form_for :s, url: { action: :index }, html: { method: "GET", class: "search no-form-inline" } do |f| %>
    <%= f.text_field :name, value: params[:s].try(:[], :name) %>
    <%= hidden_field_tag :single, params[:single] if params[:single].present? %>
    <%= f.submit  t("cms.apis.opendata_ref.datasets.search"), class: "btn btn-outline-primary" %>
  <% end %>
  </div>
</div>

<%= paginate @items if @items.try(:current_page) %>

<div class="table-responsive">
  <table class="table table-striped index cms-apis-opendata-ref-datasets">
    <thead class="list-head">
      <tr>
        <% if @multi %>
        <th class="checkbox"><input type="checkbox" /></th>
        <% end %>
        <th class="name"><%= @model.t :name %></th>
        <th class="filename"><%= @model.t :filename %></th>
        <th class="updated"><%= @model.t :updated %></th>
        <th class="site-name"><%= Cms::Site.t :name %></th>
      </tr>
    </thead>
    <tbody class="items">
      <% @items.each do |item| %>
        <tr data-id="<%= item.id %>" class="list-item">
          <% if @multi %>
          <td class="checkbox">
            <input type="checkbox" name="ids[]" value="<%= item.id %>" />
          </td>
          <% end %>
          <td class="name"><%= link_to item.name, "#", class: @multi ? "select-item" : "select-single-item" %></td>
          <td class="filename"><%= item.filename %></td>
          <td class="updated"><%= item.updated.strftime("%Y/%m/%d %H:%M") %></td>
          <td class="site-name"><%= item.site.name %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="search-ui-select">
  <%= button_tag t("cms.apis.opendata_ref.datasets.select"), { type: :button, class: "select-items btn btn-outline-primary" } %>
</div>

<%= paginate @items if @items.try(:current_page) %>
